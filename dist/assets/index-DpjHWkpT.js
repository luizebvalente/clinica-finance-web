(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var cp={exports:{}},lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function yS(){if(Wx)return lc;Wx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:u,ref:o!==void 0?o:null,props:l}}return lc.Fragment=e,lc.jsx=t,lc.jsxs=t,lc}var Jx;function vS(){return Jx||(Jx=1,cp.exports=yS()),cp.exports}var h=vS(),up={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function xS(){if(Zx)return ke;Zx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,j={};function k(V,re,ce){this.props=V,this.context=re,this.refs=j,this.updater=ce||S}k.prototype.isReactComponent={},k.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function B(){}B.prototype=k.prototype;function Y(V,re,ce){this.props=V,this.context=re,this.refs=j,this.updater=ce||S}var X=Y.prototype=new B;X.constructor=Y,R(X,k.prototype),X.isPureReactComponent=!0;var ie=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function M(V,re,ce,ae,me,je){return ce=je.ref,{$$typeof:r,type:V,key:re,ref:ce!==void 0?ce:null,props:je}}function E(V,re){return M(V.type,re,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return re[ce]})}var z=/\/+/g;function C(V,re){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):re.toString(36)}function D(){}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function De(V,re,ce,ae,me){var je=typeof V;(je==="undefined"||je==="boolean")&&(V=null);var Ee=!1;if(V===null)Ee=!0;else switch(je){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(V.$$typeof){case r:case e:Ee=!0;break;case x:return Ee=V._init,De(Ee(V._payload),re,ce,ae,me)}}if(Ee)return me=me(V),Ee=ae===""?"."+C(V,0):ae,ie(me)?(ce="",Ee!=null&&(ce=Ee.replace(z,"$&/")+"/"),De(me,re,ce,"",function(on){return on})):me!=null&&(I(me)&&(me=E(me,ce+(me.key==null||V&&V.key===me.key?"":(""+me.key).replace(z,"$&/")+"/")+Ee)),re.push(me)),1;Ee=0;var Le=ae===""?".":ae+":";if(ie(V))for(var Ze=0;Ze<V.length;Ze++)ae=V[Ze],je=Le+C(ae,Ze),Ee+=De(ae,re,ce,je,me);else if(Ze=w(V),typeof Ze=="function")for(V=Ze.call(V),Ze=0;!(ae=V.next()).done;)ae=ae.value,je=Le+C(ae,Ze++),Ee+=De(ae,re,ce,je,me);else if(je==="object"){if(typeof V.then=="function")return De(de(V),re,ce,ae,me);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Q(V,re,ce){if(V==null)return V;var ae=[],me=0;return De(V,ae,"","",function(je){return re.call(ce,je,me++)}),ae}function oe(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var se=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Fe(){}return ke.Children={map:Q,forEach:function(V,re,ce){Q(V,function(){re.apply(this,arguments)},ce)},count:function(V){var re=0;return Q(V,function(){re++}),re},toArray:function(V){return Q(V,function(re){return re})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ke.Component=k,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=Y,ke.StrictMode=a,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,ke.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ue.H.useMemoCache(V)}},ke.cache=function(V){return function(){return V.apply(null,arguments)}},ke.cloneElement=function(V,re,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=R({},V.props),me=V.key,je=void 0;if(re!=null)for(Ee in re.ref!==void 0&&(je=void 0),re.key!==void 0&&(me=""+re.key),re)!ve.call(re,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&re.ref===void 0||(ae[Ee]=re[Ee]);var Ee=arguments.length-2;if(Ee===1)ae.children=ce;else if(1<Ee){for(var Le=Array(Ee),Ze=0;Ze<Ee;Ze++)Le[Ze]=arguments[Ze+2];ae.children=Le}return M(V.type,me,void 0,void 0,je,ae)},ke.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},ke.createElement=function(V,re,ce){var ae,me={},je=null;if(re!=null)for(ae in re.key!==void 0&&(je=""+re.key),re)ve.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(me[ae]=re[ae]);var Ee=arguments.length-2;if(Ee===1)me.children=ce;else if(1<Ee){for(var Le=Array(Ee),Ze=0;Ze<Ee;Ze++)Le[Ze]=arguments[Ze+2];me.children=Le}if(V&&V.defaultProps)for(ae in Ee=V.defaultProps,Ee)me[ae]===void 0&&(me[ae]=Ee[ae]);return M(V,je,void 0,void 0,null,me)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(V){return{$$typeof:m,render:V}},ke.isValidElement=I,ke.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:oe}},ke.memo=function(V,re){return{$$typeof:y,type:V,compare:re===void 0?null:re}},ke.startTransition=function(V){var re=ue.T,ce={};ue.T=ce;try{var ae=V(),me=ue.S;me!==null&&me(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Fe,se)}catch(je){se(je)}finally{ue.T=re}},ke.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},ke.use=function(V){return ue.H.use(V)},ke.useActionState=function(V,re,ce){return ue.H.useActionState(V,re,ce)},ke.useCallback=function(V,re){return ue.H.useCallback(V,re)},ke.useContext=function(V){return ue.H.useContext(V)},ke.useDebugValue=function(){},ke.useDeferredValue=function(V,re){return ue.H.useDeferredValue(V,re)},ke.useEffect=function(V,re,ce){var ae=ue.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(V,re)},ke.useId=function(){return ue.H.useId()},ke.useImperativeHandle=function(V,re,ce){return ue.H.useImperativeHandle(V,re,ce)},ke.useInsertionEffect=function(V,re){return ue.H.useInsertionEffect(V,re)},ke.useLayoutEffect=function(V,re){return ue.H.useLayoutEffect(V,re)},ke.useMemo=function(V,re){return ue.H.useMemo(V,re)},ke.useOptimistic=function(V,re){return ue.H.useOptimistic(V,re)},ke.useReducer=function(V,re,ce){return ue.H.useReducer(V,re,ce)},ke.useRef=function(V){return ue.H.useRef(V)},ke.useState=function(V){return ue.H.useState(V)},ke.useSyncExternalStore=function(V,re,ce){return ue.H.useSyncExternalStore(V,re,ce)},ke.useTransition=function(){return ue.H.useTransition()},ke.version="19.1.0",ke}var e_;function xg(){return e_||(e_=1,up.exports=xS()),up.exports}var L=xg(),dp={exports:{}},cc={},hp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function _S(){return t_||(t_=1,function(r){function e(Q,oe){var se=Q.length;Q.push(oe);e:for(;0<se;){var Fe=se-1>>>1,V=Q[Fe];if(0<o(V,oe))Q[Fe]=oe,Q[se]=V,se=Fe;else break e}}function t(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var oe=Q[0],se=Q.pop();if(se!==oe){Q[0]=se;e:for(var Fe=0,V=Q.length,re=V>>>1;Fe<re;){var ce=2*(Fe+1)-1,ae=Q[ce],me=ce+1,je=Q[me];if(0>o(ae,se))me<V&&0>o(je,ae)?(Q[Fe]=je,Q[me]=se,Fe=me):(Q[Fe]=ae,Q[ce]=se,Fe=ce);else if(me<V&&0>o(je,se))Q[Fe]=je,Q[me]=se,Fe=me;else break e}}return oe}function o(Q,oe){var se=Q.sortIndex-oe.sortIndex;return se!==0?se:Q.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();r.unstable_now=function(){return u.now()-m}}var p=[],y=[],x=1,T=null,w=3,S=!1,R=!1,j=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ie(Q){for(var oe=t(y);oe!==null;){if(oe.callback===null)a(y);else if(oe.startTime<=Q)a(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(y)}}function ue(Q){if(j=!1,ie(Q),!R)if(t(p)!==null)R=!0,ve||(ve=!0,C());else{var oe=t(y);oe!==null&&De(ue,oe.startTime-Q)}}var ve=!1,M=-1,E=5,I=-1;function P(){return k?!0:!(r.unstable_now()-I<E)}function z(){if(k=!1,ve){var Q=r.unstable_now();I=Q;var oe=!0;try{e:{R=!1,j&&(j=!1,Y(M),M=-1),S=!0;var se=w;try{t:{for(ie(Q),T=t(p);T!==null&&!(T.expirationTime>Q&&P());){var Fe=T.callback;if(typeof Fe=="function"){T.callback=null,w=T.priorityLevel;var V=Fe(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof V=="function"){T.callback=V,ie(Q),oe=!0;break t}T===t(p)&&a(p),ie(Q)}else a(p);T=t(p)}if(T!==null)oe=!0;else{var re=t(y);re!==null&&De(ue,re.startTime-Q),oe=!1}}break e}finally{T=null,w=se,S=!1}oe=void 0}}finally{oe?C():ve=!1}}}var C;if(typeof X=="function")C=function(){X(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,de=D.port2;D.port1.onmessage=z,C=function(){de.postMessage(null)}}else C=function(){B(z,0)};function De(Q,oe){M=B(function(){Q(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var se=w;w=oe;try{return Q()}finally{w=se}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var se=w;w=Q;try{return oe()}finally{w=se}},r.unstable_scheduleCallback=function(Q,oe,se){var Fe=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Fe+se:Fe):se=Fe,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=se+V,Q={id:x++,callback:oe,priorityLevel:Q,startTime:se,expirationTime:V,sortIndex:-1},se>Fe?(Q.sortIndex=se,e(y,Q),t(p)===null&&Q===t(y)&&(j?(Y(M),M=-1):j=!0,De(ue,se-Fe))):(Q.sortIndex=V,e(p,Q),R||S||(R=!0,ve||(ve=!0,C()))),Q},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Q){var oe=w;return function(){var se=w;w=oe;try{return Q.apply(this,arguments)}finally{w=se}}}}(fp)),fp}var n_;function bS(){return n_||(n_=1,hp.exports=_S()),hp.exports}var mp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function wS(){if(r_)return tn;r_=1;var r=xg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,y,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:x}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(p,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(p,y,null,x)},tn.flushSync=function(p){var y=u.T,x=a.p;try{if(u.T=null,a.p=2,p)return p()}finally{u.T=y,a.p=x,a.d.f()}},tn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},tn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},tn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var x=y.as,T=m(x,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:S}):x==="script"&&a.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},tn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,T=m(x,y.crossOrigin);a.d.L(p,x,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(p,y){if(typeof p=="string")if(y){var x=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},tn.requestFormReset=function(p){a.d.r(p)},tn.unstable_batchedUpdates=function(p,y){return p(y)},tn.useFormState=function(p,y,x){return u.H.useFormState(p,y,x)},tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var s_;function ES(){if(s_)return mp.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mp.exports=wS(),mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function TS(){if(a_)return cc;a_=1;var r=bS(),e=xg(),t=ES();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,i=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(i=s.return),n=s.return;while(n)}return s.tag===3?i:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(a(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(a(188));return s!==n?null:n}for(var i=n,c=s;;){var f=i.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===i)return m(f),n;if(g===c)return m(f),s;g=g.sibling}throw Error(a(188))}if(i.return!==c.return)i=f,c=g;else{for(var b=!1,A=f.child;A;){if(A===i){b=!0,i=f,c=g;break}if(A===c){b=!0,c=f,i=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===i){b=!0,i=g,c=f;break}if(A===c){b=!0,c=g,i=f;break}A=A.sibling}if(!b)throw Error(a(189))}}if(i.alternate!==c)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function C(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function de(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case ue:return"Suspense";case ve:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case X:return(n.displayName||"Context")+".Provider";case Y:return(n._context.displayName||"Context")+".Consumer";case ie:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return s=n.displayName||null,s!==null?s:de(n.type)||"Memo";case E:s=n._payload,n=n._init;try{return de(n(s))}catch{}}return null}var De=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Fe=[],V=-1;function re(n){return{current:n}}function ce(n){0>V||(n.current=Fe[V],Fe[V]=null,V--)}function ae(n,s){V++,Fe[V]=n.current,n.current=s}var me=re(null),je=re(null),Ee=re(null),Le=re(null);function Ze(n,s){switch(ae(Ee,s),ae(je,n),ae(me,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Sx(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Sx(s),n=Ax(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(me),ae(me,n)}function on(){ce(me),ce(je),ce(Ee)}function _n(n){n.memoizedState!==null&&ae(Le,n);var s=me.current,i=Ax(s,n.type);s!==i&&(ae(je,n),ae(me,i))}function bn(n){je.current===n&&(ce(me),ce(je)),Le.current===n&&(ce(Le),rc._currentValue=se)}var kn=Object.prototype.hasOwnProperty,Na=r.unstable_scheduleCallback,Ra=r.unstable_cancelCallback,el=r.unstable_shouldYield,cu=r.unstable_requestPaint,On=r.unstable_now,cf=r.unstable_getCurrentPriorityLevel,tl=r.unstable_ImmediatePriority,Ri=r.unstable_UserBlockingPriority,Ca=r.unstable_NormalPriority,uf=r.unstable_LowPriority,Ci=r.unstable_IdlePriority,nl=r.log,uu=r.unstable_setDisableYieldValue,pt=null,et=null;function wn(n){if(typeof nl=="function"&&uu(n),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(pt,n)}catch{}}var Zt=Math.clz32?Math.clz32:Ia,du=Math.log,df=Math.LN2;function Ia(n){return n>>>=0,n===0?32:31-(du(n)/df|0)|0}var ja=256,Da=4194304;function Jn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ii(n,s,i){var c=n.pendingLanes;if(c===0)return 0;var f=0,g=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?f=Jn(c):(b&=A,b!==0?f=Jn(b):i||(i=A&~n,i!==0&&(f=Jn(i))))):(A=c&~g,A!==0?f=Jn(A):b!==0?f=Jn(b):i||(i=c&~n,i!==0&&(f=Jn(i)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,i=s&-s,g>=i||g===32&&(i&4194048)!==0)?s:f}function ka(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function rl(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var n=ja;return ja<<=1,(ja&4194048)===0&&(ja=256),n}function al(){var n=Da;return Da<<=1,(Da&62914560)===0&&(Da=4194304),n}function Ur(n){for(var s=[],i=0;31>i;i++)s.push(n);return s}function zr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function il(n,s,i,c,f,g){var b=n.pendingLanes;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=i,n.entangledLanes&=i,n.errorRecoveryDisabledLanes&=i,n.shellSuspendCounter=0;var A=n.entanglements,O=n.expirationTimes,G=n.hiddenUpdates;for(i=b&~i;0<i;){var J=31-Zt(i),te=1<<J;A[J]=0,O[J]=-1;var $=G[J];if($!==null)for(G[J]=null,J=0;J<$.length;J++){var K=$[J];K!==null&&(K.lane&=-536870913)}i&=~te}c!==0&&fr(n,c,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(b&~s))}function fr(n,s,i){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Zt(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|i&4194090}function ol(n,s){var i=n.entangledLanes|=s;for(n=n.entanglements;i;){var c=31-Zt(i),f=1<<c;f&s|n[c]&s&&(n[c]|=s),i&=~f}}function As(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ji(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ns(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:Gx(n.type))}function hu(n,s){var i=oe.p;try{return oe.p=n,s()}finally{oe.p=i}}var ut=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ut,Et="__reactProps$"+ut,Mn="__reactContainer$"+ut,ll="__reactEvents$"+ut,hf="__reactListeners$"+ut,Rs="__reactHandles$"+ut,fu="__reactResources$"+ut,Oa="__reactMarker$"+ut;function Cs(n){delete n[Dt],delete n[Et],delete n[ll],delete n[hf],delete n[Rs]}function Br(n){var s=n[Dt];if(s)return s;for(var i=n.parentNode;i;){if(s=i[Mn]||i[Dt]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(n=Ix(n);n!==null;){if(i=n[Dt])return i;n=Ix(n)}return s}n=i,i=n.parentNode}return null}function mr(n){if(n=n[Dt]||n[Mn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function pr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function ln(n){var s=n[fu];return s||(s=n[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(n){n[Oa]=!0}var cl=new Set,Di={};function Zn(n,s){qr(n,s),qr(n+"Capture",s)}function qr(n,s){for(Di[n]=s,n=0;n<s.length;n++)cl.add(s[n])}var mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},Ma={};function gu(n){return kn.call(Ma,n)?!0:kn.call(pu,n)?!1:mu.test(n)?Ma[n]=!0:(pu[n]=!0,!1)}function Is(n,s,i){if(gu(s))if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+i)}}function gr(n,s,i){if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+i)}}function Gt(n,s,i,c){if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttributeNS(s,i,""+c)}}var Pa,yu;function Fr(n){if(Pa===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);Pa=s&&s[1]||"",yu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pa+n+yu}var ki=!1;function Oi(n,s){if(!n||ki)return"";ki=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var $=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){$=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){$=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var O=b.split(`
`),G=A.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===G.length)for(c=O.length-1,f=G.length-1;1<=c&&0<=f&&O[c]!==G[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==G[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==G[f]){var J=`
`+O[c].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=c&&0<=f);break}}}finally{ki=!1,Error.prepareStackTrace=i}return(i=n?n.displayName||n.name:"")?Fr(i):""}function ul(n){switch(n.tag){case 26:case 27:case 5:return Fr(n.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return Oi(n.type,!1);case 11:return Oi(n.type.render,!1);case 1:return Oi(n.type,!0);case 31:return Fr("Activity");default:return""}}function Mi(n){try{var s="";do s+=ul(n),n=n.return;while(n);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function dl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ff(n){var s=dl(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,g=i.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(n,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Pi(n){n._valueTracker||(n._valueTracker=ff(n))}function hl(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return n&&(c=dl(n)?n.checked?"true":"false":n.value),n=c,n!==i?(s.setValue(n),!0):!1}function Va(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var mf=/[\n"\\]/g;function Tt(n){return n.replace(mf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function En(n,s,i,c,f,g,b,A){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+cn(s)):n.value!==""+cn(s)&&(n.value=""+cn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?js(n,b,cn(s)):i!=null?js(n,b,cn(i)):c!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+cn(A):n.removeAttribute("name")}function La(n,s,i,c,f,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;i=i!=null?""+cn(i):"",s=s!=null?""+cn(s):i,A||s===n.value||(n.value=s),n.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=A?n.checked:!!c,n.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function js(n,s,i){s==="number"&&Va(n.ownerDocument)===n||n.defaultValue===""+i||(n.defaultValue=""+i)}function Hr(n,s,i,c){if(n=n.options,s){s={};for(var f=0;f<i.length;f++)s["$"+i[f]]=!0;for(i=0;i<n.length;i++)f=s.hasOwnProperty("$"+n[i].value),n[i].selected!==f&&(n[i].selected=f),f&&c&&(n[i].defaultSelected=!0)}else{for(i=""+cn(i),s=null,f=0;f<n.length;f++){if(n[f].value===i){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function rt(n,s,i){if(s!=null&&(s=""+cn(s),s!==n.value&&(n.value=s),i==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=i!=null?""+cn(i):""}function Ua(n,s,i,c){if(s==null){if(c!=null){if(i!=null)throw Error(a(92));if(De(c)){if(1<c.length)throw Error(a(93));c=c[0]}i=c}i==null&&(i=""),s=i}i=cn(s),n.defaultValue=i,c=n.textContent,c===i&&c!==""&&c!==null&&(n.value=c)}function Pn(n,s){if(s){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=s;return}}n.textContent=s}var za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(n,s,i){var c=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,i):typeof i!="number"||i===0||za.has(s)?s==="float"?n.cssFloat=i:n[s]=(""+i).trim():n[s]=i+"px"}function fl(n,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&i[f]!==c&&vu(n,f,c)}else for(var g in s)s.hasOwnProperty(g)&&vu(n,g,s[g])}function ml(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(n){return gf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Gr=null;function Vn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $r=null,Kr=null;function pl(n){var s=mr(n);if(s&&(n=s.stateNode)){var i=n[Et]||null;e:switch(n=s.stateNode,s.type){case"input":if(En(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Tt(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==n&&c.form===n.form){var f=c[Et]||null;if(!f)throw Error(a(90));En(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<i.length;s++)c=i[s],c.form===n.form&&hl(c)}break e;case"textarea":rt(n,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&Hr(n,!!i.multiple,s,!1)}}}var yr=!1;function xu(n,s,i){if(yr)return n(s,i);yr=!0;try{var c=n(s);return c}finally{if(yr=!1,($r!==null||Kr!==null)&&(hd(),$r&&(s=$r,n=Kr,Kr=$r=null,pl(s),n)))for(s=0;s<n.length;s++)pl(n[s])}}function Ba(n,s){var i=n.stateNode;if(i===null)return null;var c=i[Et]||null;if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(er)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Ln=!1}var vr=null,Ds=null,Yr=null;function gl(){if(Yr)return Yr;var n,s=Ds,i=s.length,c,f="value"in vr?vr.value:vr.textContent,g=f.length;for(n=0;n<i&&s[n]===f[n];n++);var b=i-n;for(c=1;c<=b&&s[i-c]===f[g-c];c++);return Yr=f.slice(n,1<c?1-c:void 0)}function xr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function _r(){return!0}function yl(){return!1}function Ut(n){function s(i,c,f,g,b){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(i=n[A],this[A]=i?i(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_r:yl,this.isPropagationStopped=yl,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),s}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Ut(We),Fa=x({},We,{view:0,detail:0}),_u=Ut(Fa),Ui,zi,br,Ha=x({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==br&&(br&&n.type==="mousemove"?(Ui=n.screenX-br.screenX,zi=n.screenY-br.screenY):zi=Ui=0,br=n),Ui)},movementY:function(n){return"movementY"in n?n.movementY:zi}}),Un=Ut(Ha),bu=x({},Ha,{dataTransfer:0}),yf=Ut(bu),Ga=x({},Fa,{relatedTarget:0}),Bi=Ut(Ga),vl=x({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),qi=Ut(vl),wu=x({},We,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fi=Ut(wu),vf=x({},We,{data:0}),xl=Ut(vf),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Tu[n])?!!s[n]:!1}function Ka(){return _l}var Su=x({},Fa,{key:function(n){if(n.key){var s=$a[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=xr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Eu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(n){return n.type==="keypress"?xr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hi=Ut(Su),Au=x({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Ut(Au),Qr=x({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),Nu=Ut(Qr),Ru=x({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Ut(Ru),Iu=x({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Gi=Ut(Iu),un=x({},We,{newState:0,oldState:0}),ju=Ut(un),Du=[9,13,27,32],wr=er&&"CompositionEvent"in window,d=null;er&&"documentMode"in document&&(d=document.documentMode);var v=er&&"TextEvent"in window&&!d,_=er&&(!wr||d&&8<d&&11>=d),N=" ",F=!1;function W(n,s){switch(n){case"keyup":return Du.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var He=!1;function kt(n,s){switch(n){case"compositionend":return le(s);case"keypress":return s.which!==32?null:(F=!0,N);case"textInput":return n=s.data,n===N&&F?null:n;default:return null}}function Ge(n,s){if(He)return n==="compositionend"||!wr&&W(n,s)?(n=gl(),Yr=Ds=vr=null,He=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!zt[n.type]:s==="textarea"}function Xr(n,s,i,c){$r?Kr?Kr.push(c):Kr=[c]:$r=c,s=vd(s,"onChange"),0<s.length&&(i=new Li("onChange","change",null,i,c),n.push({event:i,listeners:s}))}var $t=null,Er=null;function wl(n){_x(n,0)}function ku(n){var s=pr(n);if(hl(s))return n}function By(n,s){if(n==="change")return s}var qy=!1;if(er){var xf;if(er){var _f="oninput"in document;if(!_f){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),_f=typeof Fy.oninput=="function"}xf=_f}else xf=!1;qy=xf&&(!document.documentMode||9<document.documentMode)}function Hy(){$t&&($t.detachEvent("onpropertychange",Gy),Er=$t=null)}function Gy(n){if(n.propertyName==="value"&&ku(Er)){var s=[];Xr(s,Er,n,Vn(n)),xu(wl,s)}}function KT(n,s,i){n==="focusin"?(Hy(),$t=s,Er=i,$t.attachEvent("onpropertychange",Gy)):n==="focusout"&&Hy()}function YT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ku(Er)}function QT(n,s){if(n==="click")return ku(s)}function XT(n,s){if(n==="input"||n==="change")return ku(s)}function WT(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Tn=typeof Object.is=="function"?Object.is:WT;function El(n,s){if(Tn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var i=Object.keys(n),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!kn.call(s,f)||!Tn(n[f],s[f]))return!1}return!0}function $y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ky(n,s){var i=$y(n);n=0;for(var c;i;){if(i.nodeType===3){if(c=n+i.textContent.length,n<=s&&c>=s)return{node:i,offset:s-n};n=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=$y(i)}}function Yy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Yy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Qy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Va(n.document);s instanceof n.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)n=s.contentWindow;else break;s=Va(n.document)}return s}function bf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var JT=er&&"documentMode"in document&&11>=document.documentMode,$i=null,wf=null,Tl=null,Ef=!1;function Xy(n,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ef||$i==null||$i!==Va(c)||(c=$i,"selectionStart"in c&&bf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Tl&&El(Tl,c)||(Tl=c,c=vd(wf,"onSelect"),0<c.length&&(s=new Li("onSelect","select",null,s,i),n.push({event:s,listeners:c}),s.target=$i)))}function Ya(n,s){var i={};return i[n.toLowerCase()]=s.toLowerCase(),i["Webkit"+n]="webkit"+s,i["Moz"+n]="moz"+s,i}var Ki={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},Tf={},Wy={};er&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Qa(n){if(Tf[n])return Tf[n];if(!Ki[n])return n;var s=Ki[n],i;for(i in s)if(s.hasOwnProperty(i)&&i in Wy)return Tf[n]=s[i];return n}var Jy=Qa("animationend"),Zy=Qa("animationiteration"),e0=Qa("animationstart"),ZT=Qa("transitionrun"),e2=Qa("transitionstart"),t2=Qa("transitioncancel"),t0=Qa("transitionend"),n0=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function tr(n,s){n0.set(n,s),Zn(s,[n])}var r0=new WeakMap;function zn(n,s){if(typeof n=="object"&&n!==null){var i=r0.get(n);return i!==void 0?i:(s={value:n,source:s,stack:Mi(s)},r0.set(n,s),s)}return{value:n,source:s,stack:Mi(s)}}var Bn=[],Yi=0,Af=0;function Ou(){for(var n=Yi,s=Af=Yi=0;s<n;){var i=Bn[s];Bn[s++]=null;var c=Bn[s];Bn[s++]=null;var f=Bn[s];Bn[s++]=null;var g=Bn[s];if(Bn[s++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}g!==0&&s0(i,f,g)}}function Mu(n,s,i,c){Bn[Yi++]=n,Bn[Yi++]=s,Bn[Yi++]=i,Bn[Yi++]=c,Af|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Nf(n,s,i,c){return Mu(n,s,i,c),Pu(n)}function Qi(n,s){return Mu(n,null,null,s),Pu(n)}function s0(n,s,i){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i);for(var f=!1,g=n.return;g!==null;)g.childLanes|=i,c=g.alternate,c!==null&&(c.childLanes|=i),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&s!==null&&(f=31-Zt(i),n=g.hiddenUpdates,c=n[f],c===null?n[f]=[s]:c.push(s),s.lane=i|536870912),g):null}function Pu(n){if(50<Ql)throw Ql=0,km=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Xi={};function n2(n,s,i,c){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,s,i,c){return new n2(n,s,i,c)}function Rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wr(n,s){var i=n.alternate;return i===null?(i=Sn(n.tag,s,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=s,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&65011712,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,s=n.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i.refCleanup=n.refCleanup,i}function a0(n,s){n.flags&=65011714;var i=n.alternate;return i===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,s=i.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Vu(n,s,i,c,f,g){var b=0;if(c=n,typeof n=="function")Rf(n)&&(b=1);else if(typeof n=="string")b=sS(n,i,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Sn(31,i,s,f),n.elementType=I,n.lanes=g,n;case R:return Xa(i.children,f,g,s);case j:b=8,f|=24;break;case k:return n=Sn(12,i,s,f|2),n.elementType=k,n.lanes=g,n;case ue:return n=Sn(13,i,s,f),n.elementType=ue,n.lanes=g,n;case ve:return n=Sn(19,i,s,f),n.elementType=ve,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:case X:b=10;break e;case Y:b=9;break e;case ie:b=11;break e;case M:b=14;break e;case E:b=16,c=null;break e}b=29,i=Error(a(130,n===null?"null":typeof n,"")),c=null}return s=Sn(b,i,s,f),s.elementType=n,s.type=c,s.lanes=g,s}function Xa(n,s,i,c){return n=Sn(7,n,c,s),n.lanes=i,n}function Cf(n,s,i){return n=Sn(6,n,null,s),n.lanes=i,n}function If(n,s,i){return s=Sn(4,n.children!==null?n.children:[],n.key,s),s.lanes=i,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Wi=[],Ji=0,Lu=null,Uu=0,qn=[],Fn=0,Wa=null,Jr=1,Zr="";function Ja(n,s){Wi[Ji++]=Uu,Wi[Ji++]=Lu,Lu=n,Uu=s}function i0(n,s,i){qn[Fn++]=Jr,qn[Fn++]=Zr,qn[Fn++]=Wa,Wa=n;var c=Jr;n=Zr;var f=32-Zt(c)-1;c&=~(1<<f),i+=1;var g=32-Zt(s)+f;if(30<g){var b=f-f%5;g=(c&(1<<b)-1).toString(32),c>>=b,f-=b,Jr=1<<32-Zt(s)+f|i<<f|c,Zr=g+n}else Jr=1<<g|i<<f|c,Zr=n}function jf(n){n.return!==null&&(Ja(n,1),i0(n,1,0))}function Df(n){for(;n===Lu;)Lu=Wi[--Ji],Wi[Ji]=null,Uu=Wi[--Ji],Wi[Ji]=null;for(;n===Wa;)Wa=qn[--Fn],qn[Fn]=null,Zr=qn[--Fn],qn[Fn]=null,Jr=qn[--Fn],qn[Fn]=null}var dn=null,gt=null,Xe=!1,Za=null,Tr=!1,kf=Error(a(519));function ei(n){var s=Error(a(418,""));throw Nl(zn(s,n)),kf}function o0(n){var s=n.stateNode,i=n.type,c=n.memoizedProps;switch(s[Dt]=n,s[Et]=c,i){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(i=0;i<Wl.length;i++)ze(Wl[i],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),La(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Pi(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),Ua(s,c.value,c.defaultValue,c.children),Pi(s)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||c.suppressHydrationWarning===!0||Tx(s.textContent,i)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=xd),s=!0):s=!1,s||ei(n)}function l0(n){for(dn=n.return;dn;)switch(dn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:dn=dn.return}}function Sl(n){if(n!==dn)return!1;if(!Xe)return l0(n),Xe=!0,!1;var s=n.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=n.type,i=!(i!=="form"&&i!=="button")||Qm(n.type,n.memoizedProps)),i=!i),i&&gt&&ei(n),l0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(i=n.data,i==="/$"){if(s===0){gt=rr(n.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++;n=n.nextSibling}gt=null}}else s===27?(s=gt,Ys(n.type)?(n=Zm,Zm=null,gt=n):gt=s):gt=dn?rr(n.stateNode.nextSibling):null;return!0}function Al(){gt=dn=null,Xe=!1}function c0(){var n=Za;return n!==null&&(gn===null?gn=n:gn.push.apply(gn,n),Za=null),n}function Nl(n){Za===null?Za=[n]:Za.push(n)}var Of=re(null),ti=null,es=null;function ks(n,s,i){ae(Of,s._currentValue),s._currentValue=i}function ts(n){n._currentValue=Of.current,ce(Of)}function Mf(n,s,i){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===i)break;n=n.return}}function Pf(n,s,i,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=f;for(var O=0;O<s.length;O++)if(A.context===s[O]){g.lanes|=i,A=g.alternate,A!==null&&(A.lanes|=i),Mf(g.return,i,n),c||(b=null);break e}g=A.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(a(341));b.lanes|=i,g=b.alternate,g!==null&&(g.lanes|=i),Mf(b,i,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Rl(n,s,i,c){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var A=f.type;Tn(f.pendingProps.value,b.value)||(n!==null?n.push(A):n=[A])}}else if(f===Le.current){if(b=f.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(rc):n=[rc])}f=f.return}n!==null&&Pf(s,n,i,c),s.flags|=262144}function zu(n){for(n=n.firstContext;n!==null;){if(!Tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ni(n){ti=n,es=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return u0(ti,n)}function Bu(n,s){return ti===null&&ni(n),u0(n,s)}function u0(n,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},es===null){if(n===null)throw Error(a(308));es=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else es=es.next=s;return i}var r2=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(i,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(i){return i()})}},s2=r.unstable_scheduleCallback,a2=r.unstable_NormalPriority,Mt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new r2,data:new Map,refCount:0}}function Cl(n){n.refCount--,n.refCount===0&&s2(a2,function(){n.controller.abort()})}var Il=null,Lf=0,Zi=0,eo=null;function i2(n,s){if(Il===null){var i=Il=[];Lf=0,Zi=zm(),eo={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Lf++,s.then(d0,d0),s}function d0(){if(--Lf===0&&Il!==null){eo!==null&&(eo.status="fulfilled");var n=Il;Il=null,Zi=0,eo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function o2(n,s){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<i.length;f++)(0,i[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var h0=Q.S;Q.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&i2(n,s),h0!==null&&h0(n,s)};var ri=re(null);function Uf(){var n=ri.current;return n!==null?n:lt.pooledCache}function qu(n,s){s===null?ae(ri,ri.current):ae(ri,s.pool)}function f0(){var n=Uf();return n===null?null:{parent:Mt._currentValue,pool:n}}var jl=Error(a(460)),m0=Error(a(474)),Fu=Error(a(542)),zf={then:function(){}};function p0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Hu(){}function g0(n,s,i){switch(i=n[i],i===void 0?n.push(s):i!==s&&(s.then(Hu,Hu),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,v0(n),n;default:if(typeof s.status=="string")s.then(Hu,Hu);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,v0(n),n}throw Dl=s,jl}}var Dl=null;function y0(){if(Dl===null)throw Error(a(459));var n=Dl;return Dl=null,n}function v0(n){if(n===jl||n===Fu)throw Error(a(483))}var Os=!1;function Bf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ms(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ps(n,s,i){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Pu(n),s0(n,null,i),s}return Mu(n,c,s,i),Pu(n)}function kl(n,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,i|=c,s.lanes=i,ol(n,i)}}function Ff(n,s){var i=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,i=i.next}while(i!==null);g===null?f=g=s:g=g.next=s}else f=g=s;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=s:n.next=s,i.lastBaseUpdate=s}var Hf=!1;function Ol(){if(Hf){var n=eo;if(n!==null)throw n}}function Ml(n,s,i,c){Hf=!1;var f=n.updateQueue;Os=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,G=O.next;O.next=null,b===null?g=G:b.next=G,b=O;var J=n.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==b&&(A===null?J.firstBaseUpdate=G:A.next=G,J.lastBaseUpdate=O))}if(g!==null){var te=f.baseState;b=0,J=G=O=null,A=g;do{var $=A.lane&-536870913,K=$!==A.lane;if(K?($e&$)===$:(c&$)===$){$!==0&&$===Zi&&(Hf=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ne=n,be=A;$=s;var it=i;switch(be.tag){case 1:if(Ne=be.payload,typeof Ne=="function"){te=Ne.call(it,te,$);break e}te=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=be.payload,$=typeof Ne=="function"?Ne.call(it,te,$):Ne,$==null)break e;te=x({},te,$);break e;case 2:Os=!0}}$=A.callback,$!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[$]:K.push($))}else K={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(G=J=K,O=te):J=J.next=K,b|=$;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);J===null&&(O=te),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=J,g===null&&(f.shared.lanes=0),Hs|=b,n.lanes=b,n.memoizedState=te}}function x0(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function _0(n,s){var i=n.callbacks;if(i!==null)for(n.callbacks=null,n=0;n<i.length;n++)x0(i[n],s)}var to=re(null),Gu=re(0);function b0(n,s){n=ls,ae(Gu,n),ae(to,s),ls=n|s.baseLanes}function Gf(){ae(Gu,ls),ae(to,to.current)}function $f(){ls=Gu.current,ce(to),ce(Gu)}var Vs=0,Oe=null,st=null,St=null,$u=!1,no=!1,si=!1,Ku=0,Pl=0,ro=null,l2=0;function xt(){throw Error(a(321))}function Kf(n,s){if(s===null)return!1;for(var i=0;i<s.length&&i<n.length;i++)if(!Tn(n[i],s[i]))return!1;return!0}function Yf(n,s,i,c,f,g){return Vs=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?sv:av,si=!1,g=i(c,f),si=!1,no&&(g=E0(s,i,c,f)),w0(n),g}function w0(n){Q.H=Zu;var s=st!==null&&st.next!==null;if(Vs=0,St=st=Oe=null,$u=!1,Pl=0,ro=null,s)throw Error(a(300));n===null||Bt||(n=n.dependencies,n!==null&&zu(n)&&(Bt=!0))}function E0(n,s,i,c){Oe=n;var f=0;do{if(no&&(ro=null),Pl=0,no=!1,25<=f)throw Error(a(301));if(f+=1,St=st=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=p2,g=s(i,c)}while(no);return g}function c2(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?Vl(s):s,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Oe.flags|=1024),s}function Qf(){var n=Ku!==0;return Ku=0,n}function Xf(n,s,i){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~i}function Wf(n){if($u){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$u=!1}Vs=0,St=st=Oe=null,no=!1,Pl=Ku=0,ro=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=n:St=St.next=n,St}function At(){if(st===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var s=St===null?Oe.memoizedState:St.next;if(s!==null)St=s,st=n;else{if(n===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},St===null?Oe.memoizedState=St=n:St=St.next=n}return St}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(n){var s=Pl;return Pl+=1,ro===null&&(ro=[]),n=g0(ro,n,s),s=Oe,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?sv:av),n}function Yu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vl(n);if(n.$$typeof===X)return en(n)}throw Error(a(438,String(n)))}function Zf(n){var s=null,i=Oe.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=Jf(),Oe.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(n),c=0;c<n;c++)i[c]=P;return s.index++,i}function ns(n,s){return typeof s=="function"?s(n):s}function Qu(n){var s=At();return em(s,st,n)}function em(n,s,i){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var f=n.baseQueue,g=c.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}s.baseQueue=f=g,c.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var A=b=null,O=null,G=s,J=!1;do{var te=G.lane&-536870913;if(te!==G.lane?($e&te)===te:(Vs&te)===te){var $=G.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Zi&&(J=!0);else if((Vs&$)===$){G=G.next,$===Zi&&(J=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(A=O=te,b=g):O=O.next=te,Oe.lanes|=$,Hs|=$;te=G.action,si&&i(g,te),g=G.hasEagerState?G.eagerState:i(g,te)}else $={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(A=O=$,b=g):O=O.next=$,Oe.lanes|=te,Hs|=te;G=G.next}while(G!==null&&G!==s);if(O===null?b=g:O.next=A,!Tn(g,n.memoizedState)&&(Bt=!0,J&&(i=eo,i!==null)))throw i;n.memoizedState=g,n.baseState=b,n.baseQueue=O,c.lastRenderedState=g}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function tm(n){var s=At(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=n;var c=i.dispatch,f=i.pending,g=s.memoizedState;if(f!==null){i.pending=null;var b=f=f.next;do g=n(g,b.action),b=b.next;while(b!==f);Tn(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),i.lastRenderedState=g}return[g,c]}function T0(n,s,i){var c=Oe,f=At(),g=Xe;if(g){if(i===void 0)throw Error(a(407));i=i()}else i=s();var b=!Tn((st||f).memoizedState,i);b&&(f.memoizedState=i,Bt=!0),f=f.queue;var A=N0.bind(null,c,f,n);if(Ll(2048,8,A,[n]),f.getSnapshot!==s||b||St!==null&&St.memoizedState.tag&1){if(c.flags|=2048,so(9,Xu(),A0.bind(null,c,f,i,s),null),lt===null)throw Error(a(349));g||(Vs&124)!==0||S0(c,s,i)}return i}function S0(n,s,i){n.flags|=16384,n={getSnapshot:s,value:i},s=Oe.updateQueue,s===null?(s=Jf(),Oe.updateQueue=s,s.stores=[n]):(i=s.stores,i===null?s.stores=[n]:i.push(n))}function A0(n,s,i,c){s.value=i,s.getSnapshot=c,R0(s)&&C0(n)}function N0(n,s,i){return i(function(){R0(s)&&C0(n)})}function R0(n){var s=n.getSnapshot;n=n.value;try{var i=s();return!Tn(n,i)}catch{return!0}}function C0(n){var s=Qi(n,2);s!==null&&In(s,n,2)}function nm(n){var s=mn();if(typeof n=="function"){var i=n;if(n=i(),si){wn(!0);try{i()}finally{wn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:n},s}function I0(n,s,i,c){return n.baseState=i,em(n,st,typeof c=="function"?c:ns)}function u2(n,s,i,c,f){if(Ju(n))throw Error(a(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Q.T!==null?i(!0):g.isTransition=!1,c(g),i=s.pending,i===null?(g.next=s.pending=g,j0(s,g)):(g.next=i.next,s.pending=i.next=g)}}function j0(n,s){var i=s.action,c=s.payload,f=n.state;if(s.isTransition){var g=Q.T,b={};Q.T=b;try{var A=i(f,c),O=Q.S;O!==null&&O(b,A),D0(n,s,A)}catch(G){rm(n,s,G)}finally{Q.T=g}}else try{g=i(f,c),D0(n,s,g)}catch(G){rm(n,s,G)}}function D0(n,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){k0(n,s,c)},function(c){return rm(n,s,c)}):k0(n,s,i)}function k0(n,s,i){s.status="fulfilled",s.value=i,O0(s),n.state=i,s=n.pending,s!==null&&(i=s.next,i===s?n.pending=null:(i=i.next,s.next=i,j0(n,i)))}function rm(n,s,i){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=i,O0(s),s=s.next;while(s!==c)}n.action=null}function O0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function M0(n,s){return s}function P0(n,s){if(Xe){var i=lt.formState;if(i!==null){e:{var c=Oe;if(Xe){if(gt){t:{for(var f=gt,g=Tr;f.nodeType!==8;){if(!g){f=null;break t}if(f=rr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){gt=rr(f.nextSibling),c=f.data==="F!";break e}}ei(c)}c=!1}c&&(s=i[0])}}return i=mn(),i.memoizedState=i.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:s},i.queue=c,i=tv.bind(null,Oe,c),c.dispatch=i,c=nm(!1),g=lm.bind(null,Oe,!1,c.queue),c=mn(),f={state:s,dispatch:null,action:n,pending:null},c.queue=f,i=u2.bind(null,Oe,f,g,i),f.dispatch=i,c.memoizedState=n,[s,i,!1]}function V0(n){var s=At();return L0(s,st,n)}function L0(n,s,i){if(s=em(n,s,M0)[0],n=Qu(ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Vl(s)}catch(b){throw b===jl?Fu:b}else c=s;s=At();var f=s.queue,g=f.dispatch;return i!==s.memoizedState&&(Oe.flags|=2048,so(9,Xu(),d2.bind(null,f,i),null)),[c,g,n]}function d2(n,s){n.action=s}function U0(n){var s=At(),i=st;if(i!==null)return L0(s,i,n);At(),s=s.memoizedState,i=At();var c=i.queue.dispatch;return i.memoizedState=n,[s,c,!1]}function so(n,s,i,c){return n={tag:n,create:i,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=Jf(),Oe.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=n.next=n:(c=i.next,i.next=n,n.next=c,s.lastEffect=n),n}function Xu(){return{destroy:void 0,resource:void 0}}function z0(){return At().memoizedState}function Wu(n,s,i,c){var f=mn();c=c===void 0?null:c,Oe.flags|=n,f.memoizedState=so(1|s,Xu(),i,c)}function Ll(n,s,i,c){var f=At();c=c===void 0?null:c;var g=f.memoizedState.inst;st!==null&&c!==null&&Kf(c,st.memoizedState.deps)?f.memoizedState=so(s,g,i,c):(Oe.flags|=n,f.memoizedState=so(1|s,g,i,c))}function B0(n,s){Wu(8390656,8,n,s)}function q0(n,s){Ll(2048,8,n,s)}function F0(n,s){return Ll(4,2,n,s)}function H0(n,s){return Ll(4,4,n,s)}function G0(n,s){if(typeof s=="function"){n=n();var i=s(n);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function $0(n,s,i){i=i!=null?i.concat([n]):null,Ll(4,4,G0.bind(null,s,n),i)}function sm(){}function K0(n,s){var i=At();s=s===void 0?null:s;var c=i.memoizedState;return s!==null&&Kf(s,c[1])?c[0]:(i.memoizedState=[n,s],n)}function Y0(n,s){var i=At();s=s===void 0?null:s;var c=i.memoizedState;if(s!==null&&Kf(s,c[1]))return c[0];if(c=n(),si){wn(!0);try{n()}finally{wn(!1)}}return i.memoizedState=[c,s],c}function am(n,s,i){return i===void 0||(Vs&1073741824)!==0?n.memoizedState=s:(n.memoizedState=i,n=Wv(),Oe.lanes|=n,Hs|=n,i)}function Q0(n,s,i,c){return Tn(i,s)?i:to.current!==null?(n=am(n,i,c),Tn(n,s)||(Bt=!0),n):(Vs&42)===0?(Bt=!0,n.memoizedState=i):(n=Wv(),Oe.lanes|=n,Hs|=n,s)}function X0(n,s,i,c,f){var g=oe.p;oe.p=g!==0&&8>g?g:8;var b=Q.T,A={};Q.T=A,lm(n,!1,s,i);try{var O=f(),G=Q.S;if(G!==null&&G(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=o2(O,c);Ul(n,s,J,Cn(n))}else Ul(n,s,c,Cn(n))}catch(te){Ul(n,s,{then:function(){},status:"rejected",reason:te},Cn())}finally{oe.p=g,Q.T=b}}function h2(){}function im(n,s,i,c){if(n.tag!==5)throw Error(a(476));var f=W0(n).queue;X0(n,f,s,se,i===null?h2:function(){return J0(n),i(c)})}function W0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:se},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:i},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function J0(n){var s=W0(n).next.queue;Ul(n,s,{},Cn())}function om(){return en(rc)}function Z0(){return At().memoizedState}function ev(){return At().memoizedState}function f2(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var i=Cn();n=Ms(i);var c=Ps(s,n,i);c!==null&&(In(c,s,i),kl(c,s,i)),s={cache:Vf()},n.payload=s;return}s=s.return}}function m2(n,s,i){var c=Cn();i={lane:c,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ju(n)?nv(s,i):(i=Nf(n,s,i,c),i!==null&&(In(i,n,c),rv(i,s,c)))}function tv(n,s,i){var c=Cn();Ul(n,s,i,c)}function Ul(n,s,i,c){var f={lane:c,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ju(n))nv(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,A=g(b,i);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,b))return Mu(n,s,f,0),lt===null&&Ou(),!1}catch{}finally{}if(i=Nf(n,s,f,c),i!==null)return In(i,n,c),rv(i,s,c),!0}return!1}function lm(n,s,i,c){if(c={lane:2,revertLane:zm(),action:c,hasEagerState:!1,eagerState:null,next:null},Ju(n)){if(s)throw Error(a(479))}else s=Nf(n,i,c,2),s!==null&&In(s,n,2)}function Ju(n){var s=n.alternate;return n===Oe||s!==null&&s===Oe}function nv(n,s){no=$u=!0;var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}function rv(n,s,i){if((i&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,i|=c,s.lanes=i,ol(n,i)}}var Zu={readContext:en,use:Yu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},sv={readContext:en,use:Yu,useCallback:function(n,s){return mn().memoizedState=[n,s===void 0?null:s],n},useContext:en,useEffect:B0,useImperativeHandle:function(n,s,i){i=i!=null?i.concat([n]):null,Wu(4194308,4,G0.bind(null,s,n),i)},useLayoutEffect:function(n,s){return Wu(4194308,4,n,s)},useInsertionEffect:function(n,s){Wu(4,2,n,s)},useMemo:function(n,s){var i=mn();s=s===void 0?null:s;var c=n();if(si){wn(!0);try{n()}finally{wn(!1)}}return i.memoizedState=[c,s],c},useReducer:function(n,s,i){var c=mn();if(i!==void 0){var f=i(s);if(si){wn(!0);try{i(s)}finally{wn(!1)}}}else f=s;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=m2.bind(null,Oe,n),[c.memoizedState,n]},useRef:function(n){var s=mn();return n={current:n},s.memoizedState=n},useState:function(n){n=nm(n);var s=n.queue,i=tv.bind(null,Oe,s);return s.dispatch=i,[n.memoizedState,i]},useDebugValue:sm,useDeferredValue:function(n,s){var i=mn();return am(i,n,s)},useTransition:function(){var n=nm(!1);return n=X0.bind(null,Oe,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,i){var c=Oe,f=mn();if(Xe){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),lt===null)throw Error(a(349));($e&124)!==0||S0(c,s,i)}f.memoizedState=i;var g={value:i,getSnapshot:s};return f.queue=g,B0(N0.bind(null,c,g,n),[n]),c.flags|=2048,so(9,Xu(),A0.bind(null,c,g,i,s),null),i},useId:function(){var n=mn(),s=lt.identifierPrefix;if(Xe){var i=Zr,c=Jr;i=(c&~(1<<32-Zt(c)-1)).toString(32)+i,s=""+s+"R"+i,i=Ku++,0<i&&(s+="H"+i.toString(32)),s+=""}else i=l2++,s=""+s+"r"+i.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:om,useFormState:P0,useActionState:P0,useOptimistic:function(n){var s=mn();s.memoizedState=s.baseState=n;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=lm.bind(null,Oe,!0,i),i.dispatch=s,[n,s]},useMemoCache:Zf,useCacheRefresh:function(){return mn().memoizedState=f2.bind(null,Oe)}},av={readContext:en,use:Yu,useCallback:K0,useContext:en,useEffect:q0,useImperativeHandle:$0,useInsertionEffect:F0,useLayoutEffect:H0,useMemo:Y0,useReducer:Qu,useRef:z0,useState:function(){return Qu(ns)},useDebugValue:sm,useDeferredValue:function(n,s){var i=At();return Q0(i,st.memoizedState,n,s)},useTransition:function(){var n=Qu(ns)[0],s=At().memoizedState;return[typeof n=="boolean"?n:Vl(n),s]},useSyncExternalStore:T0,useId:Z0,useHostTransitionStatus:om,useFormState:V0,useActionState:V0,useOptimistic:function(n,s){var i=At();return I0(i,st,n,s)},useMemoCache:Zf,useCacheRefresh:ev},p2={readContext:en,use:Yu,useCallback:K0,useContext:en,useEffect:q0,useImperativeHandle:$0,useInsertionEffect:F0,useLayoutEffect:H0,useMemo:Y0,useReducer:tm,useRef:z0,useState:function(){return tm(ns)},useDebugValue:sm,useDeferredValue:function(n,s){var i=At();return st===null?am(i,n,s):Q0(i,st.memoizedState,n,s)},useTransition:function(){var n=tm(ns)[0],s=At().memoizedState;return[typeof n=="boolean"?n:Vl(n),s]},useSyncExternalStore:T0,useId:Z0,useHostTransitionStatus:om,useFormState:U0,useActionState:U0,useOptimistic:function(n,s){var i=At();return st!==null?I0(i,st,n,s):(i.baseState=n,[n,i.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:ev},ao=null,zl=0;function ed(n){var s=zl;return zl+=1,ao===null&&(ao=[]),g0(ao,n,s)}function Bl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function td(n,s){throw s.$$typeof===T?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function iv(n){var s=n._init;return s(n._payload)}function ov(n){function s(q,U){if(n){var H=q.deletions;H===null?(q.deletions=[U],q.flags|=16):H.push(U)}}function i(q,U){if(!n)return null;for(;U!==null;)s(q,U),U=U.sibling;return null}function c(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function f(q,U){return q=Wr(q,U),q.index=0,q.sibling=null,q}function g(q,U,H){return q.index=H,n?(H=q.alternate,H!==null?(H=H.index,H<U?(q.flags|=67108866,U):H):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function b(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function A(q,U,H,Z){return U===null||U.tag!==6?(U=Cf(H,q.mode,Z),U.return=q,U):(U=f(U,H),U.return=q,U)}function O(q,U,H,Z){var pe=H.type;return pe===R?J(q,U,H.props.children,Z,H.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===E&&iv(pe)===U.type)?(U=f(U,H.props),Bl(U,H),U.return=q,U):(U=Vu(H.type,H.key,H.props,null,q.mode,Z),Bl(U,H),U.return=q,U)}function G(q,U,H,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=If(H,q.mode,Z),U.return=q,U):(U=f(U,H.children||[]),U.return=q,U)}function J(q,U,H,Z,pe){return U===null||U.tag!==7?(U=Xa(H,q.mode,Z,pe),U.return=q,U):(U=f(U,H),U.return=q,U)}function te(q,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Cf(""+U,q.mode,H),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return H=Vu(U.type,U.key,U.props,null,q.mode,H),Bl(H,U),H.return=q,H;case S:return U=If(U,q.mode,H),U.return=q,U;case E:var Z=U._init;return U=Z(U._payload),te(q,U,H)}if(De(U)||C(U))return U=Xa(U,q.mode,H,null),U.return=q,U;if(typeof U.then=="function")return te(q,ed(U),H);if(U.$$typeof===X)return te(q,Bu(q,U),H);td(q,U)}return null}function $(q,U,H,Z){var pe=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:A(q,U,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===pe?O(q,U,H,Z):null;case S:return H.key===pe?G(q,U,H,Z):null;case E:return pe=H._init,H=pe(H._payload),$(q,U,H,Z)}if(De(H)||C(H))return pe!==null?null:J(q,U,H,Z,null);if(typeof H.then=="function")return $(q,U,ed(H),Z);if(H.$$typeof===X)return $(q,U,Bu(q,H),Z);td(q,H)}return null}function K(q,U,H,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return q=q.get(H)||null,A(U,q,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return q=q.get(Z.key===null?H:Z.key)||null,O(U,q,Z,pe);case S:return q=q.get(Z.key===null?H:Z.key)||null,G(U,q,Z,pe);case E:var Ve=Z._init;return Z=Ve(Z._payload),K(q,U,H,Z,pe)}if(De(Z)||C(Z))return q=q.get(H)||null,J(U,q,Z,pe,null);if(typeof Z.then=="function")return K(q,U,H,ed(Z),pe);if(Z.$$typeof===X)return K(q,U,H,Bu(U,Z),pe);td(U,Z)}return null}function Ne(q,U,H,Z){for(var pe=null,Ve=null,xe=U,we=U=0,Ft=null;xe!==null&&we<H.length;we++){xe.index>we?(Ft=xe,xe=null):Ft=xe.sibling;var Ye=$(q,xe,H[we],Z);if(Ye===null){xe===null&&(xe=Ft);break}n&&xe&&Ye.alternate===null&&s(q,xe),U=g(Ye,U,we),Ve===null?pe=Ye:Ve.sibling=Ye,Ve=Ye,xe=Ft}if(we===H.length)return i(q,xe),Xe&&Ja(q,we),pe;if(xe===null){for(;we<H.length;we++)xe=te(q,H[we],Z),xe!==null&&(U=g(xe,U,we),Ve===null?pe=xe:Ve.sibling=xe,Ve=xe);return Xe&&Ja(q,we),pe}for(xe=c(xe);we<H.length;we++)Ft=K(xe,q,we,H[we],Z),Ft!==null&&(n&&Ft.alternate!==null&&xe.delete(Ft.key===null?we:Ft.key),U=g(Ft,U,we),Ve===null?pe=Ft:Ve.sibling=Ft,Ve=Ft);return n&&xe.forEach(function(Zs){return s(q,Zs)}),Xe&&Ja(q,we),pe}function be(q,U,H,Z){if(H==null)throw Error(a(151));for(var pe=null,Ve=null,xe=U,we=U=0,Ft=null,Ye=H.next();xe!==null&&!Ye.done;we++,Ye=H.next()){xe.index>we?(Ft=xe,xe=null):Ft=xe.sibling;var Zs=$(q,xe,Ye.value,Z);if(Zs===null){xe===null&&(xe=Ft);break}n&&xe&&Zs.alternate===null&&s(q,xe),U=g(Zs,U,we),Ve===null?pe=Zs:Ve.sibling=Zs,Ve=Zs,xe=Ft}if(Ye.done)return i(q,xe),Xe&&Ja(q,we),pe;if(xe===null){for(;!Ye.done;we++,Ye=H.next())Ye=te(q,Ye.value,Z),Ye!==null&&(U=g(Ye,U,we),Ve===null?pe=Ye:Ve.sibling=Ye,Ve=Ye);return Xe&&Ja(q,we),pe}for(xe=c(xe);!Ye.done;we++,Ye=H.next())Ye=K(xe,q,we,Ye.value,Z),Ye!==null&&(n&&Ye.alternate!==null&&xe.delete(Ye.key===null?we:Ye.key),U=g(Ye,U,we),Ve===null?pe=Ye:Ve.sibling=Ye,Ve=Ye);return n&&xe.forEach(function(gS){return s(q,gS)}),Xe&&Ja(q,we),pe}function it(q,U,H,Z){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var pe=H.key;U!==null;){if(U.key===pe){if(pe=H.type,pe===R){if(U.tag===7){i(q,U.sibling),Z=f(U,H.props.children),Z.return=q,q=Z;break e}}else if(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===E&&iv(pe)===U.type){i(q,U.sibling),Z=f(U,H.props),Bl(Z,H),Z.return=q,q=Z;break e}i(q,U);break}else s(q,U);U=U.sibling}H.type===R?(Z=Xa(H.props.children,q.mode,Z,H.key),Z.return=q,q=Z):(Z=Vu(H.type,H.key,H.props,null,q.mode,Z),Bl(Z,H),Z.return=q,q=Z)}return b(q);case S:e:{for(pe=H.key;U!==null;){if(U.key===pe)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){i(q,U.sibling),Z=f(U,H.children||[]),Z.return=q,q=Z;break e}else{i(q,U);break}else s(q,U);U=U.sibling}Z=If(H,q.mode,Z),Z.return=q,q=Z}return b(q);case E:return pe=H._init,H=pe(H._payload),it(q,U,H,Z)}if(De(H))return Ne(q,U,H,Z);if(C(H)){if(pe=C(H),typeof pe!="function")throw Error(a(150));return H=pe.call(H),be(q,U,H,Z)}if(typeof H.then=="function")return it(q,U,ed(H),Z);if(H.$$typeof===X)return it(q,U,Bu(q,H),Z);td(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(i(q,U.sibling),Z=f(U,H),Z.return=q,q=Z):(i(q,U),Z=Cf(H,q.mode,Z),Z.return=q,q=Z),b(q)):i(q,U)}return function(q,U,H,Z){try{zl=0;var pe=it(q,U,H,Z);return ao=null,pe}catch(xe){if(xe===jl||xe===Fu)throw xe;var Ve=Sn(29,xe,null,q.mode);return Ve.lanes=Z,Ve.return=q,Ve}finally{}}}var io=ov(!0),lv=ov(!1),Hn=re(null),Sr=null;function Ls(n){var s=n.alternate;ae(Pt,Pt.current&1),ae(Hn,n),Sr===null&&(s===null||to.current!==null||s.memoizedState!==null)&&(Sr=n)}function cv(n){if(n.tag===22){if(ae(Pt,Pt.current),ae(Hn,n),Sr===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Sr=n)}}else Us()}function Us(){ae(Pt,Pt.current),ae(Hn,Hn.current)}function rs(n){ce(Hn),Sr===n&&(Sr=null),ce(Pt)}var Pt=re(0);function nd(n){for(var s=n;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Jm(i)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function cm(n,s,i,c){s=n.memoizedState,i=i(c,s),i=i==null?s:x({},s,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var um={enqueueSetState:function(n,s,i){n=n._reactInternals;var c=Cn(),f=Ms(c);f.payload=s,i!=null&&(f.callback=i),s=Ps(n,f,c),s!==null&&(In(s,n,c),kl(s,n,c))},enqueueReplaceState:function(n,s,i){n=n._reactInternals;var c=Cn(),f=Ms(c);f.tag=1,f.payload=s,i!=null&&(f.callback=i),s=Ps(n,f,c),s!==null&&(In(s,n,c),kl(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var i=Cn(),c=Ms(i);c.tag=2,s!=null&&(c.callback=s),s=Ps(n,c,i),s!==null&&(In(s,n,i),kl(s,n,i))}};function uv(n,s,i,c,f,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!El(i,c)||!El(f,g):!0}function dv(n,s,i,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==n&&um.enqueueReplaceState(s,s.state,null)}function ai(n,s){var i=s;if("ref"in s){i={};for(var c in s)c!=="ref"&&(i[c]=s[c])}if(n=n.defaultProps){i===s&&(i=x({},i));for(var f in n)i[f]===void 0&&(i[f]=n[f])}return i}var rd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function hv(n){rd(n)}function fv(n){console.error(n)}function mv(n){rd(n)}function sd(n,s){try{var i=n.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function pv(n,s,i){try{var c=n.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dm(n,s,i){return i=Ms(i),i.tag=3,i.payload={element:null},i.callback=function(){sd(n,s)},i}function gv(n){return n=Ms(n),n.tag=3,n}function yv(n,s,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;n.payload=function(){return f(g)},n.callback=function(){pv(s,i,c)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){pv(s,i,c),typeof f!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function g2(n,s,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=i.alternate,s!==null&&Rl(s,i,f,!0),i=Hn.current,i!==null){switch(i.tag){case 13:return Sr===null?Mm():i.alternate===null&&yt===0&&(yt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===zf?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([c]):s.add(c),Vm(n,c,f)),!1;case 22:return i.flags|=65536,c===zf?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([c]):i.add(c)),Vm(n,c,f)),!1}throw Error(a(435,i.tag))}return Vm(n,c,f),Mm(),!1}if(Xe)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==kf&&(n=Error(a(422),{cause:c}),Nl(zn(n,i)))):(c!==kf&&(s=Error(a(423),{cause:c}),Nl(zn(s,i))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=zn(c,i),f=dm(n.stateNode,c,f),Ff(n,f),yt!==4&&(yt=2)),!1;var g=Error(a(520),{cause:c});if(g=zn(g,i),Yl===null?Yl=[g]:Yl.push(g),yt!==4&&(yt=2),s===null)return!0;c=zn(c,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,n=f&-f,i.lanes|=n,n=dm(i.stateNode,c,n),Ff(i,n),!1;case 1:if(s=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gs===null||!Gs.has(g))))return i.flags|=65536,f&=-f,i.lanes|=f,f=gv(f),yv(f,n,i,c),Ff(i,f),!1}i=i.return}while(i!==null);return!1}var vv=Error(a(461)),Bt=!1;function Kt(n,s,i,c){s.child=n===null?lv(s,null,i,c):io(s,n.child,i,c)}function xv(n,s,i,c,f){i=i.render;var g=s.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return ni(s),c=Yf(n,s,i,b,g,f),A=Qf(),n!==null&&!Bt?(Xf(n,s,f),ss(n,s,f)):(Xe&&A&&jf(s),s.flags|=1,Kt(n,s,c,f),s.child)}function _v(n,s,i,c,f){if(n===null){var g=i.type;return typeof g=="function"&&!Rf(g)&&g.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=g,bv(n,s,g,c,f)):(n=Vu(i.type,null,c,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!xm(n,f)){var b=g.memoizedProps;if(i=i.compare,i=i!==null?i:El,i(b,c)&&n.ref===s.ref)return ss(n,s,f)}return s.flags|=1,n=Wr(g,c),n.ref=s.ref,n.return=s,s.child=n}function bv(n,s,i,c,f){if(n!==null){var g=n.memoizedProps;if(El(g,c)&&n.ref===s.ref)if(Bt=!1,s.pendingProps=c=g,xm(n,f))(n.flags&131072)!==0&&(Bt=!0);else return s.lanes=n.lanes,ss(n,s,f)}return hm(n,s,i,c,f)}function wv(n,s,i){var c=s.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|i:i,n!==null){for(f=s.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return Ev(n,s,c,i)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&qu(s,g!==null?g.cachePool:null),g!==null?b0(s,g):Gf(),cv(s);else return s.lanes=s.childLanes=536870912,Ev(n,s,g!==null?g.baseLanes|i:i,i)}else g!==null?(qu(s,g.cachePool),b0(s,g),Us(),s.memoizedState=null):(n!==null&&qu(s,null),Gf(),Us());return Kt(n,s,f,i),s.child}function Ev(n,s,i,c){var f=Uf();return f=f===null?null:{parent:Mt._currentValue,pool:f},s.memoizedState={baseLanes:i,cachePool:f},n!==null&&qu(s,null),Gf(),cv(s),n!==null&&Rl(n,s,c,!0),null}function ad(n,s){var i=s.ref;if(i===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(n===null||n.ref!==i)&&(s.flags|=4194816)}}function hm(n,s,i,c,f){return ni(s),i=Yf(n,s,i,c,void 0,f),c=Qf(),n!==null&&!Bt?(Xf(n,s,f),ss(n,s,f)):(Xe&&c&&jf(s),s.flags|=1,Kt(n,s,i,f),s.child)}function Tv(n,s,i,c,f,g){return ni(s),s.updateQueue=null,i=E0(s,c,i,f),w0(n),c=Qf(),n!==null&&!Bt?(Xf(n,s,g),ss(n,s,g)):(Xe&&c&&jf(s),s.flags|=1,Kt(n,s,i,g),s.child)}function Sv(n,s,i,c,f){if(ni(s),s.stateNode===null){var g=Xi,b=i.contextType;typeof b=="object"&&b!==null&&(g=en(b)),g=new i(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=um,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Bf(s),b=i.contextType,g.context=typeof b=="object"&&b!==null?en(b):Xi,g.state=s.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(cm(s,i,b,c),g.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&um.enqueueReplaceState(g,g.state,null),Ml(s,c,g,f),Ol(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){g=s.stateNode;var A=s.memoizedProps,O=ai(i,A);g.props=O;var G=g.context,J=i.contextType;b=Xi,typeof J=="object"&&J!==null&&(b=en(J));var te=i.getDerivedStateFromProps;J=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||G!==b)&&dv(s,g,c,b),Os=!1;var $=s.memoizedState;g.state=$,Ml(s,c,g,f),Ol(),G=s.memoizedState,A||$!==G||Os?(typeof te=="function"&&(cm(s,i,te,c),G=s.memoizedState),(O=Os||uv(s,i,O,c,$,G,b))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=G),g.props=c,g.state=G,g.context=b,c=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,qf(n,s),b=s.memoizedProps,J=ai(i,b),g.props=J,te=s.pendingProps,$=g.context,G=i.contextType,O=Xi,typeof G=="object"&&G!==null&&(O=en(G)),A=i.getDerivedStateFromProps,(G=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==te||$!==O)&&dv(s,g,c,O),Os=!1,$=s.memoizedState,g.state=$,Ml(s,c,g,f),Ol();var K=s.memoizedState;b!==te||$!==K||Os||n!==null&&n.dependencies!==null&&zu(n.dependencies)?(typeof A=="function"&&(cm(s,i,A,c),K=s.memoizedState),(J=Os||uv(s,i,J,c,$,K,O)||n!==null&&n.dependencies!==null&&zu(n.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,K,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,K,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=O,c=J):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),c=!1)}return g=c,ad(n,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&c?(s.child=io(s,n.child,null,f),s.child=io(s,null,i,f)):Kt(n,s,i,f),s.memoizedState=g.state,n=s.child):n=ss(n,s,f),n}function Av(n,s,i,c){return Al(),s.flags|=256,Kt(n,s,i,c),s.child}var fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(n){return{baseLanes:n,cachePool:f0()}}function pm(n,s,i){return n=n!==null?n.childLanes&~i:0,s&&(n|=Gn),n}function Nv(n,s,i){var c=s.pendingProps,f=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=n!==null&&n.memoizedState===null?!1:(Pt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Xe){if(f?Ls(s):Us(),Xe){var A=gt,O;if(O=A){e:{for(O=A,A=Tr;O.nodeType!==8;){if(!A){A=null;break e}if(O=rr(O.nextSibling),O===null){A=null;break e}}A=O}A!==null?(s.memoizedState={dehydrated:A,treeContext:Wa!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},O=Sn(18,null,null,0),O.stateNode=A,O.return=s,s.child=O,dn=s,gt=null,O=!0):O=!1}O||ei(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Jm(A)?s.lanes=32:s.lanes=536870912,null;rs(s)}return A=c.children,c=c.fallback,f?(Us(),f=s.mode,A=id({mode:"hidden",children:A},f),c=Xa(c,f,i,null),A.return=s,c.return=s,A.sibling=c,s.child=A,f=s.child,f.memoizedState=mm(i),f.childLanes=pm(n,b,i),s.memoizedState=fm,c):(Ls(s),gm(s,A))}if(O=n.memoizedState,O!==null&&(A=O.dehydrated,A!==null)){if(g)s.flags&256?(Ls(s),s.flags&=-257,s=ym(n,s,i)):s.memoizedState!==null?(Us(),s.child=n.child,s.flags|=128,s=null):(Us(),f=c.fallback,A=s.mode,c=id({mode:"visible",children:c.children},A),f=Xa(f,A,i,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,io(s,n.child,null,i),c=s.child,c.memoizedState=mm(i),c.childLanes=pm(n,b,i),s.memoizedState=fm,s=f);else if(Ls(s),Jm(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var G=b.dgst;b=G,c=Error(a(419)),c.stack="",c.digest=b,Nl({value:c,source:null,stack:null}),s=ym(n,s,i)}else if(Bt||Rl(n,s,i,!1),b=(i&n.childLanes)!==0,Bt||b){if(b=lt,b!==null&&(c=i&-i,c=(c&42)!==0?1:As(c),c=(c&(b.suspendedLanes|i))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,Qi(n,c),In(b,n,c),vv;A.data==="$?"||Mm(),s=ym(n,s,i)}else A.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,gt=rr(A.nextSibling),dn=s,Xe=!0,Za=null,Tr=!1,n!==null&&(qn[Fn++]=Jr,qn[Fn++]=Zr,qn[Fn++]=Wa,Jr=n.id,Zr=n.overflow,Wa=s),s=gm(s,c.children),s.flags|=4096);return s}return f?(Us(),f=c.fallback,A=s.mode,O=n.child,G=O.sibling,c=Wr(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,G!==null?f=Wr(G,f):(f=Xa(f,A,i,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,A=n.child.memoizedState,A===null?A=mm(i):(O=A.cachePool,O!==null?(G=Mt._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=f0(),A={baseLanes:A.baseLanes|i,cachePool:O}),f.memoizedState=A,f.childLanes=pm(n,b,i),s.memoizedState=fm,c):(Ls(s),i=n.child,n=i.sibling,i=Wr(i,{mode:"visible",children:c.children}),i.return=s,i.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=i,s.memoizedState=null,i)}function gm(n,s){return s=id({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function id(n,s){return n=Sn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ym(n,s,i){return io(s,n.child,null,i),n=gm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Rv(n,s,i){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Mf(n.return,s,i)}function vm(n,s,i,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=i,g.tailMode=f)}function Cv(n,s,i){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(Kt(n,s,c.children,i),c=Pt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Rv(n,i,s);else if(n.tag===19)Rv(n,i,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(ae(Pt,c),f){case"forwards":for(i=s.child,f=null;i!==null;)n=i.alternate,n!==null&&nd(n)===null&&(f=i),i=i.sibling;i=f,i===null?(f=s.child,s.child=null):(f=i.sibling,i.sibling=null),vm(s,!1,f,i,g);break;case"backwards":for(i=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&nd(n)===null){s.child=f;break}n=f.sibling,f.sibling=i,i=f,f=n}vm(s,!0,i,null,g);break;case"together":vm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ss(n,s,i){if(n!==null&&(s.dependencies=n.dependencies),Hs|=s.lanes,(i&s.childLanes)===0)if(n!==null){if(Rl(n,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,i=Wr(n,n.pendingProps),s.child=i,i.return=s;n.sibling!==null;)n=n.sibling,i=i.sibling=Wr(n,n.pendingProps),i.return=s;i.sibling=null}return s.child}function xm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&zu(n)))}function y2(n,s,i){switch(s.tag){case 3:Ze(s,s.stateNode.containerInfo),ks(s,Mt,n.memoizedState.cache),Al();break;case 27:case 5:_n(s);break;case 4:Ze(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ls(s),s.flags|=128,null):(i&s.child.childLanes)!==0?Nv(n,s,i):(Ls(s),n=ss(n,s,i),n!==null?n.sibling:null);Ls(s);break;case 19:var f=(n.flags&128)!==0;if(c=(i&s.childLanes)!==0,c||(Rl(n,s,i,!1),c=(i&s.childLanes)!==0),f){if(c)return Cv(n,s,i);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(Pt,Pt.current),c)break;return null;case 22:case 23:return s.lanes=0,wv(n,s,i);case 24:ks(s,Mt,n.memoizedState.cache)}return ss(n,s,i)}function Iv(n,s,i){if(n!==null)if(n.memoizedProps!==s.pendingProps)Bt=!0;else{if(!xm(n,i)&&(s.flags&128)===0)return Bt=!1,y2(n,s,i);Bt=(n.flags&131072)!==0}else Bt=!1,Xe&&(s.flags&1048576)!==0&&i0(s,Uu,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")Rf(c)?(n=ai(c,n),s.tag=1,s=Sv(null,s,c,n,i)):(s.tag=0,s=hm(null,s,c,n,i));else{if(c!=null){if(f=c.$$typeof,f===ie){s.tag=11,s=xv(null,s,c,n,i);break e}else if(f===M){s.tag=14,s=_v(null,s,c,n,i);break e}}throw s=de(c)||c,Error(a(306,s,""))}}return s;case 0:return hm(n,s,s.type,s.pendingProps,i);case 1:return c=s.type,f=ai(c,s.pendingProps),Sv(n,s,c,f,i);case 3:e:{if(Ze(s,s.stateNode.containerInfo),n===null)throw Error(a(387));c=s.pendingProps;var g=s.memoizedState;f=g.element,qf(n,s),Ml(s,c,null,i);var b=s.memoizedState;if(c=b.cache,ks(s,Mt,c),c!==g.cache&&Pf(s,[Mt],i,!0),Ol(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Av(n,s,c,i);break e}else if(c!==f){f=zn(Error(a(424)),s),Nl(f),s=Av(n,s,c,i);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(gt=rr(n.firstChild),dn=s,Xe=!0,Za=null,Tr=!0,i=lv(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Al(),c===f){s=ss(n,s,i);break e}Kt(n,s,c,i)}s=s.child}return s;case 26:return ad(n,s),n===null?(i=Ox(s.type,null,s.pendingProps,null))?s.memoizedState=i:Xe||(i=s.type,n=s.pendingProps,c=_d(Ee.current).createElement(i),c[Dt]=s,c[Et]=n,Qt(c,i,n),vt(c),s.stateNode=c):s.memoizedState=Ox(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return _n(s),n===null&&Xe&&(c=s.stateNode=jx(s.type,s.pendingProps,Ee.current),dn=s,Tr=!0,f=gt,Ys(s.type)?(Zm=f,gt=rr(c.firstChild)):gt=f),Kt(n,s,s.pendingProps.children,i),ad(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Xe&&((f=c=gt)&&(c=G2(c,s.type,s.pendingProps,Tr),c!==null?(s.stateNode=c,dn=s,gt=rr(c.firstChild),Tr=!1,f=!0):f=!1),f||ei(s)),_n(s),f=s.type,g=s.pendingProps,b=n!==null?n.memoizedProps:null,c=g.children,Qm(f,g)?c=null:b!==null&&Qm(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=Yf(n,s,c2,null,null,i),rc._currentValue=f),ad(n,s),Kt(n,s,c,i),s.child;case 6:return n===null&&Xe&&((n=i=gt)&&(i=$2(i,s.pendingProps,Tr),i!==null?(s.stateNode=i,dn=s,gt=null,n=!0):n=!1),n||ei(s)),null;case 13:return Nv(n,s,i);case 4:return Ze(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=io(s,null,c,i):Kt(n,s,c,i),s.child;case 11:return xv(n,s,s.type,s.pendingProps,i);case 7:return Kt(n,s,s.pendingProps,i),s.child;case 8:return Kt(n,s,s.pendingProps.children,i),s.child;case 12:return Kt(n,s,s.pendingProps.children,i),s.child;case 10:return c=s.pendingProps,ks(s,s.type,c.value),Kt(n,s,c.children,i),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,ni(s),f=en(f),c=c(f),s.flags|=1,Kt(n,s,c,i),s.child;case 14:return _v(n,s,s.type,s.pendingProps,i);case 15:return bv(n,s,s.type,s.pendingProps,i);case 19:return Cv(n,s,i);case 31:return c=s.pendingProps,i=s.mode,c={mode:c.mode,children:c.children},n===null?(i=id(c,i),i.ref=s.ref,s.child=i,i.return=s,s=i):(i=Wr(n.child,c),i.ref=s.ref,s.child=i,i.return=s,s=i),s;case 22:return wv(n,s,i);case 24:return ni(s),c=en(Mt),n===null?(f=Uf(),f===null&&(f=lt,g=Vf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=i),f=g),s.memoizedState={parent:c,cache:f},Bf(s),ks(s,Mt,f)):((n.lanes&i)!==0&&(qf(n,s),Ml(s,null,null,i),Ol()),f=n.memoizedState,g=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ks(s,Mt,c)):(c=g.cache,ks(s,Mt,c),c!==f.cache&&Pf(s,[Mt],i,!0))),Kt(n,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function as(n){n.flags|=4}function jv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ux(s)){if(s=Hn.current,s!==null&&(($e&4194048)===$e?Sr!==null:($e&62914560)!==$e&&($e&536870912)===0||s!==Sr))throw Dl=zf,m0;n.flags|=8192}}function od(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?al():536870912,n.lanes|=s,uo|=s)}function ql(n,s){if(!Xe)switch(n.tailMode){case"hidden":s=n.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function ft(n){var s=n.alternate!==null&&n.alternate.child===n.child,i=0,c=0;if(s)for(var f=n.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=i,s}function v2(n,s,i){var c=s.pendingProps;switch(Df(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return i=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ts(Mt),on(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Sl(s)?as(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,c0())),ft(s),null;case 26:return i=s.memoizedState,n===null?(as(s),i!==null?(ft(s),jv(s,i)):(ft(s),s.flags&=-16777217)):i?i!==n.memoizedState?(as(s),ft(s),jv(s,i)):(ft(s),s.flags&=-16777217):(n.memoizedProps!==c&&as(s),ft(s),s.flags&=-16777217),null;case 27:bn(s),i=Ee.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==c&&as(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return ft(s),null}n=me.current,Sl(s)?o0(s):(n=jx(f,c,i),s.stateNode=n,as(s))}return ft(s),null;case 5:if(bn(s),i=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&as(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return ft(s),null}if(n=me.current,Sl(s))o0(s);else{switch(f=_d(Ee.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?f.createElement(i,{is:c.is}):f.createElement(i)}}n[Dt]=s,n[Et]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Qt(n,i,c),i){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&as(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&as(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(n=Ee.current,Sl(s)){if(n=s.stateNode,i=s.memoizedProps,c=null,f=dn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[Dt]=s,n=!!(n.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Tx(n.nodeValue,i)),n||ei(s)}else n=_d(n).createTextNode(c),n[Dt]=s,s.stateNode=n}return ft(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Sl(s),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Dt]=s}else Al(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),f=!1}else f=c0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(rs(s),s):(rs(s),null)}if(rs(s),(s.flags&128)!==0)return s.lanes=i,s;if(i=c!==null,n=n!==null&&n.memoizedState!==null,i){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)}return i!==n&&i&&(s.child.flags|=8192),od(s,s.updateQueue),ft(s),null;case 4:return on(),n===null&&Hm(s.stateNode.containerInfo),ft(s),null;case 10:return ts(s.type),ft(s),null;case 19:if(ce(Pt),f=s.memoizedState,f===null)return ft(s),null;if(c=(s.flags&128)!==0,g=f.rendering,g===null)if(c)ql(f,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=nd(n),g!==null){for(s.flags|=128,ql(f,!1),n=g.updateQueue,s.updateQueue=n,od(s,n),s.subtreeFlags=0,n=i,i=s.child;i!==null;)a0(i,n),i=i.sibling;return ae(Pt,Pt.current&1|2),s.child}n=n.sibling}f.tail!==null&&On()>ud&&(s.flags|=128,c=!0,ql(f,!1),s.lanes=4194304)}else{if(!c)if(n=nd(g),n!==null){if(s.flags|=128,c=!0,n=n.updateQueue,s.updateQueue=n,od(s,n),ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Xe)return ft(s),null}else 2*On()-f.renderingStartTime>ud&&i!==536870912&&(s.flags|=128,c=!0,ql(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(n=f.last,n!==null?n.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=On(),s.sibling=null,n=Pt.current,ae(Pt,c?n&1|2:n&1),s):(ft(s),null);case 22:case 23:return rs(s),$f(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(i&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),i=s.updateQueue,i!==null&&od(s,i.retryQueue),i=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==i&&(s.flags|=2048),n!==null&&ce(ri),null;case 24:return i=null,n!==null&&(i=n.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),ts(Mt),ft(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function x2(n,s){switch(Df(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ts(Mt),on(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return bn(s),null;case 13:if(rs(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Al()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ce(Pt),null;case 4:return on(),null;case 10:return ts(s.type),null;case 22:case 23:return rs(s),$f(),n!==null&&ce(ri),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ts(Mt),null;case 25:return null;default:return null}}function Dv(n,s){switch(Df(s),s.tag){case 3:ts(Mt),on();break;case 26:case 27:case 5:bn(s);break;case 4:on();break;case 13:rs(s);break;case 19:ce(Pt);break;case 10:ts(s.type);break;case 22:case 23:rs(s),$f(),n!==null&&ce(ri);break;case 24:ts(Mt)}}function Fl(n,s){try{var i=s.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&n)===n){c=void 0;var g=i.create,b=i.inst;c=g(),b.destroy=c}i=i.next}while(i!==f)}}catch(A){ot(s,s.return,A)}}function zs(n,s,i){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&n)===n){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,f=s;var O=i,G=A;try{G()}catch(J){ot(f,O,J)}}}c=c.next}while(c!==g)}}catch(J){ot(s,s.return,J)}}function kv(n){var s=n.updateQueue;if(s!==null){var i=n.stateNode;try{_0(s,i)}catch(c){ot(n,n.return,c)}}}function Ov(n,s,i){i.props=ai(n.type,n.memoizedProps),i.state=n.memoizedState;try{i.componentWillUnmount()}catch(c){ot(n,s,c)}}function Hl(n,s){try{var i=n.ref;if(i!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof i=="function"?n.refCleanup=i(c):i.current=c}}catch(f){ot(n,s,f)}}function Ar(n,s){var i=n.ref,c=n.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){ot(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ot(n,s,f)}else i.current=null}function Mv(n){var s=n.type,i=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){ot(n,n.return,f)}}function _m(n,s,i){try{var c=n.stateNode;z2(c,n.type,i,s),c[Et]=s}catch(f){ot(n,n.return,f)}}function Pv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ys(n.type)||n.tag===4}function bm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ys(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wm(n,s,i){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(n,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(n),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=xd));else if(c!==4&&(c===27&&Ys(n.type)&&(i=n.stateNode,s=null),n=n.child,n!==null))for(wm(n,s,i),n=n.sibling;n!==null;)wm(n,s,i),n=n.sibling}function ld(n,s,i){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?i.insertBefore(n,s):i.appendChild(n);else if(c!==4&&(c===27&&Ys(n.type)&&(i=n.stateNode),n=n.child,n!==null))for(ld(n,s,i),n=n.sibling;n!==null;)ld(n,s,i),n=n.sibling}function Vv(n){var s=n.stateNode,i=n.memoizedProps;try{for(var c=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qt(s,c,i),s[Dt]=n,s[Et]=i}catch(g){ot(n,n.return,g)}}var is=!1,_t=!1,Em=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function _2(n,s){if(n=n.containerInfo,Km=Ad,n=Qy(n),bf(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var b=0,A=-1,O=-1,G=0,J=0,te=n,$=null;t:for(;;){for(var K;te!==i||f!==0&&te.nodeType!==3||(A=b+f),te!==g||c!==0&&te.nodeType!==3||(O=b+c),te.nodeType===3&&(b+=te.nodeValue.length),(K=te.firstChild)!==null;)$=te,te=K;for(;;){if(te===n)break t;if($===i&&++G===f&&(A=b),$===g&&++J===c&&(O=b),(K=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=K}i=A===-1||O===-1?null:{start:A,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ym={focusedElem:n,selectionRange:i},Ad=!1,qt=s;qt!==null;)if(s=qt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,qt=n;else for(;qt!==null;){switch(s=qt,g=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,i=s,f=g.memoizedProps,g=g.memoizedState,c=i.stateNode;try{var Ne=ai(i.type,f,i.elementType===i.type);n=c.getSnapshotBeforeUpdate(Ne,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(be){ot(i,i.return,be)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,i=n.nodeType,i===9)Wm(n);else if(i===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,qt=n;break}qt=s.return}}function Uv(n,s,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Bs(n,i),c&4&&Fl(5,i);break;case 1:if(Bs(n,i),c&4)if(n=i.stateNode,s===null)try{n.componentDidMount()}catch(b){ot(i,i.return,b)}else{var f=ai(i.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(i,i.return,b)}}c&64&&kv(i),c&512&&Hl(i,i.return);break;case 3:if(Bs(n,i),c&64&&(n=i.updateQueue,n!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{_0(n,s)}catch(b){ot(i,i.return,b)}}break;case 27:s===null&&c&4&&Vv(i);case 26:case 5:Bs(n,i),s===null&&c&4&&Mv(i),c&512&&Hl(i,i.return);break;case 12:Bs(n,i);break;case 13:Bs(n,i),c&4&&qv(n,i),c&64&&(n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(i=C2.bind(null,i),K2(n,i))));break;case 22:if(c=i.memoizedState!==null||is,!c){s=s!==null&&s.memoizedState!==null||_t,f=is;var g=_t;is=c,(_t=s)&&!g?qs(n,i,(i.subtreeFlags&8772)!==0):Bs(n,i),is=f,_t=g}break;case 30:break;default:Bs(n,i)}}function zv(n){var s=n.alternate;s!==null&&(n.alternate=null,zv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Cs(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var dt=null,pn=!1;function os(n,s,i){for(i=i.child;i!==null;)Bv(n,s,i),i=i.sibling}function Bv(n,s,i){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(pt,i)}catch{}switch(i.tag){case 26:_t||Ar(i,s),os(n,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:_t||Ar(i,s);var c=dt,f=pn;Ys(i.type)&&(dt=i.stateNode,pn=!1),os(n,s,i),Zl(i.stateNode),dt=c,pn=f;break;case 5:_t||Ar(i,s);case 6:if(c=dt,f=pn,dt=null,os(n,s,i),dt=c,pn=f,dt!==null)if(pn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(i.stateNode)}catch(g){ot(i,s,g)}else try{dt.removeChild(i.stateNode)}catch(g){ot(i,s,g)}break;case 18:dt!==null&&(pn?(n=dt,Cx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.stateNode),oc(n)):Cx(dt,i.stateNode));break;case 4:c=dt,f=pn,dt=i.stateNode.containerInfo,pn=!0,os(n,s,i),dt=c,pn=f;break;case 0:case 11:case 14:case 15:_t||zs(2,i,s),_t||zs(4,i,s),os(n,s,i);break;case 1:_t||(Ar(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Ov(i,s,c)),os(n,s,i);break;case 21:os(n,s,i);break;case 22:_t=(c=_t)||i.memoizedState!==null,os(n,s,i),_t=c;break;default:os(n,s,i)}}function qv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{oc(n)}catch(i){ot(s,s.return,i)}}function b2(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Lv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Lv),s;default:throw Error(a(435,n.tag))}}function Tm(n,s){var i=b2(n);s.forEach(function(c){var f=I2.bind(null,n,c);i.has(c)||(i.add(c),c.then(f,f))})}function An(n,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],g=n,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Ys(A.type)){dt=A.stateNode,pn=!1;break e}break;case 5:dt=A.stateNode,pn=!1;break e;case 3:case 4:dt=A.stateNode.containerInfo,pn=!0;break e}A=A.return}if(dt===null)throw Error(a(160));Bv(g,b,f),dt=null,pn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Fv(s,n),s=s.sibling}var nr=null;function Fv(n,s){var i=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(s,n),Nn(n),c&4&&(zs(3,n,n.return),Fl(3,n),zs(5,n,n.return));break;case 1:An(s,n),Nn(n),c&512&&(_t||i===null||Ar(i,i.return)),c&64&&is&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(i=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=nr;if(An(s,n),Nn(n),c&512&&(_t||i===null||Ar(i,i.return)),c&4){var g=i!==null?i.memoizedState:null;if(c=n.memoizedState,i===null)if(c===null)if(n.stateNode===null){e:{c=n.type,i=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Oa]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),Qt(g,c,i),g[Dt]=n,vt(g),c=g;break e;case"link":var b=Vx("link","href",f).get(c+(i.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(A,1);break t}}g=f.createElement(c),Qt(g,c,i),f.head.appendChild(g);break;case"meta":if(b=Vx("meta","content",f).get(c+(i.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(A,1);break t}}g=f.createElement(c),Qt(g,c,i),f.head.appendChild(g);break;default:throw Error(a(468,c))}g[Dt]=n,vt(g),c=g}n.stateNode=c}else Lx(f,n.type,n.stateNode);else n.stateNode=Px(f,c,n.memoizedProps);else g!==c?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,c===null?Lx(f,n.type,n.stateNode):Px(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&_m(n,n.memoizedProps,i.memoizedProps)}break;case 27:An(s,n),Nn(n),c&512&&(_t||i===null||Ar(i,i.return)),i!==null&&c&4&&_m(n,n.memoizedProps,i.memoizedProps);break;case 5:if(An(s,n),Nn(n),c&512&&(_t||i===null||Ar(i,i.return)),n.flags&32){f=n.stateNode;try{Pn(f,"")}catch(K){ot(n,n.return,K)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,_m(n,f,i!==null?i.memoizedProps:f)),c&1024&&(Em=!0);break;case 6:if(An(s,n),Nn(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,i=n.stateNode;try{i.nodeValue=c}catch(K){ot(n,n.return,K)}}break;case 3:if(Ed=null,f=nr,nr=bd(s.containerInfo),An(s,n),nr=f,Nn(n),c&4&&i!==null&&i.memoizedState.isDehydrated)try{oc(s.containerInfo)}catch(K){ot(n,n.return,K)}Em&&(Em=!1,Hv(n));break;case 4:c=nr,nr=bd(n.stateNode.containerInfo),An(s,n),Nn(n),nr=c;break;case 12:An(s,n),Nn(n);break;case 13:An(s,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Im=On()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Tm(n,c)));break;case 22:f=n.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,G=is,J=_t;if(is=G||f,_t=J||O,An(s,n),_t=J,is=G,Nn(n),c&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(i===null||O||is||_t||ii(n)),i=null,s=n;;){if(s.tag===5||s.tag===26){if(i===null){O=i=s;try{if(g=O.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=O.stateNode;var te=O.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){ot(O,O.return,K)}}}else if(s.tag===6){if(i===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(K){ot(O,O.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,Tm(n,i))));break;case 19:An(s,n),Nn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Tm(n,c)));break;case 30:break;case 21:break;default:An(s,n),Nn(n)}}function Nn(n){var s=n.flags;if(s&2){try{for(var i,c=n.return;c!==null;){if(Pv(c)){i=c;break}c=c.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var f=i.stateNode,g=bm(n);ld(n,g,f);break;case 5:var b=i.stateNode;i.flags&32&&(Pn(b,""),i.flags&=-33);var A=bm(n);ld(n,A,b);break;case 3:case 4:var O=i.stateNode.containerInfo,G=bm(n);wm(n,G,O);break;default:throw Error(a(161))}}catch(J){ot(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Hv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Hv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Bs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uv(n,s.alternate,s),s=s.sibling}function ii(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),ii(s);break;case 1:Ar(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&Ov(s,s.return,i),ii(s);break;case 27:Zl(s.stateNode);case 26:case 5:Ar(s,s.return),ii(s);break;case 22:s.memoizedState===null&&ii(s);break;case 30:ii(s);break;default:ii(s)}n=n.sibling}}function qs(n,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=n,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:qs(f,g,i),Fl(4,g);break;case 1:if(qs(f,g,i),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ot(c,c.return,G)}if(c=g,f=c.updateQueue,f!==null){var A=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)x0(O[f],A)}catch(G){ot(c,c.return,G)}}i&&b&64&&kv(g),Hl(g,g.return);break;case 27:Vv(g);case 26:case 5:qs(f,g,i),i&&c===null&&b&4&&Mv(g),Hl(g,g.return);break;case 12:qs(f,g,i);break;case 13:qs(f,g,i),i&&b&4&&qv(f,g);break;case 22:g.memoizedState===null&&qs(f,g,i),Hl(g,g.return);break;case 30:break;default:qs(f,g,i)}s=s.sibling}}function Sm(n,s){var i=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==i&&(n!=null&&n.refCount++,i!=null&&Cl(i))}function Am(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Cl(n))}function Nr(n,s,i,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gv(n,s,i,c),s=s.sibling}function Gv(n,s,i,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(n,s,i,c),f&2048&&Fl(9,s);break;case 1:Nr(n,s,i,c);break;case 3:Nr(n,s,i,c),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Cl(n)));break;case 12:if(f&2048){Nr(n,s,i,c),n=s.stateNode;try{var g=s.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){ot(s,s.return,O)}}else Nr(n,s,i,c);break;case 13:Nr(n,s,i,c);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Nr(n,s,i,c):Gl(n,s):g._visibility&2?Nr(n,s,i,c):(g._visibility|=2,oo(n,s,i,c,(s.subtreeFlags&10256)!==0)),f&2048&&Sm(b,s);break;case 24:Nr(n,s,i,c),f&2048&&Am(s.alternate,s);break;default:Nr(n,s,i,c)}}function oo(n,s,i,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=n,b=s,A=i,O=c,G=b.flags;switch(b.tag){case 0:case 11:case 15:oo(g,b,A,O,f),Fl(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?oo(g,b,A,O,f):Gl(g,b):(J._visibility|=2,oo(g,b,A,O,f)),f&&G&2048&&Sm(b.alternate,b);break;case 24:oo(g,b,A,O,f),f&&G&2048&&Am(b.alternate,b);break;default:oo(g,b,A,O,f)}s=s.sibling}}function Gl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=n,c=s,f=c.flags;switch(c.tag){case 22:Gl(i,c),f&2048&&Sm(c.alternate,c);break;case 24:Gl(i,c),f&2048&&Am(c.alternate,c);break;default:Gl(i,c)}s=s.sibling}}var $l=8192;function lo(n){if(n.subtreeFlags&$l)for(n=n.child;n!==null;)$v(n),n=n.sibling}function $v(n){switch(n.tag){case 26:lo(n),n.flags&$l&&n.memoizedState!==null&&iS(nr,n.memoizedState,n.memoizedProps);break;case 5:lo(n);break;case 3:case 4:var s=nr;nr=bd(n.stateNode.containerInfo),lo(n),nr=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=$l,$l=16777216,lo(n),$l=s):lo(n));break;default:lo(n)}}function Kv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Kl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];qt=c,Qv(c,n)}Kv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yv(n),n=n.sibling}function Yv(n){switch(n.tag){case 0:case 11:case 15:Kl(n),n.flags&2048&&zs(9,n,n.return);break;case 3:Kl(n);break;case 12:Kl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,cd(n)):Kl(n);break;default:Kl(n)}}function cd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];qt=c,Qv(c,n)}Kv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zs(8,s,s.return),cd(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,cd(s));break;default:cd(s)}n=n.sibling}}function Qv(n,s){for(;qt!==null;){var i=qt;switch(i.tag){case 0:case 11:case 15:zs(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cl(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,qt=c;else e:for(i=n;qt!==null;){c=qt;var f=c.sibling,g=c.return;if(zv(c),c===i){qt=null;break e}if(f!==null){f.return=g,qt=f;break e}qt=g}}}var w2={getCacheForType:function(n){var s=en(Mt),i=s.data.get(n);return i===void 0&&(i=n(),s.data.set(n,i)),i}},E2=typeof WeakMap=="function"?WeakMap:Map,tt=0,lt=null,Ue=null,$e=0,nt=0,Rn=null,Fs=!1,co=!1,Nm=!1,ls=0,yt=0,Hs=0,oi=0,Rm=0,Gn=0,uo=0,Yl=null,gn=null,Cm=!1,Im=0,ud=1/0,dd=null,Gs=null,Yt=0,$s=null,ho=null,fo=0,jm=0,Dm=null,Xv=null,Ql=0,km=null;function Cn(){if((tt&2)!==0&&$e!==0)return $e&-$e;if(Q.T!==null){var n=Zi;return n!==0?n:zm()}return Ns()}function Wv(){Gn===0&&(Gn=($e&536870912)===0||Xe?sl():536870912);var n=Hn.current;return n!==null&&(n.flags|=32),Gn}function In(n,s,i){(n===lt&&(nt===2||nt===9)||n.cancelPendingCommit!==null)&&(mo(n,0),Ks(n,$e,Gn,!1)),zr(n,i),((tt&2)===0||n!==lt)&&(n===lt&&((tt&2)===0&&(oi|=i),yt===4&&Ks(n,$e,Gn,!1)),Rr(n))}function Jv(n,s,i){if((tt&6)!==0)throw Error(a(327));var c=!i&&(s&124)===0&&(s&n.expiredLanes)===0||ka(n,s),f=c?A2(n,s):Pm(n,s,!0),g=c;do{if(f===0){co&&!c&&Ks(n,s,0,!1);break}else{if(i=n.current.alternate,g&&!T2(i)){f=Pm(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=n;f=Yl;var O=A.current.memoizedState.isDehydrated;if(O&&(mo(A,b).flags|=256),b=Pm(A,b,!1),b!==2){if(Nm&&!O){A.errorRecoveryDisabledLanes|=g,oi|=g,f=4;break e}g=gn,gn=f,g!==null&&(gn===null?gn=g:gn.push.apply(gn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){mo(n,0),Ks(n,s,0,!0);break}e:{switch(c=n,g=f,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Ks(c,s,Gn,!Fs);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(f=Im+300-On(),10<f)){if(Ks(c,s,Gn,!Fs),Ii(c,0,!0)!==0)break e;c.timeoutHandle=Nx(Zv.bind(null,c,i,gn,dd,Cm,s,Gn,oi,uo,Fs,g,2,-0,0),f);break e}Zv(c,i,gn,dd,Cm,s,Gn,oi,uo,Fs,g,0,-0,0)}}break}while(!0);Rr(n)}function Zv(n,s,i,c,f,g,b,A,O,G,J,te,$,K){if(n.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(nc={stylesheets:null,count:0,unsuspend:aS},$v(s),te=oS(),te!==null)){n.cancelPendingCommit=te(ix.bind(null,n,s,g,i,c,f,b,A,O,J,1,$,K)),Ks(n,g,b,!G);return}ix(n,s,g,i,c,f,b,A,O)}function T2(n){for(var s=n;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],g=f.getSnapshot;f=f.value;try{if(!Tn(g(),f))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ks(n,s,i,c){s&=~Rm,s&=~oi,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var f=s;0<f;){var g=31-Zt(f),b=1<<g;c[g]=-1,f&=~b}i!==0&&fr(n,i,s)}function hd(){return(tt&6)===0?(Xl(0),!1):!0}function Om(){if(Ue!==null){if(nt===0)var n=Ue.return;else n=Ue,es=ti=null,Wf(n),ao=null,zl=0,n=Ue;for(;n!==null;)Dv(n.alternate,n),n=n.return;Ue=null}}function mo(n,s){var i=n.timeoutHandle;i!==-1&&(n.timeoutHandle=-1,q2(i)),i=n.cancelPendingCommit,i!==null&&(n.cancelPendingCommit=null,i()),Om(),lt=n,Ue=i=Wr(n.current,null),$e=s,nt=0,Rn=null,Fs=!1,co=ka(n,s),Nm=!1,uo=Gn=Rm=oi=Hs=yt=0,gn=Yl=null,Cm=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var f=31-Zt(c),g=1<<f;s|=n[f],c&=~g}return ls=s,Ou(),i}function ex(n,s){Oe=null,Q.H=Zu,s===jl||s===Fu?(s=y0(),nt=3):s===m0?(s=y0(),nt=4):nt=s===vv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Ue===null&&(yt=1,sd(n,zn(s,n.current)))}function tx(){var n=Q.H;return Q.H=Zu,n===null?Zu:n}function nx(){var n=Q.A;return Q.A=w2,n}function Mm(){yt=4,Fs||($e&4194048)!==$e&&Hn.current!==null||(co=!0),(Hs&134217727)===0&&(oi&134217727)===0||lt===null||Ks(lt,$e,Gn,!1)}function Pm(n,s,i){var c=tt;tt|=2;var f=tx(),g=nx();(lt!==n||$e!==s)&&(dd=null,mo(n,s)),s=!1;var b=yt;e:do try{if(nt!==0&&Ue!==null){var A=Ue,O=Rn;switch(nt){case 8:Om(),b=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(s=!0);var G=nt;if(nt=0,Rn=null,po(n,A,O,G),i&&co){b=0;break e}break;default:G=nt,nt=0,Rn=null,po(n,A,O,G)}}S2(),b=yt;break}catch(J){ex(n,J)}while(!0);return s&&n.shellSuspendCounter++,es=ti=null,tt=c,Q.H=f,Q.A=g,Ue===null&&(lt=null,$e=0,Ou()),b}function S2(){for(;Ue!==null;)rx(Ue)}function A2(n,s){var i=tt;tt|=2;var c=tx(),f=nx();lt!==n||$e!==s?(dd=null,ud=On()+500,mo(n,s)):co=ka(n,s);e:do try{if(nt!==0&&Ue!==null){s=Ue;var g=Rn;t:switch(nt){case 1:nt=0,Rn=null,po(n,s,g,1);break;case 2:case 9:if(p0(g)){nt=0,Rn=null,sx(s);break}s=function(){nt!==2&&nt!==9||lt!==n||(nt=7),Rr(n)},g.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:p0(g)?(nt=0,Rn=null,sx(s)):(nt=0,Rn=null,po(n,s,g,7));break;case 5:var b=null;switch(Ue.tag){case 26:b=Ue.memoizedState;case 5:case 27:var A=Ue;if(!b||Ux(b)){nt=0,Rn=null;var O=A.sibling;if(O!==null)Ue=O;else{var G=A.return;G!==null?(Ue=G,fd(G)):Ue=null}break t}}nt=0,Rn=null,po(n,s,g,5);break;case 6:nt=0,Rn=null,po(n,s,g,6);break;case 8:Om(),yt=6;break e;default:throw Error(a(462))}}N2();break}catch(J){ex(n,J)}while(!0);return es=ti=null,Q.H=c,Q.A=f,tt=i,Ue!==null?0:(lt=null,$e=0,Ou(),yt)}function N2(){for(;Ue!==null&&!el();)rx(Ue)}function rx(n){var s=Iv(n.alternate,n,ls);n.memoizedProps=n.pendingProps,s===null?fd(n):Ue=s}function sx(n){var s=n,i=s.alternate;switch(s.tag){case 15:case 0:s=Tv(i,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=Tv(i,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:Wf(s);default:Dv(i,s),s=Ue=a0(s,ls),s=Iv(i,s,ls)}n.memoizedProps=n.pendingProps,s===null?fd(n):Ue=s}function po(n,s,i,c){es=ti=null,Wf(s),ao=null,zl=0;var f=s.return;try{if(g2(n,f,s,i,$e)){yt=1,sd(n,zn(i,n.current)),Ue=null;return}}catch(g){if(f!==null)throw Ue=f,g;yt=1,sd(n,zn(i,n.current)),Ue=null;return}s.flags&32768?(Xe||c===1?n=!0:co||($e&536870912)!==0?n=!1:(Fs=n=!0,(c===2||c===9||c===3||c===6)&&(c=Hn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ax(s,n)):fd(s)}function fd(n){var s=n;do{if((s.flags&32768)!==0){ax(s,Fs);return}n=s.return;var i=v2(s.alternate,s,ls);if(i!==null){Ue=i;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=n}while(s!==null);yt===0&&(yt=5)}function ax(n,s){do{var i=x2(n.alternate,n);if(i!==null){i.flags&=32767,Ue=i;return}if(i=n.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(n=n.sibling,n!==null)){Ue=n;return}Ue=n=i}while(n!==null);yt=6,Ue=null}function ix(n,s,i,c,f,g,b,A,O){n.cancelPendingCommit=null;do md();while(Yt!==0);if((tt&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=Af,il(n,i,g,b,A,O),n===lt&&(Ue=lt=null,$e=0),ho=s,$s=n,fo=i,jm=g,Dm=f,Xv=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,j2(Ca,function(){return dx(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,f=oe.p,oe.p=2,b=tt,tt|=4;try{_2(n,s,i)}finally{tt=b,oe.p=f,Q.T=c}}Yt=1,ox(),lx(),cx()}}function ox(){if(Yt===1){Yt=0;var n=$s,s=ho,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=Q.T,Q.T=null;var c=oe.p;oe.p=2;var f=tt;tt|=4;try{Fv(s,n);var g=Ym,b=Qy(n.containerInfo),A=g.focusedElem,O=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&Yy(A.ownerDocument.documentElement,A)){if(O!==null&&bf(A)){var G=O.start,J=O.end;if(J===void 0&&(J=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(J,A.value.length);else{var te=A.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var K=$.getSelection(),Ne=A.textContent.length,be=Math.min(O.start,Ne),it=O.end===void 0?be:Math.min(O.end,Ne);!K.extend&&be>it&&(b=it,it=be,be=b);var q=Ky(A,be),U=Ky(A,it);if(q&&U&&(K.rangeCount!==1||K.anchorNode!==q.node||K.anchorOffset!==q.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var H=te.createRange();H.setStart(q.node,q.offset),K.removeAllRanges(),be>it?(K.addRange(H),K.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),K.addRange(H))}}}}for(te=[],K=A;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<te.length;A++){var Z=te[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ad=!!Km,Ym=Km=null}finally{tt=f,oe.p=c,Q.T=i}}n.current=s,Yt=2}}function lx(){if(Yt===2){Yt=0;var n=$s,s=ho,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=Q.T,Q.T=null;var c=oe.p;oe.p=2;var f=tt;tt|=4;try{Uv(n,s.alternate,s)}finally{tt=f,oe.p=c,Q.T=i}}Yt=3}}function cx(){if(Yt===4||Yt===3){Yt=0,cu();var n=$s,s=ho,i=fo,c=Xv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Yt=5:(Yt=0,ho=$s=null,ux(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Gs=null),ji(i),s=s.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Q.T,f=oe.p,oe.p=2,Q.T=null;try{for(var g=n.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{Q.T=s,oe.p=f}}(fo&3)!==0&&md(),Rr(n),f=n.pendingLanes,(i&4194090)!==0&&(f&42)!==0?n===km?Ql++:(Ql=0,km=n):Ql=0,Xl(0)}}function ux(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Cl(s)))}function md(n){return ox(),lx(),cx(),dx()}function dx(){if(Yt!==5)return!1;var n=$s,s=jm;jm=0;var i=ji(fo),c=Q.T,f=oe.p;try{oe.p=32>i?32:i,Q.T=null,i=Dm,Dm=null;var g=$s,b=fo;if(Yt=0,ho=$s=null,fo=0,(tt&6)!==0)throw Error(a(331));var A=tt;if(tt|=4,Yv(g.current),Gv(g,g.current,b,i),tt=A,Xl(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{oe.p=f,Q.T=c,ux(n,s)}}function hx(n,s,i){s=zn(i,s),s=dm(n.stateNode,s,2),n=Ps(n,s,2),n!==null&&(zr(n,2),Rr(n))}function ot(n,s,i){if(n.tag===3)hx(n,n,i);else for(;s!==null;){if(s.tag===3){hx(s,n,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gs===null||!Gs.has(c))){n=zn(i,n),i=gv(2),c=Ps(s,i,2),c!==null&&(yv(i,c,s,n),zr(c,2),Rr(c));break}}s=s.return}}function Vm(n,s,i){var c=n.pingCache;if(c===null){c=n.pingCache=new E2;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(i)||(Nm=!0,f.add(i),n=R2.bind(null,n,s,i),s.then(n,n))}function R2(n,s,i){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&i,n.warmLanes&=~i,lt===n&&($e&i)===i&&(yt===4||yt===3&&($e&62914560)===$e&&300>On()-Im?(tt&2)===0&&mo(n,0):Rm|=i,uo===$e&&(uo=0)),Rr(n)}function fx(n,s){s===0&&(s=al()),n=Qi(n,s),n!==null&&(zr(n,s),Rr(n))}function C2(n){var s=n.memoizedState,i=0;s!==null&&(i=s.retryLane),fx(n,i)}function I2(n,s){var i=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),fx(n,i)}function j2(n,s){return Na(n,s)}var pd=null,go=null,Lm=!1,gd=!1,Um=!1,li=0;function Rr(n){n!==go&&n.next===null&&(go===null?pd=go=n:go=go.next=n),gd=!0,Lm||(Lm=!0,k2())}function Xl(n,s){if(!Um&&gd){Um=!0;do for(var i=!1,c=pd;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Zt(42|n)+1)-1,g&=f&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,yx(c,g))}else g=$e,g=Ii(c,c===lt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ka(c,g)||(i=!0,yx(c,g));c=c.next}while(i);Um=!1}}function D2(){mx()}function mx(){gd=Lm=!1;var n=0;li!==0&&(B2()&&(n=li),li=0);for(var s=On(),i=null,c=pd;c!==null;){var f=c.next,g=px(c,s);g===0?(c.next=null,i===null?pd=f:i.next=f,f===null&&(go=i)):(i=c,(n!==0||(g&3)!==0)&&(gd=!0)),c=f}Xl(n)}function px(n,s){for(var i=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var b=31-Zt(g),A=1<<b,O=f[b];O===-1?((A&i)===0||(A&c)!==0)&&(f[b]=rl(A,s)):O<=s&&(n.expiredLanes|=A),g&=~A}if(s=lt,i=$e,i=Ii(n,n===s?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,i===0||n===s&&(nt===2||nt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Ra(c),n.callbackNode=null,n.callbackPriority=0;if((i&3)===0||ka(n,i)){if(s=i&-i,s===n.callbackPriority)return s;switch(c!==null&&Ra(c),ji(i)){case 2:case 8:i=Ri;break;case 32:i=Ca;break;case 268435456:i=Ci;break;default:i=Ca}return c=gx.bind(null,n),i=Na(i,c),n.callbackPriority=s,n.callbackNode=i,s}return c!==null&&c!==null&&Ra(c),n.callbackPriority=2,n.callbackNode=null,2}function gx(n,s){if(Yt!==0&&Yt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var i=n.callbackNode;if(md()&&n.callbackNode!==i)return null;var c=$e;return c=Ii(n,n===lt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Jv(n,c,s),px(n,On()),n.callbackNode!=null&&n.callbackNode===i?gx.bind(null,n):null)}function yx(n,s){if(md())return null;Jv(n,s,!0)}function k2(){F2(function(){(tt&6)!==0?Na(tl,D2):mx()})}function zm(){return li===0&&(li=sl()),li}function vx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Vi(""+n)}function xx(n,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,n.id&&i.setAttribute("form",n.id),s.parentNode.insertBefore(i,s),n=new FormData(n),i.parentNode.removeChild(i),n}function O2(n,s,i,c,f){if(s==="submit"&&i&&i.stateNode===f){var g=vx((f[Et]||null).action),b=c.submitter;b&&(s=(s=b[Et]||null)?vx(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var A=new Li("action","action",null,c,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(li!==0){var O=b?xx(f,b):new FormData(f);im(i,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(A.preventDefault(),O=b?xx(f,b):new FormData(f),im(i,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var Bm=0;Bm<Sf.length;Bm++){var qm=Sf[Bm],M2=qm.toLowerCase(),P2=qm[0].toUpperCase()+qm.slice(1);tr(M2,"on"+P2)}tr(Jy,"onAnimationEnd"),tr(Zy,"onAnimationIteration"),tr(e0,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(ZT,"onTransitionRun"),tr(e2,"onTransitionStart"),tr(t2,"onTransitionCancel"),tr(t0,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function _x(n,s){s=(s&4)!==0;for(var i=0;i<n.length;i++){var c=n[i],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var A=c[b],O=A.instance,G=A.currentTarget;if(A=A.listener,O!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=G;try{g(f)}catch(J){rd(J)}f.currentTarget=null,g=O}else for(b=0;b<c.length;b++){if(A=c[b],O=A.instance,G=A.currentTarget,A=A.listener,O!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=G;try{g(f)}catch(J){rd(J)}f.currentTarget=null,g=O}}}}function ze(n,s){var i=s[ll];i===void 0&&(i=s[ll]=new Set);var c=n+"__bubble";i.has(c)||(bx(s,n,2,!1),i.add(c))}function Fm(n,s,i){var c=0;s&&(c|=4),bx(i,n,c,s)}var yd="_reactListening"+Math.random().toString(36).slice(2);function Hm(n){if(!n[yd]){n[yd]=!0,cl.forEach(function(i){i!=="selectionchange"&&(V2.has(i)||Fm(i,!1,n),Fm(i,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[yd]||(s[yd]=!0,Fm("selectionchange",!1,s))}}function bx(n,s,i,c){switch(Gx(s)){case 2:var f=uS;break;case 8:f=dS;break;default:f=sp}i=f.bind(null,s,i,n),f=void 0,!Ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(s,i,{capture:!0,passive:f}):n.addEventListener(s,i,!0):f!==void 0?n.addEventListener(s,i,{passive:f}):n.addEventListener(s,i,!1)}function Gm(n,s,i,c,f){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===f)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;A!==null;){if(b=Br(A),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){c=g=b;continue e}A=A.parentNode}}c=c.return}xu(function(){var G=g,J=Vn(i),te=[];e:{var $=n0.get(n);if($!==void 0){var K=Li,Ne=n;switch(n){case"keypress":if(xr(i)===0)break e;case"keydown":case"keyup":K=Hi;break;case"focusin":Ne="focus",K=Bi;break;case"focusout":Ne="blur",K=Bi;break;case"beforeblur":case"afterblur":K=Bi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Nu;break;case Jy:case Zy:case e0:K=qi;break;case t0:K=Cu;break;case"scroll":case"scrollend":K=_u;break;case"wheel":K=Gi;break;case"copy":case"cut":case"paste":K=Fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=bl;break;case"toggle":case"beforetoggle":K=ju}var be=(s&4)!==0,it=!be&&(n==="scroll"||n==="scrollend"),q=be?$!==null?$+"Capture":null:$;be=[];for(var U=G,H;U!==null;){var Z=U;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||q===null||(Z=Ba(U,q),Z!=null&&be.push(Jl(U,Z,H))),it)break;U=U.return}0<be.length&&($=new K($,Ne,null,i,J),te.push({event:$,listeners:be}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",$&&i!==Gr&&(Ne=i.relatedTarget||i.fromElement)&&(Br(Ne)||Ne[Mn]))break e;if((K||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Ne=i.relatedTarget||i.toElement,K=G,Ne=Ne?Br(Ne):null,Ne!==null&&(it=l(Ne),be=Ne.tag,Ne!==it||be!==5&&be!==27&&be!==6)&&(Ne=null)):(K=null,Ne=G),K!==Ne)){if(be=Un,Z="onMouseLeave",q="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(be=bl,Z="onPointerLeave",q="onPointerEnter",U="pointer"),it=K==null?$:pr(K),H=Ne==null?$:pr(Ne),$=new be(Z,U+"leave",K,i,J),$.target=it,$.relatedTarget=H,Z=null,Br(J)===G&&(be=new be(q,U+"enter",Ne,i,J),be.target=H,be.relatedTarget=it,Z=be),it=Z,K&&Ne)t:{for(be=K,q=Ne,U=0,H=be;H;H=yo(H))U++;for(H=0,Z=q;Z;Z=yo(Z))H++;for(;0<U-H;)be=yo(be),U--;for(;0<H-U;)q=yo(q),H--;for(;U--;){if(be===q||q!==null&&be===q.alternate)break t;be=yo(be),q=yo(q)}be=null}else be=null;K!==null&&wx(te,$,K,be,!1),Ne!==null&&it!==null&&wx(te,it,Ne,be,!0)}}e:{if($=G?pr(G):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var pe=By;else if(Ot($))if(qy)pe=XT;else{pe=YT;var Ve=KT}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&ml(G.elementType)&&(pe=By):pe=QT;if(pe&&(pe=pe(n,G))){Xr(te,pe,i,J);break e}Ve&&Ve(n,$,G),n==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&js($,"number",$.value)}switch(Ve=G?pr(G):window,n){case"focusin":(Ot(Ve)||Ve.contentEditable==="true")&&($i=Ve,wf=G,Tl=null);break;case"focusout":Tl=wf=$i=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,Xy(te,i,J);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":Xy(te,i,J)}var xe;if(wr)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else He?W(n,i)&&(we="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(we="onCompositionStart");we&&(_&&i.locale!=="ko"&&(He||we!=="onCompositionStart"?we==="onCompositionEnd"&&He&&(xe=gl()):(vr=J,Ds="value"in vr?vr.value:vr.textContent,He=!0)),Ve=vd(G,we),0<Ve.length&&(we=new xl(we,n,null,i,J),te.push({event:we,listeners:Ve}),xe?we.data=xe:(xe=le(i),xe!==null&&(we.data=xe)))),(xe=v?kt(n,i):Ge(n,i))&&(we=vd(G,"onBeforeInput"),0<we.length&&(Ve=new xl("onBeforeInput","beforeinput",null,i,J),te.push({event:Ve,listeners:we}),Ve.data=xe)),O2(te,n,G,i,J)}_x(te,s)})}function Jl(n,s,i){return{instance:n,listener:s,currentTarget:i}}function vd(n,s){for(var i=s+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ba(n,i),f!=null&&c.unshift(Jl(n,f,g)),f=Ba(n,s),f!=null&&c.push(Jl(n,f,g))),n.tag===3)return c;n=n.return}return[]}function yo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function wx(n,s,i,c,f){for(var g=s._reactName,b=[];i!==null&&i!==c;){var A=i,O=A.alternate,G=A.stateNode;if(A=A.tag,O!==null&&O===c)break;A!==5&&A!==26&&A!==27||G===null||(O=G,f?(G=Ba(i,g),G!=null&&b.unshift(Jl(i,G,O))):f||(G=Ba(i,g),G!=null&&b.push(Jl(i,G,O)))),i=i.return}b.length!==0&&n.push({event:s,listeners:b})}var L2=/\r\n?/g,U2=/\u0000|\uFFFD/g;function Ex(n){return(typeof n=="string"?n:""+n).replace(L2,`
`).replace(U2,"")}function Tx(n,s){return s=Ex(s),Ex(n)===s}function xd(){}function at(n,s,i,c,f,g){switch(i){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Pn(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Pn(n,""+c);break;case"className":gr(n,"class",c);break;case"tabIndex":gr(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(n,i,c);break;case"style":fl(n,c,g);break;case"data":if(s!=="object"){gr(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||i!=="href")){n.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(i);break}c=Vi(""+c),n.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(s!=="input"&&at(n,s,"name",f.name,f,null),at(n,s,"formEncType",f.formEncType,f,null),at(n,s,"formMethod",f.formMethod,f,null),at(n,s,"formTarget",f.formTarget,f,null)):(at(n,s,"encType",f.encType,f,null),at(n,s,"method",f.method,f,null),at(n,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(i);break}c=Vi(""+c),n.setAttribute(i,c);break;case"onClick":c!=null&&(n.onclick=xd);break;case"onScroll":c!=null&&ze("scroll",n);break;case"onScrollEnd":c!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=i}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}i=Vi(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,""+c):n.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,""):n.removeAttribute(i);break;case"capture":case"download":c===!0?n.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,c):n.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(i,c):n.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(i):n.setAttribute(i,c);break;case"popover":ze("beforetoggle",n),ze("toggle",n),Is(n,"popover",c);break;case"xlinkActuate":Gt(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gt(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gt(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gt(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gt(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Is(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=pf.get(i)||i,Is(n,i,c))}}function $m(n,s,i,c,f,g){switch(i){case"style":fl(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=i}}break;case"children":typeof c=="string"?Pn(n,c):(typeof c=="number"||typeof c=="bigint")&&Pn(n,""+c);break;case"onScroll":c!=null&&ze("scroll",n);break;case"onScrollEnd":c!=null&&ze("scrollend",n);break;case"onClick":c!=null&&(n.onclick=xd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Di.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),s=i.slice(2,f?i.length-7:void 0),g=n[Et]||null,g=g!=null?g[i]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(i in n?n[i]=null:n.hasAttribute(i)&&n.removeAttribute(i)),n.addEventListener(s,c,f);break e}i in n?n[i]=c:c===!0?n.setAttribute(i,""):Is(n,i,c)}}}function Qt(n,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var c=!1,f=!1,g;for(g in i)if(i.hasOwnProperty(g)){var b=i[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:at(n,s,g,b,i,null)}}f&&at(n,s,"srcSet",i.srcSet,i,null),c&&at(n,s,"src",i.src,i,null);return;case"input":ze("invalid",n);var A=g=b=f=null,O=null,G=null;for(c in i)if(i.hasOwnProperty(c)){var J=i[c];if(J!=null)switch(c){case"name":f=J;break;case"type":b=J;break;case"checked":O=J;break;case"defaultChecked":G=J;break;case"value":g=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:at(n,s,c,J,i,null)}}La(n,g,A,O,G,b,f,!1),Pi(n);return;case"select":ze("invalid",n),c=b=g=null;for(f in i)if(i.hasOwnProperty(f)&&(A=i[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:at(n,s,f,A,i,null)}s=g,i=b,n.multiple=!!c,s!=null?Hr(n,!!c,s,!1):i!=null&&Hr(n,!!c,i,!0);return;case"textarea":ze("invalid",n),g=f=c=null;for(b in i)if(i.hasOwnProperty(b)&&(A=i[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:at(n,s,b,A,i,null)}Ua(n,c,f,g),Pi(n);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(c=i[O],c!=null))switch(O){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(n,s,O,c,i,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(c=0;c<Wl.length;c++)ze(Wl[c],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in i)if(i.hasOwnProperty(G)&&(c=i[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:at(n,s,G,c,i,null)}return;default:if(ml(s)){for(J in i)i.hasOwnProperty(J)&&(c=i[J],c!==void 0&&$m(n,s,J,c,i,void 0));return}}for(A in i)i.hasOwnProperty(A)&&(c=i[A],c!=null&&at(n,s,A,c,i,null))}function z2(n,s,i,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,A=null,O=null,G=null,J=null;for(K in i){var te=i[K];if(i.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=te;default:c.hasOwnProperty(K)||at(n,s,K,null,c,te)}}for(var $ in c){var K=c[$];if(te=i[$],c.hasOwnProperty($)&&(K!=null||te!=null))switch($){case"type":g=K;break;case"name":f=K;break;case"checked":G=K;break;case"defaultChecked":J=K;break;case"value":b=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,s));break;default:K!==te&&at(n,s,$,K,c,te)}}En(n,b,A,O,G,J,g,f);return;case"select":K=b=A=$=null;for(g in i)if(O=i[g],i.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":K=O;default:c.hasOwnProperty(g)||at(n,s,g,null,c,O)}for(f in c)if(g=c[f],O=i[f],c.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":$=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==O&&at(n,s,f,g,c,O)}s=A,i=b,c=K,$!=null?Hr(n,!!i,$,!1):!!c!=!!i&&(s!=null?Hr(n,!!i,s,!0):Hr(n,!!i,i?[]:"",!1));return;case"textarea":K=$=null;for(A in i)if(f=i[A],i.hasOwnProperty(A)&&f!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:at(n,s,A,null,c,f)}for(b in c)if(f=c[b],g=i[b],c.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":$=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&at(n,s,b,f,c,g)}rt(n,$,K);return;case"option":for(var Ne in i)if($=i[Ne],i.hasOwnProperty(Ne)&&$!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":n.selected=!1;break;default:at(n,s,Ne,null,c,$)}for(O in c)if($=c[O],K=i[O],c.hasOwnProperty(O)&&$!==K&&($!=null||K!=null))switch(O){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:at(n,s,O,$,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in i)$=i[be],i.hasOwnProperty(be)&&$!=null&&!c.hasOwnProperty(be)&&at(n,s,be,null,c,$);for(G in c)if($=c[G],K=i[G],c.hasOwnProperty(G)&&$!==K&&($!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,s));break;default:at(n,s,G,$,c,K)}return;default:if(ml(s)){for(var it in i)$=i[it],i.hasOwnProperty(it)&&$!==void 0&&!c.hasOwnProperty(it)&&$m(n,s,it,void 0,c,$);for(J in c)$=c[J],K=i[J],!c.hasOwnProperty(J)||$===K||$===void 0&&K===void 0||$m(n,s,J,$,c,K);return}}for(var q in i)$=i[q],i.hasOwnProperty(q)&&$!=null&&!c.hasOwnProperty(q)&&at(n,s,q,null,c,$);for(te in c)$=c[te],K=i[te],!c.hasOwnProperty(te)||$===K||$==null&&K==null||at(n,s,te,$,c,K)}var Km=null,Ym=null;function _d(n){return n.nodeType===9?n:n.ownerDocument}function Sx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ax(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Qm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xm=null;function B2(){var n=window.event;return n&&n.type==="popstate"?n===Xm?!1:(Xm=n,!0):(Xm=null,!1)}var Nx=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,Rx=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof Rx<"u"?function(n){return Rx.resolve(null).then(n).catch(H2)}:Nx;function H2(n){setTimeout(function(){throw n})}function Ys(n){return n==="head"}function Cx(n,s){var i=s,c=0,f=0;do{var g=i.nextSibling;if(n.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(0<c&&8>c){i=c;var b=n.ownerDocument;if(i&1&&Zl(b.documentElement),i&2&&Zl(b.body),i&4)for(i=b.head,Zl(i),b=i.firstChild;b;){var A=b.nextSibling,O=b.nodeName;b[Oa]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||i.removeChild(b),b=A}}if(f===0){n.removeChild(g),oc(s);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:c=i.charCodeAt(0)-48;else c=0;i=g}while(i);oc(s)}function Wm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Wm(i),Cs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}n.removeChild(i)}}function G2(n,s,i,c){for(;n.nodeType===1;){var f=i;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Oa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=rr(n.nextSibling),n===null)break}return null}function $2(n,s,i){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=rr(n.nextSibling),n===null))return null;return n}function Jm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function K2(n,s){var i=n.ownerDocument;if(n.data!=="$?"||i.readyState==="complete")s();else{var c=function(){s(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function rr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Zm=null;function Ix(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return n;s--}else i==="/$"&&s++}n=n.previousSibling}return null}function jx(n,s,i){switch(s=_d(i),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Zl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Cs(n)}var $n=new Map,Dx=new Set;function bd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cs=oe.d;oe.d={f:Y2,r:Q2,D:X2,C:W2,L:J2,m:Z2,X:tS,S:eS,M:nS};function Y2(){var n=cs.f(),s=hd();return n||s}function Q2(n){var s=mr(n);s!==null&&s.tag===5&&s.type==="form"?J0(s):cs.r(n)}var vo=typeof document>"u"?null:document;function kx(n,s,i){var c=vo;if(c&&typeof s=="string"&&s){var f=Tt(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Dx.has(f)||(Dx.add(f),n={rel:n,crossOrigin:i,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),Qt(s,"link",n),vt(s),c.head.appendChild(s)))}}function X2(n){cs.D(n),kx("dns-prefetch",n,null)}function W2(n,s){cs.C(n,s),kx("preconnect",n,s)}function J2(n,s,i){cs.L(n,s,i);var c=vo;if(c&&n&&s){var f='link[rel="preload"][as="'+Tt(s)+'"]';s==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Tt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Tt(i.imageSizes)+'"]')):f+='[href="'+Tt(n)+'"]';var g=f;switch(s){case"style":g=xo(n);break;case"script":g=_o(n)}$n.has(g)||(n=x({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:n,as:s},i),$n.set(g,n),c.querySelector(f)!==null||s==="style"&&c.querySelector(ec(g))||s==="script"&&c.querySelector(tc(g))||(s=c.createElement("link"),Qt(s,"link",n),vt(s),c.head.appendChild(s)))}}function Z2(n,s){cs.m(n,s);var i=vo;if(i&&n){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Tt(c)+'"][href="'+Tt(n)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=_o(n)}if(!$n.has(g)&&(n=x({rel:"modulepreload",href:n},s),$n.set(g,n),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(tc(g)))return}c=i.createElement("link"),Qt(c,"link",n),vt(c),i.head.appendChild(c)}}}function eS(n,s,i){cs.S(n,s,i);var c=vo;if(c&&n){var f=ln(c).hoistableStyles,g=xo(n);s=s||"default";var b=f.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(ec(g)))A.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":s},i),(i=$n.get(g))&&ep(n,i);var O=b=c.createElement("link");vt(O),Qt(O,"link",n),O._p=new Promise(function(G,J){O.onload=G,O.onerror=J}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,wd(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:A},f.set(g,b)}}}function tS(n,s){cs.X(n,s);var i=vo;if(i&&n){var c=ln(i).hoistableScripts,f=_o(n),g=c.get(f);g||(g=i.querySelector(tc(f)),g||(n=x({src:n,async:!0},s),(s=$n.get(f))&&tp(n,s),g=i.createElement("script"),vt(g),Qt(g,"link",n),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function nS(n,s){cs.M(n,s);var i=vo;if(i&&n){var c=ln(i).hoistableScripts,f=_o(n),g=c.get(f);g||(g=i.querySelector(tc(f)),g||(n=x({src:n,async:!0,type:"module"},s),(s=$n.get(f))&&tp(n,s),g=i.createElement("script"),vt(g),Qt(g,"link",n),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function Ox(n,s,i,c){var f=(f=Ee.current)?bd(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=xo(i.href),i=ln(f).hoistableStyles,c=i.get(s),c||(c={type:"style",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){n=xo(i.href);var g=ln(f).hoistableStyles,b=g.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,b),(g=f.querySelector(ec(n)))&&!g._p&&(b.instance=g,b.state.loading=5),$n.has(n)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},$n.set(n,i),g||rS(f,n,i,b.state))),s&&c===null)throw Error(a(528,""));return b}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_o(i),i=ln(f).hoistableScripts,c=i.get(s),c||(c={type:"script",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function xo(n){return'href="'+Tt(n)+'"'}function ec(n){return'link[rel="stylesheet"]['+n+"]"}function Mx(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function rS(n,s,i,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Qt(s,"link",i),vt(s),n.head.appendChild(s))}function _o(n){return'[src="'+Tt(n)+'"]'}function tc(n){return"script[async]"+n}function Px(n,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+Tt(i.href)+'"]');if(c)return s.instance=c,vt(c),c;var f=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),vt(c),Qt(c,"style",f),wd(c,i.precedence,n),s.instance=c;case"stylesheet":f=xo(i.href);var g=n.querySelector(ec(f));if(g)return s.state.loading|=4,s.instance=g,vt(g),g;c=Mx(i),(f=$n.get(f))&&ep(c,f),g=(n.ownerDocument||n).createElement("link"),vt(g);var b=g;return b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),Qt(g,"link",c),s.state.loading|=4,wd(g,i.precedence,n),s.instance=g;case"script":return g=_o(i.src),(f=n.querySelector(tc(g)))?(s.instance=f,vt(f),f):(c=i,(f=$n.get(g))&&(c=x({},i),tp(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),vt(f),Qt(f,"link",c),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,wd(c,i.precedence,n));return s.instance}function wd(n,s,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===s)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(n,s.firstChild))}function ep(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function tp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Ed=null;function Vx(n,s,i){if(Ed===null){var c=new Map,f=Ed=new Map;f.set(i,c)}else f=Ed,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(n))return c;for(c.set(n,null),i=i.getElementsByTagName(n),f=0;f<i.length;f++){var g=i[f];if(!(g[Oa]||g[Dt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=n+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function Lx(n,s,i){n=n.ownerDocument||n,n.head.insertBefore(i,s==="title"?n.querySelector("head > title"):null)}function sS(n,s,i){if(i===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ux(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var nc=null;function aS(){}function iS(n,s,i){if(nc===null)throw Error(a(475));var c=nc;if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=xo(i.href),g=n.querySelector(ec(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Td.bind(c),n.then(c,c)),s.state.loading|=4,s.instance=g,vt(g);return}g=n.ownerDocument||n,i=Mx(i),(f=$n.get(f))&&ep(i,f),g=g.createElement("link"),vt(g);var b=g;b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),Qt(g,"link",i),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Td.bind(c),n.addEventListener("load",s),n.addEventListener("error",s))}}function oS(){if(nc===null)throw Error(a(475));var n=nc;return n.stylesheets&&n.count===0&&np(n,n.stylesheets),0<n.count?function(s){var i=setTimeout(function(){if(n.stylesheets&&np(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(i)}}:null}function Td(){if(this.count--,this.count===0){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Sd=null;function np(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Sd=new Map,s.forEach(lS,n),Sd=null,Td.call(n))}function lS(n,s){if(!(s.state.loading&4)){var i=Sd.get(n);if(i)var c=i.get(null);else{i=new Map,Sd.set(n,i);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),c=b)}c&&i.set(null,c)}f=s.instance,b=f.getAttribute("data-precedence"),g=i.get(b)||c,g===c&&i.set(null,f),i.set(b,f),this.count++,c=Td.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var rc={$$typeof:X,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function cS(n,s,i,c,f,g,b,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function zx(n,s,i,c,f,g,b,A,O,G,J,te){return n=new cS(n,s,i,b,A,O,G,te),s=1,g===!0&&(s|=24),g=Sn(3,null,null,s),n.current=g,g.stateNode=n,s=Vf(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:i,cache:s},Bf(g),n}function Bx(n){return n?(n=Xi,n):Xi}function qx(n,s,i,c,f,g){f=Bx(f),c.context===null?c.context=f:c.pendingContext=f,c=Ms(s),c.payload={element:i},g=g===void 0?null:g,g!==null&&(c.callback=g),i=Ps(n,c,s),i!==null&&(In(i,n,s),kl(i,n,s))}function Fx(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<s?i:s}}function rp(n,s){Fx(n,s),(n=n.alternate)&&Fx(n,s)}function Hx(n){if(n.tag===13){var s=Qi(n,67108864);s!==null&&In(s,n,67108864),rp(n,67108864)}}var Ad=!0;function uS(n,s,i,c){var f=Q.T;Q.T=null;var g=oe.p;try{oe.p=2,sp(n,s,i,c)}finally{oe.p=g,Q.T=f}}function dS(n,s,i,c){var f=Q.T;Q.T=null;var g=oe.p;try{oe.p=8,sp(n,s,i,c)}finally{oe.p=g,Q.T=f}}function sp(n,s,i,c){if(Ad){var f=ap(c);if(f===null)Gm(n,s,c,Nd,i),$x(n,c);else if(fS(f,n,s,i,c))c.stopPropagation();else if($x(n,c),s&4&&-1<hS.indexOf(n)){for(;f!==null;){var g=mr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Jn(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var O=1<<31-Zt(b);A.entanglements[1]|=O,b&=~O}Rr(g),(tt&6)===0&&(ud=On()+500,Xl(0))}}break;case 13:A=Qi(g,2),A!==null&&In(A,g,2),hd(),rp(g,2)}if(g=ap(c),g===null&&Gm(n,s,c,Nd,i),g===f)break;f=g}f!==null&&c.stopPropagation()}else Gm(n,s,c,null,i)}}function ap(n){return n=Vn(n),ip(n)}var Nd=null;function ip(n){if(Nd=null,n=Br(n),n!==null){var s=l(n);if(s===null)n=null;else{var i=s.tag;if(i===13){if(n=u(s),n!==null)return n;n=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Nd=n,null}function Gx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cf()){case tl:return 2;case Ri:return 8;case Ca:case uf:return 32;case Ci:return 268435456;default:return 32}default:return 32}}var op=!1,Qs=null,Xs=null,Ws=null,sc=new Map,ac=new Map,Js=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $x(n,s){switch(n){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":sc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(s.pointerId)}}function ic(n,s,i,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=mr(s),s!==null&&Hx(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function fS(n,s,i,c,f){switch(s){case"focusin":return Qs=ic(Qs,n,s,i,c,f),!0;case"dragenter":return Xs=ic(Xs,n,s,i,c,f),!0;case"mouseover":return Ws=ic(Ws,n,s,i,c,f),!0;case"pointerover":var g=f.pointerId;return sc.set(g,ic(sc.get(g)||null,n,s,i,c,f)),!0;case"gotpointercapture":return g=f.pointerId,ac.set(g,ic(ac.get(g)||null,n,s,i,c,f)),!0}return!1}function Kx(n){var s=Br(n.target);if(s!==null){var i=l(s);if(i!==null){if(s=i.tag,s===13){if(s=u(i),s!==null){n.blockedOn=s,hu(n.priority,function(){if(i.tag===13){var c=Cn();c=As(c);var f=Qi(i,c);f!==null&&In(f,i,c),rp(i,c)}});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var i=ap(n.nativeEvent);if(i===null){i=n.nativeEvent;var c=new i.constructor(i.type,i);Gr=c,i.target.dispatchEvent(c),Gr=null}else return s=mr(i),s!==null&&Hx(s),n.blockedOn=i,!1;s.shift()}return!0}function Yx(n,s,i){Rd(n)&&i.delete(s)}function mS(){op=!1,Qs!==null&&Rd(Qs)&&(Qs=null),Xs!==null&&Rd(Xs)&&(Xs=null),Ws!==null&&Rd(Ws)&&(Ws=null),sc.forEach(Yx),ac.forEach(Yx)}function Cd(n,s){n.blockedOn===s&&(n.blockedOn=null,op||(op=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mS)))}var Id=null;function Qx(n){Id!==n&&(Id=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Id===n&&(Id=null);for(var s=0;s<n.length;s+=3){var i=n[s],c=n[s+1],f=n[s+2];if(typeof c!="function"){if(ip(c||i)===null)continue;break}var g=mr(i);g!==null&&(n.splice(s,3),s-=3,im(g,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function oc(n){function s(O){return Cd(O,n)}Qs!==null&&Cd(Qs,n),Xs!==null&&Cd(Xs,n),Ws!==null&&Cd(Ws,n),sc.forEach(s),ac.forEach(s);for(var i=0;i<Js.length;i++){var c=Js[i];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Js.length&&(i=Js[0],i.blockedOn===null);)Kx(i),i.blockedOn===null&&Js.shift();if(i=(n.ownerDocument||n).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],g=i[c+1],b=f[Et]||null;if(typeof g=="function")b||Qx(i);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Et]||null)A=b.formAction;else if(ip(f)!==null)continue}else A=b.action;typeof A=="function"?i[c+1]=A:(i.splice(c,3),c-=3),Qx(i)}}}function lp(n){this._internalRoot=n}jd.prototype.render=lp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,c=Cn();qx(i,c,n,s,null,null)},jd.prototype.unmount=lp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;qx(n.current,2,null,n,null,null),hd(),s[Mn]=null}};function jd(n){this._internalRoot=n}jd.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ns();n={blockedOn:null,target:n,priority:s};for(var i=0;i<Js.length&&s!==0&&s<Js[i].priority;i++);Js.splice(i,0,n),i===0&&Kx(n)}};var Xx=e.version;if(Xx!=="19.1.0")throw Error(a(527,Xx,"19.1.0"));oe.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var pS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{pt=Dd.inject(pS),et=Dd}catch{}}return cc.createRoot=function(n,s){if(!o(n))throw Error(a(299));var i=!1,c="",f=hv,g=fv,b=mv,A=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=zx(n,1,!1,null,null,i,c,f,g,b,A,null),n[Mn]=s.current,Hm(n),new lp(s)},cc.hydrateRoot=function(n,s,i){if(!o(n))throw Error(a(299));var c=!1,f="",g=hv,b=fv,A=mv,O=null,G=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(O=i.unstable_transitionCallbacks),i.formState!==void 0&&(G=i.formState)),s=zx(n,1,!0,s,i??null,c,f,g,b,A,O,G),s.context=Bx(null),i=s.current,c=Cn(),c=As(c),f=Ms(c),f.callback=null,Ps(i,f,c),i=c,s.current.lanes=i,zr(s,i),Rr(s),n[Mn]=s.current,Hm(n),new jd(s)},cc.version="19.1.0",cc}var i_;function SS(){if(i_)return dp.exports;i_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dp.exports=TS(),dp.exports}var AS=SS(),uc={},o_;function NS(){if(o_)return uc;o_=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.parse=u,uc.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,S){const R=new l,j=w.length;if(j<2)return R;const k=(S==null?void 0:S.decode)||x;let B=0;do{const Y=w.indexOf("=",B);if(Y===-1)break;const X=w.indexOf(";",B),ie=X===-1?j:X;if(Y>ie){B=w.lastIndexOf(";",Y-1)+1;continue}const ue=m(w,B,Y),ve=p(w,Y,ue),M=w.slice(ue,ve);if(R[M]===void 0){let E=m(w,Y+1,ie),I=p(w,ie,E);const P=k(w.slice(E,I));R[M]=P}B=ie+1}while(B<j);return R}function m(w,S,R){do{const j=w.charCodeAt(S);if(j!==32&&j!==9)return S}while(++S<R);return R}function p(w,S,R){for(;S>R;){const j=w.charCodeAt(--S);if(j!==32&&j!==9)return S+1}return R}function y(w,S,R){const j=(R==null?void 0:R.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=j(S);if(!e.test(k))throw new TypeError(`argument val is invalid: ${S}`);let B=w+"="+k;if(!R)return B;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);B+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);B+="; Domain="+R.domain}if(R.path){if(!a.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);B+="; Path="+R.path}if(R.expires){if(!T(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);B+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(B+="; HttpOnly"),R.secure&&(B+="; Secure"),R.partitioned&&(B+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return B}function x(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return uc}NS();var l_="popstate";function RS(r={}){function e(a,o){let{pathname:l,search:u,hash:m}=a.location;return Mp("",{pathname:l,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:kc(o)}return IS(e,t,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CS(){return Math.random().toString(36).substring(2,10)}function c_(r,e){return{usr:r.state,key:r.key,idx:e}}function Mp(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:t,key:e&&e.key||a||CS()}}function kc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function zo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function IS(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,m="POP",p=null,y=x();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function x(){return(u.state||{idx:null}).idx}function T(){m="POP";let k=x(),B=k==null?null:k-y;y=k,p&&p({action:m,location:j.location,delta:B})}function w(k,B){m="PUSH";let Y=Mp(j.location,k,B);y=x()+1;let X=c_(Y,y),ie=j.createHref(Y);try{u.pushState(X,"",ie)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ie)}l&&p&&p({action:m,location:j.location,delta:1})}function S(k,B){m="REPLACE";let Y=Mp(j.location,k,B);y=x();let X=c_(Y,y),ie=j.createHref(Y);u.replaceState(X,"",ie),l&&p&&p({action:m,location:j.location,delta:0})}function R(k){return jS(k)}let j={get action(){return m},get location(){return r(o,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(l_,T),p=k,()=>{o.removeEventListener(l_,T),p=null}},createHref(k){return e(o,k)},createURL:R,encodeLocation(k){let B=R(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:S,go(k){return u.go(k)}};return j}function jS(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:kc(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function cw(r,e,t="/"){return DS(r,e,t,!1)}function DS(r,e,t,a){let o=typeof e=="string"?zo(e):e,l=ys(o.pathname||"/",t);if(l==null)return null;let u=uw(r);kS(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let y=HS(l);m=qS(u[p],y,a)}return m}function uw(r,e=[],t=[],a=""){let o=(l,u,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(ht(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=ms([a,p.relativePath]),x=t.concat(p);l.children&&l.children.length>0&&(ht(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uw(l.children,e,x,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:zS(y,l.index),routesMeta:x})};return r.forEach((l,u)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,u);else for(let p of dw(l.path))o(l,u,p)}),e}function dw(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=dw(a.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...u),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function kS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:BS(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var OS=/^:[\w-]+$/,MS=3,PS=2,VS=1,LS=10,US=-2,u_=r=>r==="*";function zS(r,e){let t=r.split("/"),a=t.length;return t.some(u_)&&(a+=US),e&&(a+=PS),t.filter(o=>!u_(o)).reduce((o,l)=>o+(OS.test(l)?MS:l===""?VS:LS),a)}function BS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function qS(r,e,t=!1){let{routesMeta:a}=r,o={},l="/",u=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,x=l==="/"?e:e.slice(l.length)||"/",T=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},x),w=p.route;if(!T&&y&&t&&!a[a.length-1].route.index&&(T=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:ms([l,T.pathname]),pathnameBase:YS(ms([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=ms([l,T.pathnameBase]))}return u}function sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=FS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:x,isOptional:T},w)=>{if(x==="*"){let R=m[w]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const S=m[w];return T&&!S?y[x]=void 0:y[x]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:r}}function FS(r,e=!1,t=!0){ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function HS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ys(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function GS(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?zo(r):r;return{pathname:t?t.startsWith("/")?t:$S(t,e):e,search:QS(a),hash:XS(o)}}function $S(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function pp(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _g(r){let e=KS(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function bg(r,e,t,a=!1){let o;typeof r=="string"?o=zo(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),pp("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),pp("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),pp("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,m;if(u==null)m=t;else{let T=e.length-1;if(!a&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=GS(o,m),y=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||x)&&(p.pathname+="/"),p}var ms=r=>r.join("/").replace(/\/\/+/g,"/"),YS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function WS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var hw=["POST","PUT","PATCH","DELETE"];new Set(hw);var JS=["GET",...hw];new Set(JS);var Bo=L.createContext(null);Bo.displayName="DataRouter";var jh=L.createContext(null);jh.displayName="DataRouterState";var fw=L.createContext({isTransitioning:!1});fw.displayName="ViewTransition";var ZS=L.createContext(new Map);ZS.displayName="Fetchers";var eA=L.createContext(null);eA.displayName="Await";var ur=L.createContext(null);ur.displayName="Navigation";var Gc=L.createContext(null);Gc.displayName="Location";var dr=L.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var wg=L.createContext(null);wg.displayName="RouteError";function tA(r,{relative:e}={}){ht(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=L.useContext(ur),{hash:o,pathname:l,search:u}=$c(r,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:ms([t,l])),a.createHref({pathname:m,search:u,hash:o})}function qo(){return L.useContext(Gc)!=null}function Lr(){return ht(qo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Gc).location}var mw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pw(r){L.useContext(ur).static||L.useLayoutEffect(r)}function Eg(){let{isDataRoute:r}=L.useContext(dr);return r?gA():nA()}function nA(){ht(qo(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Bo),{basename:e,navigator:t}=L.useContext(ur),{matches:a}=L.useContext(dr),{pathname:o}=Lr(),l=JSON.stringify(_g(a)),u=L.useRef(!1);return pw(()=>{u.current=!0}),L.useCallback((p,y={})=>{if(ar(u.current,mw),!u.current)return;if(typeof p=="number"){t.go(p);return}let x=bg(p,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ms([e,x.pathname])),(y.replace?t.replace:t.push)(x,y.state,y)},[e,t,l,o,r])}var rA=L.createContext(null);function sA(r){let e=L.useContext(dr).outlet;return e&&L.createElement(rA.Provider,{value:r},e)}function $c(r,{relative:e}={}){let{matches:t}=L.useContext(dr),{pathname:a}=Lr(),o=JSON.stringify(_g(t));return L.useMemo(()=>bg(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function aA(r,e){return gw(r,e)}function gw(r,e,t,a){var B;ht(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(ur),{matches:l}=L.useContext(dr),u=l[l.length-1],m=u?u.params:{},p=u?u.pathname:"/",y=u?u.pathnameBase:"/",x=u&&u.route;{let Y=x&&x.path||"";yw(p,!x||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let T=Lr(),w;if(e){let Y=typeof e=="string"?zo(e):e;ht(y==="/"||((B=Y.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),w=Y}else w=T;let S=w.pathname||"/",R=S;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(Y.length).join("/")}let j=cw(r,{pathname:R});ar(x||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ar(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=uA(j&&j.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:ms([y,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:ms([y,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),l,t,a);return e&&k?L.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function iA(){let r=pA(),e=WS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,u)}var oA=L.createElement(iA,null),lA=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement(dr.Provider,{value:this.props.routeContext},L.createElement(wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cA({routeContext:r,match:e,children:t}){let a=L.useContext(Bo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(dr.Provider,{value:r},t)}function uA(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:x,errors:T}=t,w=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||w){u=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,x)=>{let T,w=!1,S=null,R=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,S=y.route.errorElement||oA,u&&(m<0&&x===0?(yw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):m===x&&(w=!0,R=y.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,x+1)),k=()=>{let B;return T?B=S:w?B=R:y.route.Component?B=L.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,L.createElement(cA,{match:y,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?L.createElement(lA,{location:t.location,revalidation:t.revalidation,component:S,error:T,children:k(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):k()},null)}function Tg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dA(r){let e=L.useContext(Bo);return ht(e,Tg(r)),e}function hA(r){let e=L.useContext(jh);return ht(e,Tg(r)),e}function fA(r){let e=L.useContext(dr);return ht(e,Tg(r)),e}function Sg(r){let e=fA(r),t=e.matches[e.matches.length-1];return ht(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function mA(){return Sg("useRouteId")}function pA(){var a;let r=L.useContext(wg),e=hA("useRouteError"),t=Sg("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[t]}function gA(){let{router:r}=dA("useNavigate"),e=Sg("useNavigate"),t=L.useRef(!1);return pw(()=>{t.current=!0}),L.useCallback(async(o,l={})=>{ar(t.current,mw),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var d_={};function yw(r,e,t){!e&&!d_[r]&&(d_[r]=!0,ar(!1,t))}L.memo(yA);function yA({routes:r,future:e,state:t}){return gw(r,void 0,t,e)}function Pp({to:r,replace:e,state:t,relative:a}){ht(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(ur);ar(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(dr),{pathname:u}=Lr(),m=Eg(),p=bg(r,_g(l),u,a==="path"),y=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:a})},[m,y,a,e,t]),null}function vA(r){return sA(r.context)}function Kn(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xA({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1}){ht(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof t=="string"&&(t=zo(t));let{pathname:p="/",search:y="",hash:x="",state:T=null,key:w="default"}=t,S=L.useMemo(()=>{let R=ys(p,u);return R==null?null:{location:{pathname:R,search:y,hash:x,state:T,key:w},navigationType:a}},[u,p,y,x,T,w,a]);return ar(S!=null,`<Router basename="${u}"> is not able to match the URL "${p}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(ur.Provider,{value:m},L.createElement(Gc.Provider,{children:e,value:S}))}function _A({children:r,location:e}){return aA(Vp(r),e)}function Vp(r,e=[]){let t=[];return L.Children.forEach(r,(a,o)=>{if(!L.isValidElement(a))return;let l=[...e,o];if(a.type===L.Fragment){t.push.apply(t,Vp(a.props.children,l));return}ht(a.type===Kn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=Vp(a.props.children,l)),t.push(u)}),t}var Hd="get",Gd="application/x-www-form-urlencoded";function Dh(r){return r!=null&&typeof r.tagName=="string"}function bA(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function wA(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function EA(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function TA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function SA(r,e){return r.button===0&&(!e||e==="_self")&&!TA(r)}var kd=null;function AA(){if(kd===null)try{new FormData(document.createElement("form"),0),kd=!1}catch{kd=!0}return kd}var NA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(r){return r!=null&&!NA.has(r)?(ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gd}"`),null):r}function RA(r,e){let t,a,o,l,u;if(wA(r)){let m=r.getAttribute("action");a=m?ys(m,e):null,t=r.getAttribute("method")||Hd,o=gp(r.getAttribute("enctype"))||Gd,l=new FormData(r)}else if(bA(r)||EA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?ys(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||Hd,o=gp(r.getAttribute("formenctype"))||gp(m.getAttribute("enctype"))||Gd,l=new FormData(m,r),!AA()){let{name:y,type:x,value:T}=r;if(x==="image"){let w=y?`${y}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else y&&l.append(y,T)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hd,a=null,o=Gd,u=r}return l&&o==="text/plain"&&(u=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:u}}function Ag(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function CA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jA(r,e,t){let a=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await CA(l,t);return u.links?u.links():[]}return[]}));return MA(a.flat(1).filter(IA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h_(r,e,t,a,o,l){let u=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>{var x;return t[y].pathname!==p.pathname||((x=t[y].route.path)==null?void 0:x.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>u(p,y)||m(p,y)):l==="data"?e.filter((p,y)=>{var T;let x=a.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(u(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function DA(r,e,{includeHydrateFallback:t}={}){return kA(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function kA(r){return[...new Set(r)]}function OA(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function MA(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let l=JSON.stringify(OA(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PA=new Set([100,101,204,205]);function VA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ys(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function vw(){let r=L.useContext(Bo);return Ag(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function LA(){let r=L.useContext(jh);return Ag(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ng=L.createContext(void 0);Ng.displayName="FrameworkContext";function xw(){let r=L.useContext(Ng);return Ag(r,"You must render this element inside a <HydratedRouter> element"),r}function UA(r,e){let t=L.useContext(Ng),[a,o]=L.useState(!1),[l,u]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:x,onTouchStart:T}=e,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let j=B=>{B.forEach(Y=>{u(Y.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),L.useEffect(()=>{if(a){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[a]);let S=()=>{o(!0)},R=()=>{o(!1),u(!1)};return t?r!=="intent"?[l,w,{}]:[l,w,{onFocus:dc(m,S),onBlur:dc(p,R),onMouseEnter:dc(y,S),onMouseLeave:dc(x,R),onTouchStart:dc(T,S)}]:[!1,w,{}]}function dc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function zA({page:r,...e}){let{router:t}=vw(),a=L.useMemo(()=>cw(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?L.createElement(qA,{page:r,matches:a,...e}):null}function BA(r){let{manifest:e,routeModules:t}=xw(),[a,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return jA(r,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[r,e,t]),a}function qA({page:r,matches:e,...t}){let a=Lr(),{manifest:o,routeModules:l}=xw(),{basename:u}=vw(),{loaderData:m,matches:p}=LA(),y=L.useMemo(()=>h_(r,e,p,o,a,"data"),[r,e,p,o,a]),x=L.useMemo(()=>h_(r,e,p,o,a,"assets"),[r,e,p,o,a]),T=L.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let R=new Set,j=!1;if(e.forEach(B=>{var X;let Y=o.routes[B.route.id];!Y||!Y.hasLoader||(!y.some(ie=>ie.route.id===B.route.id)&&B.route.id in m&&((X=l[B.route.id])!=null&&X.shouldRevalidate)||Y.hasClientLoader?j=!0:R.add(B.route.id))}),R.size===0)return[];let k=VA(r,u);return j&&R.size>0&&k.searchParams.set("_routes",e.filter(B=>R.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[u,m,a,o,y,e,r,l]),w=L.useMemo(()=>DA(x,o),[x,o]),S=BA(x);return L.createElement(L.Fragment,null,T.map(R=>L.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),w.map(R=>L.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:j})=>L.createElement("link",{key:R,...j})))}function FA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_w&&(window.__reactRouterVersion="7.6.3")}catch{}function HA({basename:r,children:e,window:t}){let a=L.useRef();a.current==null&&(a.current=RS({window:t,v5Compat:!0}));let o=a.current,[l,u]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>u(p))},[u]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(xA,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ww=L.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:u,state:m,target:p,to:y,preventScrollReset:x,viewTransition:T,...w},S){let{basename:R}=L.useContext(ur),j=typeof y=="string"&&bw.test(y),k,B=!1;if(typeof y=="string"&&j&&(k=y,_w))try{let I=new URL(window.location.href),P=y.startsWith("//")?new URL(I.protocol+y):new URL(y),z=ys(P.pathname,R);P.origin===I.origin&&z!=null?y=z+P.search+P.hash:B=!0}catch{ar(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=tA(y,{relative:o}),[X,ie,ue]=UA(a,w),ve=YA(y,{replace:u,state:m,target:p,preventScrollReset:x,relative:o,viewTransition:T});function M(I){e&&e(I),I.defaultPrevented||ve(I)}let E=L.createElement("a",{...w,...ue,href:k||Y,onClick:B||l?e:M,ref:FA(S,ie),target:p,"data-discover":!j&&t==="render"?"true":void 0});return X&&!j?L.createElement(L.Fragment,null,E,L.createElement(zA,{page:Y})):E});ww.displayName="Link";var GA=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:m,children:p,...y},x){let T=$c(u,{relative:y.relative}),w=Lr(),S=L.useContext(jh),{navigator:R,basename:j}=L.useContext(ur),k=S!=null&&ZA(T)&&m===!0,B=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,Y=w.pathname,X=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),X=X?X.toLowerCase():null,B=B.toLowerCase()),X&&j&&(X=ys(X,j)||X);const ie=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ue=Y===B||!o&&Y.startsWith(B)&&Y.charAt(ie)==="/",ve=X!=null&&(X===B||!o&&X.startsWith(B)&&X.charAt(B.length)==="/"),M={isActive:ue,isPending:ve,isTransitioning:k},E=ue?e:void 0,I;typeof a=="function"?I=a(M):I=[a,ue?"active":null,ve?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(M):l;return L.createElement(ww,{...y,"aria-current":E,className:I,ref:x,style:P,to:u,viewTransition:m},typeof p=="function"?p(M):p)});GA.displayName="NavLink";var $A=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:u=Hd,action:m,onSubmit:p,relative:y,preventScrollReset:x,viewTransition:T,...w},S)=>{let R=WA(),j=JA(m,{relative:y}),k=u.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&bw.test(m),Y=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ie=X.nativeEvent.submitter,ue=(ie==null?void 0:ie.getAttribute("formmethod"))||u;R(ie||X.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:l,relative:y,preventScrollReset:x,viewTransition:T})};return L.createElement("form",{ref:S,method:k,action:j,onSubmit:a?p:Y,...w,"data-discover":!B&&r==="render"?"true":void 0})});$A.displayName="Form";function KA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ew(r){let e=L.useContext(Bo);return ht(e,KA(r)),e}function YA(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:u}={}){let m=Eg(),p=Lr(),y=$c(r,{relative:l});return L.useCallback(x=>{if(SA(x,e)){x.preventDefault();let T=t!==void 0?t:kc(p)===kc(y);m(r,{replace:T,state:a,preventScrollReset:o,relative:l,viewTransition:u})}},[p,m,y,t,a,e,r,o,l,u])}var QA=0,XA=()=>`__${String(++QA)}__`;function WA(){let{router:r}=Ew("useSubmit"),{basename:e}=L.useContext(ur),t=mA();return L.useCallback(async(a,o={})=>{let{action:l,method:u,encType:m,formData:p,body:y}=RA(a,e);if(o.navigate===!1){let x=o.fetcherKey||XA();await r.fetch(x,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function JA(r,{relative:e}={}){let{basename:t}=L.useContext(ur),a=L.useContext(dr);ht(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...$c(r||".",{relative:e})},u=Lr();if(r==null){l.search=u.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let x=m.toString();l.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ms([t,l.pathname])),kc(l)}function ZA(r,e={}){let t=L.useContext(fw);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Ew("useViewTransitionState"),o=$c(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ys(t.currentLocation.pathname,a)||t.currentLocation.pathname,u=ys(t.nextLocation.pathname,a)||t.nextLocation.pathname;return sh(o.pathname,u)!=null||sh(o.pathname,l)!=null}[...PA];let eN={data:""},tN=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||eN,nN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rN=/\/\*[^]*?\*\/|  +/g,f_=/\n+/g,na=(r,e)=>{let t="",a="",o="";for(let l in r){let u=r[l];l[0]=="@"?l[1]=="i"?t=l+" "+u+";":a+=l[1]=="f"?na(u,l):l+"{"+na(u,l[1]=="k"?"":e)+"}":typeof u=="object"?a+=na(u,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=na.p?na.p(l,u):l+":"+u+";")}return t+(e&&o?e+"{"+o+"}":o)+a},us={},Tw=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Tw(r[t]);return e}return r},sN=(r,e,t,a,o)=>{let l=Tw(r),u=us[l]||(us[l]=(p=>{let y=0,x=11;for(;y<p.length;)x=101*x+p.charCodeAt(y++)>>>0;return"go"+x})(l));if(!us[u]){let p=l!==r?r:(y=>{let x,T,w=[{}];for(;x=nN.exec(y.replace(rN,""));)x[4]?w.shift():x[3]?(T=x[3].replace(f_," ").trim(),w.unshift(w[0][T]=w[0][T]||{})):w[0][x[1]]=x[2].replace(f_," ").trim();return w[0]})(r);us[u]=na(o?{["@keyframes "+u]:p}:p,t?"":"."+u)}let m=t&&us.g?us.g:null;return t&&(us.g=us[u]),((p,y,x,T)=>{T?y.data=y.data.replace(T,p):y.data.indexOf(p)===-1&&(y.data=x?p+y.data:y.data+p)})(us[u],e,a,m),u},aN=(r,e,t)=>r.reduce((a,o,l)=>{let u=e[l];if(u&&u.call){let m=u(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=p?"."+p:m&&typeof m=="object"?m.props?"":na(m,""):m===!1?"":m}return a+o+(u??"")},"");function kh(r){let e=this||{},t=r.call?r(e.p):r;return sN(t.unshift?t.raw?aN(t,[].slice.call(arguments,1),e.p):t.reduce((a,o)=>Object.assign(a,o&&o.call?o(e.p):o),{}):t,tN(e.target),e.g,e.o,e.k)}let Sw,Lp,Up;kh.bind({g:1});let vs=kh.bind({k:1});function iN(r,e,t,a){na.p=e,Sw=r,Lp=t,Up=a}function Ea(r,e){let t=this||{};return function(){let a=arguments;function o(l,u){let m=Object.assign({},l),p=m.className||o.className;t.p=Object.assign({theme:Lp&&Lp()},m),t.o=/ *go\d+/.test(p),m.className=kh.apply(t,a)+(p?" "+p:"");let y=r;return r[0]&&(y=m.as||r,delete m.as),Up&&y[0]&&Up(m),Sw(y,m)}return o}}var oN=r=>typeof r=="function",ah=(r,e)=>oN(r)?r(e):r,lN=(()=>{let r=0;return()=>(++r).toString()})(),Aw=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),cN=20,Nw=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,cN)};case 1:return{...r,toasts:r.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return Nw(r,{type:r.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},$d=[],di={toasts:[],pausedAt:void 0},bi=r=>{di=Nw(di,r),$d.forEach(e=>{e(di)})},uN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dN=(r={})=>{let[e,t]=L.useState(di),a=L.useRef(di);L.useEffect(()=>(a.current!==di&&t(di),$d.push(t),()=>{let l=$d.indexOf(t);l>-1&&$d.splice(l,1)}),[]);let o=e.toasts.map(l=>{var u,m,p;return{...r,...r[l.type],...l,removeDelay:l.removeDelay||((u=r[l.type])==null?void 0:u.removeDelay)||(r==null?void 0:r.removeDelay),duration:l.duration||((m=r[l.type])==null?void 0:m.duration)||(r==null?void 0:r.duration)||uN[l.type],style:{...r.style,...(p=r[l.type])==null?void 0:p.style,...l.style}}});return{...e,toasts:o}},hN=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||lN()}),Kc=r=>(e,t)=>{let a=hN(e,r,t);return bi({type:2,toast:a}),a.id},hn=(r,e)=>Kc("blank")(r,e);hn.error=Kc("error");hn.success=Kc("success");hn.loading=Kc("loading");hn.custom=Kc("custom");hn.dismiss=r=>{bi({type:3,toastId:r})};hn.remove=r=>bi({type:4,toastId:r});hn.promise=(r,e,t)=>{let a=hn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let l=e.success?ah(e.success,o):void 0;return l?hn.success(l,{id:a,...t,...t==null?void 0:t.success}):hn.dismiss(a),o}).catch(o=>{let l=e.error?ah(e.error,o):void 0;l?hn.error(l,{id:a,...t,...t==null?void 0:t.error}):hn.dismiss(a)}),r};var fN=(r,e)=>{bi({type:1,toast:{id:r,height:e}})},mN=()=>{bi({type:5,time:Date.now()})},wc=new Map,pN=1e3,gN=(r,e=pN)=>{if(wc.has(r))return;let t=setTimeout(()=>{wc.delete(r),bi({type:4,toastId:r})},e);wc.set(r,t)},yN=r=>{let{toasts:e,pausedAt:t}=dN(r);L.useEffect(()=>{if(t)return;let l=Date.now(),u=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(l-m.createdAt);if(p<0){m.visible&&hn.dismiss(m.id);return}return setTimeout(()=>hn.dismiss(m.id),p)});return()=>{u.forEach(m=>m&&clearTimeout(m))}},[e,t]);let a=L.useCallback(()=>{t&&bi({type:6,time:Date.now()})},[t]),o=L.useCallback((l,u)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:y}=u||{},x=e.filter(S=>(S.position||y)===(l.position||y)&&S.height),T=x.findIndex(S=>S.id===l.id),w=x.filter((S,R)=>R<T&&S.visible).length;return x.filter(S=>S.visible).slice(...m?[w+1]:[0,w]).reduce((S,R)=>S+(R.height||0)+p,0)},[e]);return L.useEffect(()=>{e.forEach(l=>{if(l.dismissed)gN(l.id,l.removeDelay);else{let u=wc.get(l.id);u&&(clearTimeout(u),wc.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:fN,startPause:mN,endPause:a,calculateOffset:o}}},vN=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xN=vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_N=vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bN=Ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_N} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wN=vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EN=Ea("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${wN} 1s linear infinite;
`,TN=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SN=vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,AN=Ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,NN=Ea("div")`
  position: absolute;
`,RN=Ea("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CN=vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IN=Ea("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jN=({toast:r})=>{let{icon:e,type:t,iconTheme:a}=r;return e!==void 0?typeof e=="string"?L.createElement(IN,null,e):e:t==="blank"?null:L.createElement(RN,null,L.createElement(EN,{...a}),t!=="loading"&&L.createElement(NN,null,t==="error"?L.createElement(bN,{...a}):L.createElement(AN,{...a})))},DN=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kN=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,ON="0%{opacity:0;} 100%{opacity:1;}",MN="0%{opacity:1;} 100%{opacity:0;}",PN=Ea("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,VN=Ea("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LN=(r,e)=>{let t=r.includes("top")?1:-1,[a,o]=Aw()?[ON,MN]:[DN(t),kN(t)];return{animation:e?`${vs(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vs(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},UN=L.memo(({toast:r,position:e,style:t,children:a})=>{let o=r.height?LN(r.position||e||"top-center",r.visible):{opacity:0},l=L.createElement(jN,{toast:r}),u=L.createElement(VN,{...r.ariaProps},ah(r.message,r));return L.createElement(PN,{className:r.className,style:{...o,...t,...r.style}},typeof a=="function"?a({icon:l,message:u}):L.createElement(L.Fragment,null,l,u))});iN(L.createElement);var zN=({id:r,className:e,style:t,onHeightUpdate:a,children:o})=>{let l=L.useCallback(u=>{if(u){let m=()=>{let p=u.getBoundingClientRect().height;a(r,p)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[r,a]);return L.createElement("div",{ref:l,className:e,style:t},o)},BN=(r,e)=>{let t=r.includes("top"),a=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Aw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...a,...o}},qN=kh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Od=16,FN=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:a,children:o,containerStyle:l,containerClassName:u})=>{let{toasts:m,handlers:p}=yN(t);return L.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Od,left:Od,right:Od,bottom:Od,pointerEvents:"none",...l},className:u,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(y=>{let x=y.position||e,T=p.calculateOffset(y,{reverseOrder:r,gutter:a,defaultPosition:e}),w=BN(x,T);return L.createElement(zN,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?qN:"",style:w},y.type==="custom"?ah(y.message,y):o?o(y):L.createElement(UN,{toast:y,position:x}))}))},Te=hn;const HN=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},GN=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],m=r[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,m=u?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,x=l>>2,T=(l&3)<<4|m>>4;let w=(m&15)<<2|y>>6,S=y&63;p||(S=64,u||(w=64)),a.push(t[x],t[T],t[w],t[S])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Rw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||m==null||y==null||T==null)throw new $N;const w=l<<2|m>>4;if(a.push(w),y!==64){const S=m<<4&240|y>>2;if(a.push(S),T!==64){const R=y<<6&192|T;a.push(R)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KN=function(r){const e=Rw(r);return Cw.encodeByteArray(e,!0)},ih=function(r){return KN(r).replace(/\./g,"")},Iw=function(r){try{return Cw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=()=>YN().__FIREBASE_DEFAULTS__,XN=()=>{if(typeof process>"u"||typeof m_>"u")return;const r=m_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Iw(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return HN()||QN()||XN()||WN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jw=r=>{var e,t;return(t=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},JN=r=>{const e=jw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},Dw=()=>{var r;return(r=Oh())===null||r===void 0?void 0:r.config},kw=r=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ow(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ih(JSON.stringify(t)),ih(JSON.stringify(u)),""].join(".")}const Ec={};function tR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?r.emulator.push(e):r.prod.push(e);return r}function nR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let p_=!1;function Mw(r,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Ec[r]===e||Ec[r]||p_)return;Ec[r]=e;function t(w){return`__firebase__banner__${w}`}const a="__firebase__banner",l=tR().prod.length>0;function u(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{p_=!0,u()},w}function x(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=nR(a),S=t("text"),R=document.getElementById(S)||document.createElement("span"),j=t("learnmore"),k=document.getElementById(j)||document.createElement("a"),B=t("preprendIcon"),Y=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;m(X),x(k,j);const ie=y();p(Y,B),X.append(Y,R,k,ie),document.body.appendChild(X)}l?(R.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function sR(){var r;const e=(r=Oh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lR(){return!sR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vw(){try{return typeof indexedDB=="object"}catch{return!1}}function Lw(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function cR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="FirebaseError";class hr extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=uR,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wi.prototype.create)}}class wi{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?dR(l,a):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new hr(o,m,a)}}function dR(r,e){return r.replace(hR,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const hR=/\{\$([^}]+)}/g;function fR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function pa(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=r[o],u=e[o];if(g_(l)&&g_(u)){if(!pa(l,u))return!1}else if(l!==u)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function g_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function pc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,l]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function gc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function mR(r,e){const t=new pR(r,e);return t.subscribe.bind(t)}class pR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");gR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=yp),o.error===void 0&&(o.error=yp),o.complete===void 0&&(o.complete=yp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1e3,vR=2,xR=4*60*60*1e3,_R=.5;function y_(r,e=yR,t=vR){const a=e*Math.pow(t,r),o=Math.round(_R*a*(Math.random()-.5)*2);return Math.min(xR,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r){return r&&r._delegate?r._delegate:r}class ir{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new ZN;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ER(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);a===m&&u.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:wR(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wR(r){return r===ui?void 0:r}function ER(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const SR={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},AR=Be.INFO,NR={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},RR=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=NR[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mh{constructor(e){this.name=e,this._logLevel=AR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const CR=(r,e)=>e.some(t=>r instanceof t);let v_,x_;function IR(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jR(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uw=new WeakMap,zp=new WeakMap,zw=new WeakMap,vp=new WeakMap,Rg=new WeakMap;function DR(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(da(r.result)),o()},u=()=>{a(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Uw.set(t,r)}).catch(()=>{}),Rg.set(e,r),e}function kR(r){if(zp.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});zp.set(r,e)}let Bp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return zp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||zw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return da(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function OR(r){Bp=r(Bp)}function MR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(xp(this),e,...t);return zw.set(a,e.sort?e.sort():[e]),da(a)}:jR().includes(r)?function(...e){return r.apply(xp(this),e),da(Uw.get(this))}:function(...e){return da(r.apply(xp(this),e))}}function PR(r){return typeof r=="function"?MR(r):(r instanceof IDBTransaction&&kR(r),CR(r,IR())?new Proxy(r,Bp):r)}function da(r){if(r instanceof IDBRequest)return DR(r);if(vp.has(r))return vp.get(r);const e=PR(r);return e!==r&&(vp.set(r,e),Rg.set(e,r)),e}const xp=r=>Rg.get(r);function Bw(r,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),m=da(u);return a&&u.addEventListener("upgradeneeded",p=>{a(da(u.result),p.oldVersion,p.newVersion,da(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const VR=["get","getKey","getAll","getAllKeys","count"],LR=["put","add","delete","clear"],_p=new Map;function __(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=LR.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(t)))return;const l=async function(u,...m){const p=this.transaction(u,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&p.done]))[0]};return _p.set(e,l),l}OR(r=>({...r,get:(e,t,a)=>__(e,t)||r.get(e,t,a),has:(e,t)=>!!__(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zR(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function zR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qp="@firebase/app",b_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Mh("@firebase/app"),BR="@firebase/app-compat",qR="@firebase/analytics-compat",FR="@firebase/analytics",HR="@firebase/app-check-compat",GR="@firebase/app-check",$R="@firebase/auth",KR="@firebase/auth-compat",YR="@firebase/database",QR="@firebase/data-connect",XR="@firebase/database-compat",WR="@firebase/functions",JR="@firebase/functions-compat",ZR="@firebase/installations",eC="@firebase/installations-compat",tC="@firebase/messaging",nC="@firebase/messaging-compat",rC="@firebase/performance",sC="@firebase/performance-compat",aC="@firebase/remote-config",iC="@firebase/remote-config-compat",oC="@firebase/storage",lC="@firebase/storage-compat",cC="@firebase/firestore",uC="@firebase/ai",dC="@firebase/firestore-compat",hC="firebase",fC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",mC={[qp]:"fire-core",[BR]:"fire-core-compat",[FR]:"fire-analytics",[qR]:"fire-analytics-compat",[GR]:"fire-app-check",[HR]:"fire-app-check-compat",[$R]:"fire-auth",[KR]:"fire-auth-compat",[YR]:"fire-rtdb",[QR]:"fire-data-connect",[XR]:"fire-rtdb-compat",[WR]:"fire-fn",[JR]:"fire-fn-compat",[ZR]:"fire-iid",[eC]:"fire-iid-compat",[tC]:"fire-fcm",[nC]:"fire-fcm-compat",[rC]:"fire-perf",[sC]:"fire-perf-compat",[aC]:"fire-rc",[iC]:"fire-rc-compat",[oC]:"fire-gcs",[lC]:"fire-gcs-compat",[cC]:"fire-fst",[dC]:"fire-fst-compat",[uC]:"fire-vertex","fire-js":"fire-js",[hC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,pC=new Map,Hp=new Map;function w_(r,e){try{r.container.addComponent(e)}catch(t){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Pr(r){const e=r.name;if(Hp.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,r);for(const t of oh.values())w_(t,r);for(const t of pC.values())w_(t,r);return!0}function Ei(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new wi("app","Firebase",gC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=fC;function qw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Fp,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw ha.create("bad-app-name",{appName:String(o)});if(t||(t=Dw()),!t)throw ha.create("no-options");const l=oh.get(o);if(l){if(pa(t,l.options)&&pa(a,l.config))return l;throw ha.create("duplicate-app",{appName:o})}const u=new TR(o);for(const p of Hp.values())u.addComponent(p);const m=new yC(t,a,u);return oh.set(o,m),m}function Cg(r=Fp){const e=oh.get(r);if(!e&&r===Fp&&Dw())return qw();if(!e)throw ha.create("no-app",{appName:r});return e}function Xn(r,e,t){var a;let o=(a=mC[r])!==null&&a!==void 0?a:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(m.join(" "));return}Pr(new ir(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebase-heartbeat-database",xC=1,Oc="firebase-heartbeat-store";let bp=null;function Fw(){return bp||(bp=Bw(vC,xC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Oc)}catch(t){console.warn(t)}}}}).catch(r=>{throw ha.create("idb-open",{originalErrorMessage:r.message})})),bp}async function _C(r){try{const t=(await Fw()).transaction(Oc),a=await t.objectStore(Oc).get(Hw(r));return await t.done,a}catch(e){if(e instanceof hr)xs.warn(e.message);else{const t=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(t.message)}}}async function E_(r,e){try{const a=(await Fw()).transaction(Oc,"readwrite");await a.objectStore(Oc).put(e,Hw(r)),await a.done}catch(t){if(t instanceof hr)xs.warn(t.message);else{const a=ha.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xs.warn(a.message)}}}function Hw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=1024,wC=30;class EC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SC(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=T_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>wC){const u=AC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){xs.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=T_(),{heartbeatsToSend:a,unsentEntries:o}=TC(this._heartbeatsCache.heartbeats),l=ih(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return xs.warn(t),""}}}function T_(){return new Date().toISOString().substring(0,10)}function TC(r,e=bC){const t=[];let a=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),S_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),S_(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class SC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vw()?Lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _C(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function S_(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function AC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r){Pr(new ir("platform-logger",e=>new UR(e),"PRIVATE")),Pr(new ir("heartbeat",e=>new EC(e),"PRIVATE")),Xn(qp,b_,r),Xn(qp,b_,"esm2017"),Xn("fire-js","")}NC("");function Ig(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t}function Gw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RC=Gw,$w=new wi("auth","Firebase",Gw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Mh("@firebase/auth");function CC(r,...e){lh.logLevel<=Be.WARN&&lh.warn(`Auth (${Ho}): ${r}`,...e)}function Kd(r,...e){lh.logLevel<=Be.ERROR&&lh.error(`Auth (${Ho}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(r,...e){throw jg(r,...e)}function Ir(r,...e){return jg(r,...e)}function Kw(r,e,t){const a=Object.assign(Object.assign({},RC()),{[e]:t});return new wi("auth","Firebase",a).create(e,{appName:r.name})}function ps(r){return Kw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jg(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return $w.create(r,...e)}function Se(r,e,...t){if(!r)throw jg(e,...t)}function hs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Kd(e),new Error(e)}function _s(r,e){r||hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function IC(){return A_()==="http:"||A_()==="https:"}function A_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||Pw()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,_s(t>e,"Short delay should be less than long delay!"),this.isMobile=rR()||iR()}get(){return jC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e){_s(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MC=new Qc(3e4,6e4);function Ts(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ss(r,e,t,a,o={}){return Qw(r,o,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const m=Yc(Object.assign({key:r.config.apiKey},u)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return aR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(y.credentials="include"),Yw.fetch()(await Xw(r,r.config.apiHost,t,m),y)})}async function Qw(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},kC),e);try{const o=new VC(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Md(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Md(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw Md(r,"user-disabled",u);const x=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Kw(r,x,y);or(r,x)}}catch(o){if(o instanceof hr)throw o;or(r,"network-request-failed",{message:String(o)})}}async function Xc(r,e,t,a,o={}){const l=await Ss(r,e,t,a,o);return"mfaPendingCredential"in l&&or(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Xw(r,e,t,a){const o=`${e}${t}?${a}`,l=r,u=l.config.emulator?Dg(r.config,o):`${r.config.apiScheme}://${o}`;return OC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function PC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Ir(this.auth,"network-request-failed")),MC.get())})}}function Md(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Ir(r,e,a);return o.customData._tokenResponse=t,o}function N_(r){return r!==void 0&&r.enterprise!==void 0}class LC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UC(r,e){return Ss(r,"GET","/v2/recaptchaConfig",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(r,e){return Ss(r,"POST","/v1/accounts:delete",e)}async function ch(r,e){return Ss(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BC(r,e=!1){const t=jt(r),a=await t.getIdToken(e),o=kg(a);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:a,authTime:Tc(wp(o.auth_time)),issuedAtTime:Tc(wp(o.iat)),expirationTime:Tc(wp(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function wp(r){return Number(r)*1e3}function kg(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Iw(t);return o?JSON.parse(o):(Kd("Failed to decode base64 JWT payload"),null)}catch(o){return Kd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function R_(r){const e=kg(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof hr&&qC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function qC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(r){var e;const t=r.auth,a=await r.getIdToken(),o=await Mc(r,ch(t,{idToken:a}));Se(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Ww(l.providerUserInfo):[],m=GC(r.providerData,u),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(m!=null&&m.length),x=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new $p(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(r,T)}async function HC(r){const e=jt(r);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GC(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Ww(r){return r.map(e=>{var{providerId:t}=e,a=Ig(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(r,e){const t=await Qw(r,{},async()=>{const a=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await Xw(r,o,"/v1/token",`key=${l}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(p.credentials="include"),Yw.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KC(r,e){return Ss(r,"POST","/v2/accounts:revokeToken",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=R_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await $C(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,u=new No;return a&&(Se(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,l=Ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $p(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BC(this,e)}reload(){return HC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await uh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Mc(this,zC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,l,u,m,p,y,x;const T=(a=t.displayName)!==null&&a!==void 0?a:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,j=(m=t.tenantId)!==null&&m!==void 0?m:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,B=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:X,emailVerified:ie,isAnonymous:ue,providerData:ve,stsTokenManager:M}=t;Se(X&&M,e,"internal-error");const E=No.fromJSON(this.name,M);Se(typeof X=="string",e,"internal-error"),ea(T,e.name),ea(w,e.name),Se(typeof ie=="boolean",e,"internal-error"),Se(typeof ue=="boolean",e,"internal-error"),ea(S,e.name),ea(R,e.name),ea(j,e.name),ea(k,e.name),ea(B,e.name),ea(Y,e.name);const I=new sr({uid:X,auth:e,email:w,emailVerified:ie,displayName:T,isAnonymous:ue,photoURL:R,phoneNumber:S,tenantId:j,stsTokenManager:E,createdAt:B,lastLoginAt:Y});return ve&&Array.isArray(ve)&&(I.providerData=ve.map(P=>Object.assign({},P))),k&&(I._redirectEventId=k),I}static async _fromIdTokenResponse(e,t,a=!1){const o=new No;o.updateFromServerResponse(t);const l=new sr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await uh(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Ww(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new No;m.updateFromIdToken(a);const p=new sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new $p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;function fs(r){_s(r instanceof Function,"Expected a class definition");let e=C_.get(r);return e?(_s(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,C_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jw.type="NONE";const I_=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(r,e,t){return`firebase:${r}:${e}:${t}`}class Ro{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Yd(this.userKey,o.apiKey,l),this.fullPersistenceKey=Yd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ch(this.auth,{idToken:e}).catch(()=>{});return t?sr._fromGetAccountInfoResponse(this.auth,t,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Ro(fs(I_),e,a);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||fs(I_);const u=Yd(a,e.config.apiKey,e.name);let m=null;for(const y of t)try{const x=await y._get(u);if(x){let T;if(typeof x=="string"){const w=await ch(e,{idToken:x}).catch(()=>{});if(!w)break;T=await sr._fromGetAccountInfoResponse(e,w,x)}else T=sr._fromJSON(e,x);y!==l&&(m=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ro(l,e,a):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Ro(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s1(e))return"Blackberry";if(a1(e))return"Webos";if(e1(e))return"Safari";if((e.includes("chrome/")||t1(e))&&!e.includes("edge/"))return"Chrome";if(r1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Zw(r=an()){return/firefox\//i.test(r)}function e1(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t1(r=an()){return/crios\//i.test(r)}function n1(r=an()){return/iemobile/i.test(r)}function r1(r=an()){return/android/i.test(r)}function s1(r=an()){return/blackberry/i.test(r)}function a1(r=an()){return/webos/i.test(r)}function Og(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YC(r=an()){var e;return Og(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QC(){return oR()&&document.documentMode===10}function i1(r=an()){return Og(r)||r1(r)||a1(r)||s1(r)||/windows phone/i.test(r)||n1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r,e=[]){let t;switch(r){case"Browser":t=j_(an());break;case"Worker":t=`${j_(an())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(r,e={}){return Ss(r,"GET","/v2/passwordPolicy",Ts(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=6;class ZC{constructor(e){var t,a,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:JC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,l,u,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new XC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fs(t)),this._initializationPromise=this.queue(async()=>{var a,o,l;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ch(this,{idToken:e}),a=await sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===m)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(ps(this));const t=e?jt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WC(this),t=new ZC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wi("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await KC(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fs(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[fs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&CC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ta(r){return jt(r)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tI(r){Ph=r}function l1(r){return Ph.loadJS(r)}function nI(){return Ph.recaptchaEnterpriseScript}function rI(){return Ph.gapiScript}function sI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class aI{constructor(){this.enterprise=new iI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const oI="recaptcha-enterprise",c1="NO_RECAPTCHA";class lI{constructor(e){this.type=oI,this.auth=Ta(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{UC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new LC(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(p=>{m(p)})})}function o(l,u,m){const p=window.grecaptcha;N_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(c1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(m=>{if(!t&&N_(window.grecaptcha))o(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nI();p.length!==0&&(p+=m),l1(p).then(()=>{o(m,l,u)}).catch(y=>{u(y)})}}).catch(m=>{u(m)})})}}async function k_(r,e,t,a=!1,o=!1){const l=new lI(r);let u;if(o)u=c1;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dh(r,e,t,a,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await k_(r,e,t,t==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await k_(r,e,t,t==="getOobCode");return a(r,m)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(r,e){const t=Ei(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(pa(l,e??{}))return o;or(o,"already-initialized")}return t.initialize({options:e})}function uI(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(fs);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function dI(r,e,t){const a=Ta(r);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=u1(e),{host:u,port:m}=hI(e),p=m===null?"":`:${m}`,y={url:`${l}//${u}${p}/`},x=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(pa(y,a.config.emulator)&&pa(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,Fo(u)?(Ow(`${l}//${u}${p}`),Mw("Auth",!0)):fI()}function u1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function hI(r){const e=u1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:O_(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:O_(u)}}}function O_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function fI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,t){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function mI(r,e){return Ss(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e){return Xc(r,"POST","/v1/accounts:signInWithPassword",Ts(r,e))}async function gI(r,e){return Ss(r,"POST","/v1/accounts:sendOobCode",Ts(r,e))}async function yI(r,e){return gI(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e){return Xc(r,"POST","/v1/accounts:signInWithEmailLink",Ts(r,e))}async function xI(r,e){return Xc(r,"POST","/v1/accounts:signInWithEmailLink",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Mg{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Pc(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Pc(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,t,"signInWithPassword",pI);case"emailLink":return vI(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,a,"signUpPassword",mI);case"emailLink":return xI(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r,e){return Xc(r,"POST","/v1/accounts:signInWithIdp",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="http://localhost";class pi extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,l=Ig(t,["providerId","signInMethod"]);if(!a||!o)return null;const u=new pi(a,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Co(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Co(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}buildRequest(){const e={requestUri:_I,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wI(r){const e=pc(gc(r)).link,t=e?pc(gc(e)).deep_link_id:null,a=pc(gc(r)).deep_link_id;return(a?pc(gc(a)).link:null)||a||t||e||r}class Pg{constructor(e){var t,a,o,l,u,m;const p=pc(gc(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,x=(a=p.oobCode)!==null&&a!==void 0?a:null,T=bI((o=p.mode)!==null&&o!==void 0?o:null);Se(y&&x&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=x,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.lang)!==null&&u!==void 0?u:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=wI(e);try{return new Pg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,t){return Pc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Pg.parseLink(t);return Se(a,"argument-error"),Pc._fromEmailAndCode(e,a.code,a.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends d1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Wc{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return pi._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return sa.credential(t,a)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Wc{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Wc{constructor(){super("twitter.com")}static credential(e,t){return pi._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ia.credential(t,a)}catch{return null}}}ia.TWITTER_SIGN_IN_METHOD="twitter.com";ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,e){return Xc(r,"POST","/v1/accounts:signUp",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await sr._fromIdTokenResponse(e,a,o),u=M_(a);return new gi({user:l,providerId:u,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=M_(a);return new gi({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function M_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends hr{constructor(e,t,a,o){var l;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new hh(e,t,a,o)}}function h1(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,l,e,a):l})}async function TI(r,e,t=!1){const a=await Mc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return gi._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e,t=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(ps(a));const o="reauthenticate";try{const l=await Mc(r,h1(a,o,e,r),t);Se(l.idToken,a,"internal-error");const u=kg(l.idToken);Se(u,a,"internal-error");const{sub:m}=u;return Se(r.uid===m,a,"user-mismatch"),gi._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&or(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r,e,t=!1){if(Yn(r.app))return Promise.reject(ps(r));const a="signIn",o=await h1(r,a,e),l=await gi._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(l.user),l}async function AI(r,e){return f1(Ta(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(r){const e=Ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NI(r,e,t){const a=Ta(r);await dh(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",yI)}async function RI(r,e,t){if(Yn(r.app))return Promise.reject(ps(r));const a=Ta(r),u=await dh(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&m1(r),p}),m=await gi._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(m.user),m}function CI(r,e,t){return Yn(r.app)?Promise.reject(ps(r)):AI(jt(r),Go.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&m1(r),a})}function II(r,e,t,a){return jt(r).onIdTokenChanged(e,t,a)}function jI(r,e,t){return jt(r).beforeAuthStateChanged(e,t)}function DI(r,e,t,a){return jt(r).onAuthStateChanged(e,t,a)}function kI(r){return jt(r).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1e3,MI=10;class g1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(a);!t&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);QC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MI):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const PI=g1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}y1.type="SESSION";const v1=y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new Vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(u).map(async y=>y(t.origin,l)),p=await VI(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const y=Vg("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},a);u={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(x),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function UI(r){jr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function zI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function qI(){return x1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firebaseLocalStorageDb",FI=1,mh="firebaseLocalStorage",b1="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lh(r,e){return r.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function HI(){const r=indexedDB.deleteDatabase(_1);return new Jc(r).toPromise()}function Kp(){const r=indexedDB.open(_1,FI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(mh,{keyPath:b1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(mh)?e(a):(a.close(),await HI(),e(await Kp()))})})}async function P_(r,e,t){const a=Lh(r,!0).put({[b1]:e,value:t});return new Jc(a).toPromise()}async function GI(r,e){const t=Lh(r,!1).get(e),a=await new Jc(t).toPromise();return a===void 0?null:a.value}function V_(r,e){const t=Lh(r,!0).delete(e);return new Jc(t).toPromise()}const $I=800,KI=3;class w1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>KI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(qI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new LI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await P_(e,fh,"1"),await V_(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>P_(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>GI(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>V_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Lh(o,!1).getAll();return new Jc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w1.type="LOCAL";const YI=w1;new Qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r,e){return e?fs(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XI(r){return f1(r.auth,new Lg(r),r.bypassAuthState)}function WI(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),SI(t,new Lg(r),r.bypassAuthState)}async function JI(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),TI(t,new Lg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return WI;default:or(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Qc(2e3,1e4);class Ao extends E1{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZI.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="pendingRedirect",Qd=new Map;class tj extends E1{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const a=await nj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nj(r,e){const t=aj(e),a=sj(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function rj(r,e){Qd.set(r._key(),e)}function sj(r){return fs(r._redirectPersistence)}function aj(r){return Yd(ej,r.config.apiKey,r.name)}async function ij(r,e,t=!1){if(Yn(r.app))return Promise.reject(ps(r));const a=Ta(r),o=QI(a,e),u=await new tj(a,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=10*60*1e3;class lj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!T1(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oj&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function T1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cj(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(r,e={}){return Ss(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hj=/^https?/;async function fj(r){if(r.config.emulator)return;const{authorizedDomains:e}=await uj(r);for(const t of e)try{if(mj(t))return}catch{}or(r,"unauthorized-domain")}function mj(r){const e=Gp(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===a}if(!hj.test(t))return!1;if(dj.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Qc(3e4,6e4);function U_(){const r=jr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function gj(r){return new Promise((e,t)=>{var a,o,l;function u(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),t(Ir(r,"network-request-failed"))},timeout:pj.get()})}if(!((o=(a=jr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=jr().gapi)===null||l===void 0)&&l.load)u();else{const m=sI("iframefcb");return jr()[m]=()=>{gapi.load?u():t(Ir(r,"network-request-failed"))},l1(`${rI()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function yj(r){return Xd=Xd||gj(r),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Qc(5e3,15e3),xj="__/auth/iframe",_j="emulator/auth/iframe",bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ej(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Dg(e,_j):`https://${r.config.authDomain}/${xj}`,a={apiKey:e.apiKey,appName:r.name,v:Ho},o=wj.get(r.config.apiHost);o&&(a.eid=o);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Yc(a).slice(1)}`}async function Tj(r){const e=await yj(r),t=jr().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:Ej(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bj,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const u=Ir(r,"network-request-failed"),m=jr().setTimeout(()=>{l(u)},vj.get());function p(){jr().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Aj=500,Nj=600,Rj="_blank",Cj="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ij(r,e,t,a=Aj,o=Nj){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Sj),{width:a.toString(),height:o.toString(),top:l,left:u}),y=an().toLowerCase();t&&(m=t1(y)?Rj:t),Zw(y)&&(e=e||Cj,p.scrollbars="yes");const x=Object.entries(p).reduce((w,[S,R])=>`${w}${S}=${R},`,"");if(YC(y)&&m!=="_self")return jj(e||"",m),new z_(null);const T=window.open(e||"",m,x);Se(T,r,"popup-blocked");try{T.focus()}catch{}return new z_(T)}function jj(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="__/auth/handler",kj="emulator/auth/handler",Oj=encodeURIComponent("fac");async function B_(r,e,t,a,o,l){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:Ho,eventId:o};if(e instanceof d1){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",fR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))u[x]=T}if(e instanceof Wc){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(u.scopes=x.join(","))}r.tenantId&&(u.tid=r.tenantId);const m=u;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const p=await r._getAppCheckToken(),y=p?`#${Oj}=${encodeURIComponent(p)}`:"";return`${Mj(r)}?${Yc(m).slice(1)}${y}`}function Mj({config:r}){return r.emulator?Dg(r,kj):`https://${r.authDomain}/${Dj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class Pj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=ij,this._overrideRedirectResult=rj}async _openPopup(e,t,a,o){var l;_s((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await B_(e,t,a,Gp(),o);return Ij(e,u,Vg())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await B_(e,t,a,Gp(),o);return UI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(_s(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await Tj(e),a=new lj(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ep,{type:Ep},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Ep];u!==void 0&&t(!!u),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return i1()||e1()||Og()}}const Vj=Pj;var q_="@firebase/auth",F_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zj(r){Pr(new ir("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=a.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:u,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o1(r)},y=new eI(a,o,l,p);return uI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Pr(new ir("auth-internal",e=>{const t=Ta(e.getProvider("auth").getImmediate());return(a=>new Lj(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(q_,F_,Uj(r)),Xn(q_,F_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=5*60,qj=kw("authIdTokenMaxAge")||Bj;let H_=null;const Fj=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>qj)return;const o=t==null?void 0:t.token;H_!==o&&(H_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Hj(r=Cg()){const e=Ei(r,"auth");if(e.isInitialized())return e.getImmediate();const t=cI(r,{popupRedirectResolver:Vj,persistence:[YI,PI,v1]}),a=kw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=Fj(l.toString());jI(t,u,()=>u(t.currentUser)),II(t,m=>u(m))}}const o=jw("auth");return o&&dI(t,`http://${o}`),t}function Gj(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}tI({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const l=Ir("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",Gj().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zj("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fa,S1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,E){function I(){}I.prototype=E.prototype,M.D=E.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(P,z,C){for(var D=Array(arguments.length-2),de=2;de<arguments.length;de++)D[de-2]=arguments[de];return E.prototype[z].apply(P,D)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,E,I){I||(I=0);var P=Array(16);if(typeof E=="string")for(var z=0;16>z;++z)P[z]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(z=0;16>z;++z)P[z]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=M.g[0],I=M.g[1],z=M.g[2];var C=M.g[3],D=E+(C^I&(z^C))+P[0]+3614090360&4294967295;E=I+(D<<7&4294967295|D>>>25),D=C+(z^E&(I^z))+P[1]+3905402710&4294967295,C=E+(D<<12&4294967295|D>>>20),D=z+(I^C&(E^I))+P[2]+606105819&4294967295,z=C+(D<<17&4294967295|D>>>15),D=I+(E^z&(C^E))+P[3]+3250441966&4294967295,I=z+(D<<22&4294967295|D>>>10),D=E+(C^I&(z^C))+P[4]+4118548399&4294967295,E=I+(D<<7&4294967295|D>>>25),D=C+(z^E&(I^z))+P[5]+1200080426&4294967295,C=E+(D<<12&4294967295|D>>>20),D=z+(I^C&(E^I))+P[6]+2821735955&4294967295,z=C+(D<<17&4294967295|D>>>15),D=I+(E^z&(C^E))+P[7]+4249261313&4294967295,I=z+(D<<22&4294967295|D>>>10),D=E+(C^I&(z^C))+P[8]+1770035416&4294967295,E=I+(D<<7&4294967295|D>>>25),D=C+(z^E&(I^z))+P[9]+2336552879&4294967295,C=E+(D<<12&4294967295|D>>>20),D=z+(I^C&(E^I))+P[10]+4294925233&4294967295,z=C+(D<<17&4294967295|D>>>15),D=I+(E^z&(C^E))+P[11]+2304563134&4294967295,I=z+(D<<22&4294967295|D>>>10),D=E+(C^I&(z^C))+P[12]+1804603682&4294967295,E=I+(D<<7&4294967295|D>>>25),D=C+(z^E&(I^z))+P[13]+4254626195&4294967295,C=E+(D<<12&4294967295|D>>>20),D=z+(I^C&(E^I))+P[14]+2792965006&4294967295,z=C+(D<<17&4294967295|D>>>15),D=I+(E^z&(C^E))+P[15]+1236535329&4294967295,I=z+(D<<22&4294967295|D>>>10),D=E+(z^C&(I^z))+P[1]+4129170786&4294967295,E=I+(D<<5&4294967295|D>>>27),D=C+(I^z&(E^I))+P[6]+3225465664&4294967295,C=E+(D<<9&4294967295|D>>>23),D=z+(E^I&(C^E))+P[11]+643717713&4294967295,z=C+(D<<14&4294967295|D>>>18),D=I+(C^E&(z^C))+P[0]+3921069994&4294967295,I=z+(D<<20&4294967295|D>>>12),D=E+(z^C&(I^z))+P[5]+3593408605&4294967295,E=I+(D<<5&4294967295|D>>>27),D=C+(I^z&(E^I))+P[10]+38016083&4294967295,C=E+(D<<9&4294967295|D>>>23),D=z+(E^I&(C^E))+P[15]+3634488961&4294967295,z=C+(D<<14&4294967295|D>>>18),D=I+(C^E&(z^C))+P[4]+3889429448&4294967295,I=z+(D<<20&4294967295|D>>>12),D=E+(z^C&(I^z))+P[9]+568446438&4294967295,E=I+(D<<5&4294967295|D>>>27),D=C+(I^z&(E^I))+P[14]+3275163606&4294967295,C=E+(D<<9&4294967295|D>>>23),D=z+(E^I&(C^E))+P[3]+4107603335&4294967295,z=C+(D<<14&4294967295|D>>>18),D=I+(C^E&(z^C))+P[8]+1163531501&4294967295,I=z+(D<<20&4294967295|D>>>12),D=E+(z^C&(I^z))+P[13]+2850285829&4294967295,E=I+(D<<5&4294967295|D>>>27),D=C+(I^z&(E^I))+P[2]+4243563512&4294967295,C=E+(D<<9&4294967295|D>>>23),D=z+(E^I&(C^E))+P[7]+1735328473&4294967295,z=C+(D<<14&4294967295|D>>>18),D=I+(C^E&(z^C))+P[12]+2368359562&4294967295,I=z+(D<<20&4294967295|D>>>12),D=E+(I^z^C)+P[5]+4294588738&4294967295,E=I+(D<<4&4294967295|D>>>28),D=C+(E^I^z)+P[8]+2272392833&4294967295,C=E+(D<<11&4294967295|D>>>21),D=z+(C^E^I)+P[11]+1839030562&4294967295,z=C+(D<<16&4294967295|D>>>16),D=I+(z^C^E)+P[14]+4259657740&4294967295,I=z+(D<<23&4294967295|D>>>9),D=E+(I^z^C)+P[1]+2763975236&4294967295,E=I+(D<<4&4294967295|D>>>28),D=C+(E^I^z)+P[4]+1272893353&4294967295,C=E+(D<<11&4294967295|D>>>21),D=z+(C^E^I)+P[7]+4139469664&4294967295,z=C+(D<<16&4294967295|D>>>16),D=I+(z^C^E)+P[10]+3200236656&4294967295,I=z+(D<<23&4294967295|D>>>9),D=E+(I^z^C)+P[13]+681279174&4294967295,E=I+(D<<4&4294967295|D>>>28),D=C+(E^I^z)+P[0]+3936430074&4294967295,C=E+(D<<11&4294967295|D>>>21),D=z+(C^E^I)+P[3]+3572445317&4294967295,z=C+(D<<16&4294967295|D>>>16),D=I+(z^C^E)+P[6]+76029189&4294967295,I=z+(D<<23&4294967295|D>>>9),D=E+(I^z^C)+P[9]+3654602809&4294967295,E=I+(D<<4&4294967295|D>>>28),D=C+(E^I^z)+P[12]+3873151461&4294967295,C=E+(D<<11&4294967295|D>>>21),D=z+(C^E^I)+P[15]+530742520&4294967295,z=C+(D<<16&4294967295|D>>>16),D=I+(z^C^E)+P[2]+3299628645&4294967295,I=z+(D<<23&4294967295|D>>>9),D=E+(z^(I|~C))+P[0]+4096336452&4294967295,E=I+(D<<6&4294967295|D>>>26),D=C+(I^(E|~z))+P[7]+1126891415&4294967295,C=E+(D<<10&4294967295|D>>>22),D=z+(E^(C|~I))+P[14]+2878612391&4294967295,z=C+(D<<15&4294967295|D>>>17),D=I+(C^(z|~E))+P[5]+4237533241&4294967295,I=z+(D<<21&4294967295|D>>>11),D=E+(z^(I|~C))+P[12]+1700485571&4294967295,E=I+(D<<6&4294967295|D>>>26),D=C+(I^(E|~z))+P[3]+2399980690&4294967295,C=E+(D<<10&4294967295|D>>>22),D=z+(E^(C|~I))+P[10]+4293915773&4294967295,z=C+(D<<15&4294967295|D>>>17),D=I+(C^(z|~E))+P[1]+2240044497&4294967295,I=z+(D<<21&4294967295|D>>>11),D=E+(z^(I|~C))+P[8]+1873313359&4294967295,E=I+(D<<6&4294967295|D>>>26),D=C+(I^(E|~z))+P[15]+4264355552&4294967295,C=E+(D<<10&4294967295|D>>>22),D=z+(E^(C|~I))+P[6]+2734768916&4294967295,z=C+(D<<15&4294967295|D>>>17),D=I+(C^(z|~E))+P[13]+1309151649&4294967295,I=z+(D<<21&4294967295|D>>>11),D=E+(z^(I|~C))+P[4]+4149444226&4294967295,E=I+(D<<6&4294967295|D>>>26),D=C+(I^(E|~z))+P[11]+3174756917&4294967295,C=E+(D<<10&4294967295|D>>>22),D=z+(E^(C|~I))+P[2]+718787259&4294967295,z=C+(D<<15&4294967295|D>>>17),D=I+(C^(z|~E))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+E&4294967295,M.g[1]=M.g[1]+(z+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+C&4294967295}a.prototype.u=function(M,E){E===void 0&&(E=M.length);for(var I=E-this.blockSize,P=this.B,z=this.h,C=0;C<E;){if(z==0)for(;C<=I;)o(this,M,C),C+=this.blockSize;if(typeof M=="string"){for(;C<E;)if(P[z++]=M.charCodeAt(C++),z==this.blockSize){o(this,P),z=0;break}}else for(;C<E;)if(P[z++]=M[C++],z==this.blockSize){o(this,P),z=0;break}}this.h=z,this.o+=E},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var E=1;E<M.length-8;++E)M[E]=0;var I=8*this.o;for(E=M.length-8;E<M.length;++E)M[E]=I&255,I/=256;for(this.u(M),M=Array(16),E=I=0;4>E;++E)for(var P=0;32>P;P+=8)M[I++]=this.g[E]>>>P&255;return M};function l(M,E){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=E(M)}function u(M,E){this.h=E;for(var I=[],P=!0,z=M.length-1;0<=z;z--){var C=M[z]|0;P&&C==E||(I[z]=C,P=!1)}this.g=I}var m={};function p(M){return-128<=M&&128>M?l(M,function(E){return new u([E|0],0>E?-1:0)}):new u([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return k(y(-M));for(var E=[],I=1,P=0;M>=I;P++)E[P]=M/I|0,I*=4294967296;return new u(E,0)}function x(M,E){if(M.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(M.charAt(0)=="-")return k(x(M.substring(1),E));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(E,8)),P=T,z=0;z<M.length;z+=8){var C=Math.min(8,M.length-z),D=parseInt(M.substring(z,z+C),E);8>C?(C=y(Math.pow(E,C)),P=P.j(C).add(y(D))):(P=P.j(I),P=P.add(y(D)))}return P}var T=p(0),w=p(1),S=p(16777216);r=u.prototype,r.m=function(){if(j(this))return-k(this).m();for(var M=0,E=1,I=0;I<this.g.length;I++){var P=this.i(I);M+=(0<=P?P:4294967296+P)*E,E*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(j(this))return"-"+k(this).toString(M);for(var E=y(Math.pow(M,6)),I=this,P="";;){var z=ie(I,E).g;I=B(I,z.j(E));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=z,R(I))return C+P;for(;6>C.length;)C="0"+C;P=C+P}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var E=0;E<M.g.length;E++)if(M.g[E]!=0)return!1;return!0}function j(M){return M.h==-1}r.l=function(M){return M=B(this,M),j(M)?-1:R(M)?0:1};function k(M){for(var E=M.g.length,I=[],P=0;P<E;P++)I[P]=~M.g[P];return new u(I,~M.h).add(w)}r.abs=function(){return j(this)?k(this):this},r.add=function(M){for(var E=Math.max(this.g.length,M.g.length),I=[],P=0,z=0;z<=E;z++){var C=P+(this.i(z)&65535)+(M.i(z)&65535),D=(C>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);P=D>>>16,C&=65535,D&=65535,I[z]=D<<16|C}return new u(I,I[I.length-1]&-2147483648?-1:0)};function B(M,E){return M.add(k(E))}r.j=function(M){if(R(this)||R(M))return T;if(j(this))return j(M)?k(this).j(k(M)):k(k(this).j(M));if(j(M))return k(this.j(k(M)));if(0>this.l(S)&&0>M.l(S))return y(this.m()*M.m());for(var E=this.g.length+M.g.length,I=[],P=0;P<2*E;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var z=0;z<M.g.length;z++){var C=this.i(P)>>>16,D=this.i(P)&65535,de=M.i(z)>>>16,De=M.i(z)&65535;I[2*P+2*z]+=D*De,Y(I,2*P+2*z),I[2*P+2*z+1]+=C*De,Y(I,2*P+2*z+1),I[2*P+2*z+1]+=D*de,Y(I,2*P+2*z+1),I[2*P+2*z+2]+=C*de,Y(I,2*P+2*z+2)}for(P=0;P<E;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=E;P<2*E;P++)I[P]=0;return new u(I,0)};function Y(M,E){for(;(M[E]&65535)!=M[E];)M[E+1]+=M[E]>>>16,M[E]&=65535,E++}function X(M,E){this.g=M,this.h=E}function ie(M,E){if(R(E))throw Error("division by zero");if(R(M))return new X(T,T);if(j(M))return E=ie(k(M),E),new X(k(E.g),k(E.h));if(j(E))return E=ie(M,k(E)),new X(k(E.g),E.h);if(30<M.g.length){if(j(M)||j(E))throw Error("slowDivide_ only works with positive integers.");for(var I=w,P=E;0>=P.l(M);)I=ue(I),P=ue(P);var z=ve(I,1),C=ve(P,1);for(P=ve(P,2),I=ve(I,2);!R(P);){var D=C.add(P);0>=D.l(M)&&(z=z.add(I),C=D),P=ve(P,1),I=ve(I,1)}return E=B(M,z.j(E)),new X(z,E)}for(z=T;0<=M.l(E);){for(I=Math.max(1,Math.floor(M.m()/E.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),C=y(I),D=C.j(E);j(D)||0<D.l(M);)I-=P,C=y(I),D=C.j(E);R(C)&&(C=w),z=z.add(C),M=B(M,D)}return new X(z,M)}r.A=function(M){return ie(this,M).h},r.and=function(M){for(var E=Math.max(this.g.length,M.g.length),I=[],P=0;P<E;P++)I[P]=this.i(P)&M.i(P);return new u(I,this.h&M.h)},r.or=function(M){for(var E=Math.max(this.g.length,M.g.length),I=[],P=0;P<E;P++)I[P]=this.i(P)|M.i(P);return new u(I,this.h|M.h)},r.xor=function(M){for(var E=Math.max(this.g.length,M.g.length),I=[],P=0;P<E;P++)I[P]=this.i(P)^M.i(P);return new u(I,this.h^M.h)};function ue(M){for(var E=M.g.length+1,I=[],P=0;P<E;P++)I[P]=M.i(P)<<1|M.i(P-1)>>>31;return new u(I,M.h)}function ve(M,E){var I=E>>5;E%=32;for(var P=M.g.length-I,z=[],C=0;C<P;C++)z[C]=0<E?M.i(C+I)>>>E|M.i(C+I+1)<<32-E:M.i(C+I);return new u(z,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,S1=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=x,fa=u}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A1,yc,N1,Wd,Yp,R1,C1,I1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,_){return d==Array.prototype||d==Object.prototype||(d[v]=_.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var v=0;v<d.length;++v){var _=d[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=t(this);function o(d,v){if(v)e:{var _=a;d=d.split(".");for(var N=0;N<d.length-1;N++){var F=d[N];if(!(F in _))break e;_=_[F]}d=d[d.length-1],N=_[d],v=v(N),v!=N&&v!=null&&e(_,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var _=0,N=!1,F={next:function(){if(!N&&_<d.length){var W=_++;return{value:v(W,d[W]),done:!1}}return N=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(d){return d||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},m=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function y(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function x(d,v,_){return d.call.apply(d.bind,arguments)}function T(d,v,_){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,N),d.apply(v,F)}}return function(){return d.apply(v,arguments)}}function w(d,v,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:T,w.apply(null,arguments)}function S(d,v){var _=Array.prototype.slice.call(arguments,1);return function(){var N=_.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function R(d,v){function _(){}_.prototype=v.prototype,d.aa=v.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(N,F,W){for(var le=Array(arguments.length-2),He=2;He<arguments.length;He++)le[He-2]=arguments[He];return v.prototype[F].apply(N,le)}}function j(d){const v=d.length;if(0<v){const _=Array(v);for(let N=0;N<v;N++)_[N]=d[N];return _}return[]}function k(d,v){for(let _=1;_<arguments.length;_++){const N=arguments[_];if(p(N)){const F=d.length||0,W=N.length||0;d.length=F+W;for(let le=0;le<W;le++)d[F+le]=N[le]}else d.push(N)}}class B{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function ie(d){return ie[" "](d),d}ie[" "]=function(){};var ue=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ve(d,v,_){for(const N in d)v.call(_,d[N],N,d)}function M(d,v){for(const _ in d)v.call(void 0,d[_],_,d)}function E(d){const v={};for(const _ in d)v[_]=d[_];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,v){let _,N;for(let F=1;F<arguments.length;F++){N=arguments[F];for(_ in N)d[_]=N[_];for(let W=0;W<I.length;W++)_=I[W],Object.prototype.hasOwnProperty.call(N,_)&&(d[_]=N[_])}}function z(d){var v=1;d=d.split(":");const _=[];for(;0<v&&d.length;)_.push(d.shift()),v--;return d.length&&_.push(d.join(":")),_}function C(d){m.setTimeout(()=>{throw d},0)}function D(){var d=Fe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class de{constructor(){this.h=this.g=null}add(v,_){const N=De.get();N.set(v,_),this.h?this.h.next=N:this.g=N,this.h=N}}var De=new B(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,se=!1,Fe=new de,V=()=>{const d=m.Promise.resolve(void 0);oe=()=>{d.then(re)}};var re=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(_){C(_)}var v=De;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}se=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return d}();function je(d,v){if(ae.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(ue){e:{try{ie(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else _=="mouseover"?v=d.fromElement:_=="mouseout"&&(v=d.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&je.aa.h.call(this)}}R(je,ae);var Ee={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function on(d,v,_,N,F){this.listener=d,this.proxy=null,this.src=v,this.type=_,this.capture=!!N,this.ha=F,this.key=++Ze,this.da=this.fa=!1}function _n(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function bn(d){this.src=d,this.g={},this.h=0}bn.prototype.add=function(d,v,_,N,F){var W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);var le=Na(d,v,N,F);return-1<le?(v=d[le],_||(v.fa=!1)):(v=new on(v,this.src,W,!!N,F),v.fa=_,d.push(v)),v};function kn(d,v){var _=v.type;if(_ in d.g){var N=d.g[_],F=Array.prototype.indexOf.call(N,v,void 0),W;(W=0<=F)&&Array.prototype.splice.call(N,F,1),W&&(_n(v),d.g[_].length==0&&(delete d.g[_],d.h--))}}function Na(d,v,_,N){for(var F=0;F<d.length;++F){var W=d[F];if(!W.da&&W.listener==v&&W.capture==!!_&&W.ha==N)return F}return-1}var Ra="closure_lm_"+(1e6*Math.random()|0),el={};function cu(d,v,_,N,F){if(Array.isArray(v)){for(var W=0;W<v.length;W++)cu(d,v[W],_,N,F);return null}return _=uu(_),d&&d[Le]?d.K(v,_,y(N)?!!N.capture:!1,F):On(d,v,_,!1,N,F)}function On(d,v,_,N,F,W){if(!v)throw Error("Invalid event type");var le=y(F)?!!F.capture:!!F,He=Ci(d);if(He||(d[Ra]=He=new bn(d)),_=He.add(v,_,N,le,W),_.proxy)return _;if(N=cf(),_.proxy=N,N.src=d,N.listener=_,d.addEventListener)me||(F=le),F===void 0&&(F=!1),d.addEventListener(v.toString(),N,F);else if(d.attachEvent)d.attachEvent(Ca(v.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cf(){function d(_){return v.call(d.src,d.listener,_)}const v=uf;return d}function tl(d,v,_,N,F){if(Array.isArray(v))for(var W=0;W<v.length;W++)tl(d,v[W],_,N,F);else N=y(N)?!!N.capture:!!N,_=uu(_),d&&d[Le]?(d=d.i,v=String(v).toString(),v in d.g&&(W=d.g[v],_=Na(W,_,N,F),-1<_&&(_n(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ci(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Na(v,_,N,F)),(_=-1<d?v[d]:null)&&Ri(_))}function Ri(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Le])kn(v.i,d);else{var _=d.type,N=d.proxy;v.removeEventListener?v.removeEventListener(_,N,d.capture):v.detachEvent?v.detachEvent(Ca(_),N):v.addListener&&v.removeListener&&v.removeListener(N),(_=Ci(v))?(kn(_,d),_.h==0&&(_.src=null,v[Ra]=null)):_n(d)}}}function Ca(d){return d in el?el[d]:el[d]="on"+d}function uf(d,v){if(d.da)d=!0;else{v=new je(v,this);var _=d.listener,N=d.ha||d.src;d.fa&&Ri(d),d=_.call(N,v)}return d}function Ci(d){return d=d[Ra],d instanceof bn?d:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function uu(d){return typeof d=="function"?d:(d[nl]||(d[nl]=function(v){return d.handleEvent(v)}),d[nl])}function pt(){ce.call(this),this.i=new bn(this),this.M=this,this.F=null}R(pt,ce),pt.prototype[Le]=!0,pt.prototype.removeEventListener=function(d,v,_,N){tl(this,d,v,_,N)};function et(d,v){var _,N=d.F;if(N)for(_=[];N;N=N.F)_.push(N);if(d=d.M,N=v.type||v,typeof v=="string")v=new ae(v,d);else if(v instanceof ae)v.target=v.target||d;else{var F=v;v=new ae(N,d),P(v,F)}if(F=!0,_)for(var W=_.length-1;0<=W;W--){var le=v.g=_[W];F=wn(le,N,!0,v)&&F}if(le=v.g=d,F=wn(le,N,!0,v)&&F,F=wn(le,N,!1,v)&&F,_)for(W=0;W<_.length;W++)le=v.g=_[W],F=wn(le,N,!1,v)&&F}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var _=d.g[v],N=0;N<_.length;N++)_n(_[N]);delete d.g[v],d.h--}}this.F=null},pt.prototype.K=function(d,v,_,N){return this.i.add(String(d),v,!1,_,N)},pt.prototype.L=function(d,v,_,N){return this.i.add(String(d),v,!0,_,N)};function wn(d,v,_,N){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,W=0;W<v.length;++W){var le=v[W];if(le&&!le.da&&le.capture==_){var He=le.listener,kt=le.ha||le.src;le.fa&&kn(d.i,le),F=He.call(kt,N)!==!1&&F}}return F&&!N.defaultPrevented}function Zt(d,v,_){if(typeof d=="function")_&&(d=w(d,_));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(d,v||0)}function du(d){d.g=Zt(()=>{d.g=null,d.i&&(d.i=!1,du(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class df extends ce{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(d){ce.call(this),this.h=d,this.g={}}R(Ia,ce);var ja=[];function Da(d){ve(d.g,function(v,_){this.g.hasOwnProperty(_)&&Ri(v)},d),d.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),Da(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=m.JSON.stringify,Ii=m.JSON.parse,ka=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function rl(){}rl.prototype.h=null;function sl(d){return d.h||(d.h=d.i())}function al(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){ae.call(this,"d")}R(zr,ae);function il(){ae.call(this,"c")}R(il,ae);var fr={},ol=null;function As(){return ol=ol||new pt}fr.La="serverreachability";function ji(d){ae.call(this,fr.La,d)}R(ji,ae);function Ns(d){const v=As();et(v,new ji(v))}fr.STAT_EVENT="statevent";function hu(d,v){ae.call(this,fr.STAT_EVENT,d),this.stat=v}R(hu,ae);function ut(d){const v=As();et(v,new hu(v,d))}fr.Ma="timingevent";function Dt(d,v){ae.call(this,fr.Ma,d),this.size=v}R(Dt,ae);function Et(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},v)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function ll(d,v,_,N,F,W){d.info(function(){if(d.g)if(W)for(var le="",He=W.split("&"),kt=0;kt<He.length;kt++){var Ge=He[kt].split("=");if(1<Ge.length){var zt=Ge[0];Ge=Ge[1];var Ot=zt.split("_");le=2<=Ot.length&&Ot[1]=="type"?le+(zt+"="+Ge+"&"):le+(zt+"=redacted&")}}else le=null;else le=W;return"XMLHTTP REQ ("+N+") [attempt "+F+"]: "+v+`
`+_+`
`+le})}function hf(d,v,_,N,F,W,le){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+F+"]: "+v+`
`+_+`
`+W+" "+le})}function Rs(d,v,_,N){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Oa(d,_)+(N?" "+N:"")})}function fu(d,v){d.info(function(){return"TIMEOUT: "+v})}Mn.prototype.info=function(){};function Oa(d,v){if(!d.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var N=_[d];if(!(2>N.length)){var F=N[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var le=1;le<F.length;le++)F[le]=""}}}}return Jn(_)}catch{return v}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mr;function pr(){}R(pr,rl),pr.prototype.g=function(){return new XMLHttpRequest},pr.prototype.i=function(){return{}},mr=new pr;function ln(d,v,_,N){this.j=d,this.i=v,this.l=_,this.R=N||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var cl={},Di={};function Zn(d,v,_){d.L=1,d.v=Ua(En(v)),d.m=_,d.P=!0,qr(d,null)}function qr(d,v){d.F=Date.now(),Ma(d),d.A=En(d.v);var _=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),pl(_.i,"t",N),d.C=0,_=d.j.J,d.h=new vt,d.g=Cu(d.j,_?v:null,!d.m),0<d.O&&(d.M=new df(w(d.Y,d,d.g),d.O)),v=d.U,_=d.g,N=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(ja[0]=F.toString()),F=ja);for(var W=0;W<F.length;W++){var le=cu(_,F[W],N||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Ns(),ll(d.i,d.u,d.A,d.l,d.R,d.m)}ln.prototype.ca=function(d){d=d.target;const v=this.M;v&&Un(d)==3?v.j():this.Y(d)},ln.prototype.Y=function(d){try{if(d==this.g)e:{const Ot=Un(this.g);var v=this.g.Ba();const Xr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||Ot!=4||v==7||(v==8||0>=Xr?Ns(3):Ns(2)),Is(this);var _=this.g.Z();this.X=_;t:if(mu(this)){var N=bu(this.g);d="";var F=N.length,W=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),gr(this);var le="";break t}this.h.i=new m.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,d+=this.h.i.decode(N[v],{stream:!(W&&v==F-1)});N.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,hf(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,kt=this.g;if((He=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(He)){var Ge=He;break t}}Ge=null}if(_=Ge)Rs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,_);else{this.o=!1,this.s=3,ut(12),Gt(this),gr(this);break e}}if(this.P){_=!0;let $t;for(;!this.J&&this.C<le.length;)if($t=pu(this,le),$t==Di){Ot==4&&(this.s=4,ut(14),_=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if($t==cl){this.s=4,ut(15),Rs(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Rs(this.i,this.l,$t,null),Pa(this,$t);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||le.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)Rs(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),gr(this);else if(0<le.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ka(zt),zt.M=!0,ut(11))}}else Rs(this.i,this.l,le,null),Pa(this,le);Ot==4&&Gt(this),this.o&&!this.J&&(Ot==4?Au(this.j,this):(this.o=!1,Ma(this)))}else yf(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Gt(this),gr(this)}}}catch{}finally{}};function mu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function pu(d,v){var _=d.C,N=v.indexOf(`
`,_);return N==-1?Di:(_=Number(v.substring(_,N)),isNaN(_)?cl:(N+=1,N+_>v.length?Di:(v=v.slice(N,N+_),d.C=N+_,v)))}ln.prototype.cancel=function(){this.J=!0,Gt(this)};function Ma(d){d.S=Date.now()+d.I,gu(d,d.I)}function gu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Et(w(d.ba,d),v)}function Is(d){d.B&&(m.clearTimeout(d.B),d.B=null)}ln.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(fu(this.i,this.A),this.L!=2&&(Ns(),ut(17)),Gt(this),this.s=2,gr(this)):gu(this,this.S-d)};function gr(d){d.j.G==0||d.J||Au(d.j,d)}function Gt(d){Is(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Da(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Pa(d,v){try{var _=d.j;if(_.G!=0&&(_.g==d||ul(_.h,d))){if(!d.K&&ul(_.h,d)&&_.G==3){try{var N=_.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var F=N;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)Hi(_),qi(_);else break e;_l(_),ut(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(w(_.Za,_),6e3));if(1>=Oi(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qr(_,11)}else if((d.K||_.g==d)&&Hi(_),!Y(v))for(F=_.Da.g.parse(v),v=0;v<F.length;v++){let Ge=F[v];if(_.T=Ge[0],Ge=Ge[1],_.G==2)if(Ge[0]=="c"){_.K=Ge[1],_.ia=Ge[2];const zt=Ge[3];zt!=null&&(_.la=zt,_.j.info("VER="+_.la));const Ot=Ge[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const Xr=Ge[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(N=1.5*Xr,_.L=N,_.j.info("backChannelRequestTimeoutMs_="+N)),N=_;const $t=d.g;if($t){const Er=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var W=N.h;W.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Mi(W,W.h),W.h=null))}if(N.D){const wl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(N.ya=wl,rt(N.I,N.D,wl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),N=_;var le=d;if(N.qa=Ru(N,N.J?N.ia:null,N.W),le.K){cn(N.h,le);var He=le,kt=N.L;kt&&(He.I=kt),He.B&&(Is(He),Ma(He)),N.g=le}else Tu(N);0<_.i.length&&Fi(_)}else Ge[0]!="stop"&&Ge[0]!="close"||Qr(_,7);else _.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Qr(_,7):vl(_):Ge[0]!="noop"&&_.l&&_.l.ta(Ge),_.v=0)}}Ns(4)}catch{}}var yu=class{constructor(d,v){this.g=d,this.map=v}};function Fr(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ki(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Oi(d){return d.h?1:d.g?d.g.size:0}function ul(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Mi(d,v){d.g?d.g.add(v):d.h=v}function cn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Fr.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function dl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const _ of d.g.values())v=v.concat(_.D);return v}return j(d.i)}function ff(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],_=d.length,N=0;N<_;N++)v.push(d[N]);return v}v=[],_=0;for(N in d)v[_++]=d[N];return v}function Pi(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var _=0;_<d;_++)v.push(_);return v}v=[],_=0;for(const N in d)v[_++]=N;return v}}}function hl(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var _=Pi(d),N=ff(d),F=N.length,W=0;W<F;W++)v.call(void 0,N[W],_&&_[W],d)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(d,v){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var N=d[_].indexOf("="),F=null;if(0<=N){var W=d[_].substring(0,N);F=d[_].substring(N+1)}else W=d[_];v(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Tt){this.h=d.h,La(this,d.j),this.o=d.o,this.g=d.g,js(this,d.s),this.l=d.l;var v=d.i,_=new Gr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Hr(this,_),this.m=d.m}else d&&(v=String(d).match(Va))?(this.h=!1,La(this,v[1]||"",!0),this.o=Pn(v[2]||""),this.g=Pn(v[3]||"",!0),js(this,v[4]),this.l=Pn(v[5]||"",!0),Hr(this,v[6]||"",!0),this.m=Pn(v[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}Tt.prototype.toString=function(){var d=[],v=this.j;v&&d.push(za(v,fl,!0),":");var _=this.g;return(_||v=="file")&&(d.push("//"),(v=this.o)&&d.push(za(v,fl,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(za(_,_.charAt(0)=="/"?pf:ml,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",za(_,Vi)),d.join("")};function En(d){return new Tt(d)}function La(d,v,_){d.j=_?Pn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function js(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Hr(d,v,_){v instanceof Gr?(d.i=v,xu(d.i,d.h)):(_||(v=za(v,gf)),d.i=new Gr(v,d.h))}function rt(d,v,_){d.i.set(v,_)}function Ua(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Pn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function za(d,v,_){return typeof d=="string"?(d=encodeURI(d).replace(v,vu),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fl=/[#\/\?@]/g,ml=/[#\?:]/g,pf=/[#\?]/g,gf=/[#\?@]/g,Vi=/#/g;function Gr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Vn(d){d.g||(d.g=new Map,d.h=0,d.i&&mf(d.i,function(v,_){d.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=Gr.prototype,r.add=function(d,v){Vn(this),this.i=null,d=yr(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(v),this.h+=1,this};function $r(d,v){Vn(d),v=yr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Kr(d,v){return Vn(d),v=yr(d,v),d.g.has(v)}r.forEach=function(d,v){Vn(this),this.g.forEach(function(_,N){_.forEach(function(F){d.call(v,F,N,this)},this)},this)},r.na=function(){Vn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let N=0;N<v.length;N++){const F=d[N];for(let W=0;W<F.length;W++)_.push(v[N])}return _},r.V=function(d){Vn(this);let v=[];if(typeof d=="string")Kr(this,d)&&(v=v.concat(this.g.get(yr(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)v=v.concat(d[_])}return v},r.set=function(d,v){return Vn(this),this.i=null,d=yr(this,d),Kr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function pl(d,v,_){$r(d,v),0<_.length&&(d.i=null,d.g.set(yr(d,v),j(_)),d.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var N=v[_];const W=encodeURIComponent(String(N)),le=this.V(N);for(N=0;N<le.length;N++){var F=W;le[N]!==""&&(F+="="+encodeURIComponent(String(le[N]))),d.push(F)}}return this.i=d.join("&")};function yr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function xu(d,v){v&&!d.j&&(Vn(d),d.i=null,d.g.forEach(function(_,N){var F=N.toLowerCase();N!=F&&($r(this,N),pl(this,F,_))},d)),d.j=v}function Ba(d,v){const _=new Mn;if(m.Image){const N=new Image;N.onload=S(Ln,_,"TestLoadImage: loaded",!0,v,N),N.onerror=S(Ln,_,"TestLoadImage: error",!1,v,N),N.onabort=S(Ln,_,"TestLoadImage: abort",!1,v,N),N.ontimeout=S(Ln,_,"TestLoadImage: timeout",!1,v,N),m.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else v(!1)}function er(d,v){const _=new Mn,N=new AbortController,F=setTimeout(()=>{N.abort(),Ln(_,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:N.signal}).then(W=>{clearTimeout(F),W.ok?Ln(_,"TestPingServer: ok",!0,v):Ln(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Ln(_,"TestPingServer: error",!1,v)})}function Ln(d,v,_,N,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),N(_)}catch{}}function qa(){this.g=new ka}function vr(d,v,_){const N=_||"";try{hl(d,function(F,W){let le=F;y(F)&&(le=Jn(F)),v.push(N+W+"="+encodeURIComponent(le))})}catch(F){throw v.push(N+"type="+encodeURIComponent("_badmap")),F}}function Ds(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Ds,rl),Ds.prototype.g=function(){return new Yr(this.l,this.j)},Ds.prototype.i=function(d){return function(){return d}}({});function Yr(d,v){pt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Yr,pt),r=Yr.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,_r(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?xr(this):_r(this),this.readyState==3&&gl(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,xr(this))},r.Qa=function(d){this.g&&(this.response=d,xr(this))},r.ga=function(){this.g&&xr(this)};function xr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,_r(d)}r.setRequestHeader=function(d,v){this.u.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=v.next();return d.join(`\r
`)};function _r(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function yl(d){let v="";return ve(d,function(_,N){v+=N,v+=":",v+=_,v+=`\r
`}),v}function Ut(d,v,_){e:{for(N in _){var N=!1;break e}N=!0}N||(_=yl(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):rt(d,v,_))}function We(d){pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(We,pt);var Li=/^https?$/i,Fa=["POST","PUT"];r=We.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,v,_,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mr.g(),this.v=this.o?sl(this.o):sl(mr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(W){_u(this,W);return}if(d=_||"",_=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var F in N)_.set(F,N[F]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())_.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),F=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Fa,v,void 0))||N||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of _)this.g.setRequestHeader(W,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(d),this.u=!1}catch(W){_u(this,W)}};function _u(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ui(d),br(d)}function Ui(d){d.A||(d.A=!0,et(d,"complete"),et(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,et(this,"complete"),et(this,"abort"),br(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),We.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zi(this):this.bb())},r.bb=function(){zi(this)};function zi(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Un(d)!=4||d.Z()!=2)){if(d.u&&Un(d)==4)Zt(d.Ea,0,d);else if(et(d,"readystatechange"),Un(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var N;if(N=le===0){var F=String(d.D).match(Va)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),N=!Li.test(F?F.toLowerCase():"")}_=N}if(_)et(d,"complete"),et(d,"success");else{d.m=6;try{var W=2<Un(d)?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.Z()+"]",Ui(d)}}finally{br(d)}}}}function br(d,v){if(d.g){Ha(d);const _=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||et(d,"ready");try{_.onreadystatechange=N}catch{}}}function Ha(d){d.I&&(m.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function Un(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ii(v)}};function bu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function yf(d){const v={};d=(d.g&&2<=Un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(Y(d[N]))continue;var _=z(d[N]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=v[F]||[];v[F]=W,W.push(_)}M(v,function(N){return N.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(d,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||v}function Bi(d){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,d),this.cb=Ga("retryDelaySeedMs",1e4,d),this.Wa=Ga("forwardChannelMaxRetries",2,d),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Fr(d&&d.concurrentRequestLimit),this.Da=new qa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Bi.prototype,r.la=8,r.G=1,r.connect=function(d,v,_,N){ut(0),this.W=d,this.H=v||{},_&&N!==void 0&&(this.H.OSID=_,this.H.OAID=N),this.F=this.X,this.I=Ru(this,null,this.W),Fi(this)};function vl(d){if(wu(d),d.G==3){var v=d.U++,_=En(d.I);if(rt(_,"SID",d.K),rt(_,"RID",v),rt(_,"TYPE","terminate"),$a(d,_),v=new ln(d,d.j,v),v.L=2,v.v=Ua(En(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=Cu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ma(v)}Nu(d)}function qi(d){d.g&&(Ka(d),d.g.cancel(),d.g=null)}function wu(d){qi(d),d.u&&(m.clearTimeout(d.u),d.u=null),Hi(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function Fi(d){if(!ki(d.h)&&!d.s){d.s=!0;var v=d.Ga;oe||V(),se||(oe(),se=!0),Fe.add(v,d),d.B=0}}function vf(d,v){return Oi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Et(w(d.Ga,d,v),bl(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new ln(this,this.j,d);let W=this.o;if(this.S&&(W?(W=E(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var N=this.i[_];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Eu(this,F,v),_=En(this.I),rt(_,"RID",d),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),$a(this,_),W&&(this.O?v="headers="+encodeURIComponent(String(yl(W)))+"&"+v:this.m&&Ut(_,this.m,W)),Mi(this.h,F),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",v),rt(_,"SID","null"),F.T=!0,Zn(F,_,null)):Zn(F,_,v),this.G=2}}else this.G==3&&(d?xl(this,d):this.i.length==0||ki(this.h)||xl(this))};function xl(d,v){var _;v?_=v.l:_=d.U++;const N=En(d.I);rt(N,"SID",d.K),rt(N,"RID",_),rt(N,"AID",d.T),$a(d,N),d.m&&d.o&&Ut(N,d.m,d.o),_=new ln(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Eu(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Mi(d.h,_),Zn(_,N,v)}function $a(d,v){d.H&&ve(d.H,function(_,N){rt(v,N,_)}),d.l&&hl({},function(_,N){rt(v,N,_)})}function Eu(d,v,_){_=Math.min(d.i.length,_);var N=d.l?w(d.l.Na,d.l,d):null;e:{var F=d.i;let W=-1;for(;;){const le=["count="+_];W==-1?0<_?(W=F[0].g,le.push("ofs="+W)):W=0:le.push("ofs="+W);let He=!0;for(let kt=0;kt<_;kt++){let Ge=F[kt].g;const zt=F[kt].map;if(Ge-=W,0>Ge)W=Math.max(0,F[kt].g-100),He=!1;else try{vr(zt,le,"req"+Ge+"_")}catch{N&&N(zt)}}if(He){N=le.join("&");break e}}}return d=d.i.splice(0,_),v.D=d,N}function Tu(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;oe||V(),se||(oe(),se=!0),Fe.add(v,d),d.v=0}}function _l(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Et(w(d.Fa,d),bl(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,Su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Et(w(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),qi(this),Su(this))};function Ka(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Su(d){d.g=new ln(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=En(d.qa);rt(v,"RID","rpc"),rt(v,"SID",d.K),rt(v,"AID",d.T),rt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(v,"TO",d.ja),rt(v,"TYPE","xmlhttp"),$a(d,v),d.m&&d.o&&Ut(v,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=Ua(En(v)),_.m=null,_.P=!0,qr(_,d)}r.Za=function(){this.C!=null&&(this.C=null,qi(this),_l(this),ut(19))};function Hi(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function Au(d,v){var _=null;if(d.g==v){Hi(d),Ka(d),d.g=null;var N=2}else if(ul(d.h,v))_=v.D,cn(d.h,v),N=1;else return;if(d.G!=0){if(v.o)if(N==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var F=d.B;N=As(),et(N,new Dt(N,_)),Fi(d)}else Tu(d);else if(F=v.s,F==3||F==0&&0<v.X||!(N==1&&vf(d,v)||N==2&&_l(d)))switch(_&&0<_.length&&(v=d.h,v.i=v.i.concat(_)),F){case 1:Qr(d,5);break;case 4:Qr(d,10);break;case 3:Qr(d,6);break;default:Qr(d,2)}}}function bl(d,v){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*v}function Qr(d,v){if(d.j.info("Error code "+v),v==2){var _=w(d.fb,d),N=d.Xa;const F=!N;N=new Tt(N||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||La(N,"https"),Ua(N),F?Ba(N.toString(),_):er(N.toString(),_)}else ut(2);d.G=0,d.l&&d.l.sa(v),Nu(d),wu(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Nu(d){if(d.G=0,d.ka=[],d.l){const v=dl(d.h);(v.length!=0||d.i.length!=0)&&(k(d.ka,v),k(d.ka,d.i),d.h.i.length=0,j(d.i),d.i.length=0),d.l.ra()}}function Ru(d,v,_){var N=_ instanceof Tt?En(_):new Tt(_);if(N.g!="")v&&(N.g=v+"."+N.g),js(N,N.s);else{var F=m.location;N=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var W=new Tt(null);N&&La(W,N),v&&(W.g=v),F&&js(W,F),_&&(W.l=_),N=W}return _=d.D,v=d.ya,_&&v&&rt(N,_,v),rt(N,"VER",d.la),$a(d,N),N}function Cu(d,v,_){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new We(new Ds({eb:_})):new We(d.pa),v.Ha(d.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Gi(){}Gi.prototype.g=function(d,v){return new un(d,v)};function un(d,v){pt.call(this),this.g=new Bi(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!Y(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new wr(this)}R(un,pt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){vl(this.g)},un.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Jn(d),d=_);v.i.push(new yu(v.Ya++,d)),v.G==3&&Fi(v)},un.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,un.aa.N.call(this)};function ju(d){zr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const _ in v){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}R(ju,zr);function Du(){il.call(this),this.status=1}R(Du,il);function wr(d){this.g=d}R(wr,Iu),wr.prototype.ua=function(){et(this.g,"a")},wr.prototype.ta=function(d){et(this.g,new ju(d))},wr.prototype.sa=function(d){et(this.g,new Du)},wr.prototype.ra=function(){et(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,I1=function(){return new Gi},C1=function(){return As()},R1=fr,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Wd=Cs,Br.COMPLETE="complete",N1=Br,al.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",pt.prototype.listen=pt.prototype.K,yc=al,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,A1=We}).apply(typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",K_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Mh("@firebase/firestore");function wo(){return yi.logLevel}function fe(r,...e){if(yi.logLevel<=Be.DEBUG){const t=e.map(Ug);yi.debug(`Firestore (${$o}): ${r}`,...t)}}function bs(r,...e){if(yi.logLevel<=Be.ERROR){const t=e.map(Ug);yi.error(`Firestore (${$o}): ${r}`,...t)}}function ga(r,...e){if(yi.logLevel<=Be.WARN){const t=e.map(Ug);yi.warn(`Firestore (${$o}): ${r}`,...t)}}function Ug(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,j1(r,a,t)}function j1(r,e,t){let a=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw bs(a),new Error(a)}function Je(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||j1(e,o,a)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $j{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class Kj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Yj{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gs,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new D1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Qj{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xj{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new Qj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const a=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Jj(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function Qp(r,e){let t=0;for(;t<r.length&&t<e.length;){const a=r.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return Pe(a,o);{const l=k1(),u=Zj(l.encode(Q_(r,t)),l.encode(Q_(e,t)));return u!==0?u:Pe(a,o)}}t+=a>65535?2:1}return Pe(r.length,e.length)}function Q_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Zj(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Pe(r[t],e[t]);return Pe(r.length,e.length)}function ko(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class Cr{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Ae(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=Cr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Pe(e.length,t.length)}static compareSegments(e,t){const a=Cr.isNumericId(e),o=Cr.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?Cr.extractNumericId(e).compare(Cr.extractNumericId(t)):Qp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fa.fromString(e.substring(4,e.length-2))}}class ct extends Cr{construct(e,t,a){return new ct(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Cr{construct(e,t,a){return new Wt(e,t,a)}static isValidIdentifier(e){return eD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new Wt([X_])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(a+=m,o++):(l(),o++)}if(l(),u)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tD(r,e,t,a){if(e===!0&&a===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function W_(r){if(!_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function J_(r){if(_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function M1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function lr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uh(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r,e){const t={typeString:r};return e&&(t.value=e),t}function Zc(r,e){if(!M1(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){t=`JSON missing required field: '${a}'`;break}const u=r[a];if(o&&typeof u!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new he(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=-62135596800,eb=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*eb);return new Qe(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Z_)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eb}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zc(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:It("string",Qe._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Qe(0,0))}static max(){return new Ce(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;function nD(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(a===1e9?new Qe(t+1,0):new Qe(t,a));return new ya(o,_e.empty(),e)}function rD(r){return new ya(r.readTime,r.key,Vc)}class ya{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new ya(Ce.min(),_e.empty(),Vc)}static max(){return new ya(Ce.max(),_e.empty(),Vc)}}function sD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==aD)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,a)=>{t(e)})}static reject(e){return new ne((t,a)=>{a(e)})}static waitFor(e){return new ne((t,a)=>{let o=0,l=0,u=!1;e.forEach(m=>{++o,m.next(()=>{++l,u&&l===o&&t()},p=>a(p))}),u=!0,l===o&&t()})}static or(e){let t=ne.resolve(!1);for(const a of e)t=t.next(o=>o?ne.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,l)=>{a.push(t.call(this,o,l))}),this.waitFor(a)}static mapArray(e,t){return new ne((a,o)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(x=>{u[y]=x,++m,m===l&&a(u)},x=>o(x))}})}static doWhile(e,t){return new ne((a,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):a()};l()})}}function oD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this._e(a),this.ae=a=>t.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}zh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=-1;function Bh(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function lD(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="";function cD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=tb(e)),e=uD(r.get(t),e);return tb(e)}function uD(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case P1:t+="";break;default:t+=l}}return t}function tb(r){return r+P1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Sa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function V1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??Xt.RED,this.left=o??Xt.EMPTY,this.right=l??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new Xt(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rb(this.data.getIterator())}getIteratorFrom(e){return new rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new jn([])}unionWith(e){let t=new Lt(Wt.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new L1("Invalid base64 string: "+l):l}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const t=dD.exec(r);if(Je(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xa(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="server_timestamp",z1="__type__",B1="__previous_value__",q1="__local_write_time__";function qg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[z1])===null||t===void 0?void 0:t.stringValue)===U1}function qh(r){const e=r.mapValue.fields[B1];return qg(e)?qh(e):e}function Lc(r){const e=va(r.mapValue.fields[q1].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,a,o,l,u,m,p,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=x}}const gh="(default)";class Uc{constructor(e,t){this.projectId=e,this.database=t||gh}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="__type__",fD="__max__",Ld={mapValue:{}},H1="__vector__",yh="value";function _a(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qg(r)?4:pD(r)?9007199254740991:mD(r)?10:11:Ae(28295,{value:r})}function Vr(r,e){if(r===e)return!0;const t=_a(r);if(t!==_a(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Lc(r).isEqual(Lc(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=va(o.timestampValue),m=va(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return xa(o.bytesValue).isEqual(xa(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return bt(o.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return bt(o.integerValue)===bt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=bt(o.doubleValue),m=bt(l.doubleValue);return u===m?ph(u)===ph(m):isNaN(u)&&isNaN(m)}return!1}(r,e);case 9:return ko(r.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},m=l.mapValue.fields||{};if(nb(u)!==nb(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Vr(u[p],m[p])))return!1;return!0}(r,e);default:return Ae(52216,{left:r})}}function zc(r,e){return(r.values||[]).find(t=>Vr(t,e))!==void 0}function Oo(r,e){if(r===e)return 0;const t=_a(r),a=_a(e);if(t!==a)return Pe(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(l,u){const m=bt(l.integerValue||l.doubleValue),p=bt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return sb(r.timestampValue,e.timestampValue);case 4:return sb(Lc(r),Lc(e));case 5:return Qp(r.stringValue,e.stringValue);case 6:return function(l,u){const m=xa(l),p=xa(u);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,u){const m=l.split("/"),p=u.split("/");for(let y=0;y<m.length&&y<p.length;y++){const x=Pe(m[y],p[y]);if(x!==0)return x}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,u){const m=Pe(bt(l.latitude),bt(u.latitude));return m!==0?m:Pe(bt(l.longitude),bt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ab(r.arrayValue,e.arrayValue);case 10:return function(l,u){var m,p,y,x;const T=l.fields||{},w=u.fields||{},S=(m=T[yh])===null||m===void 0?void 0:m.arrayValue,R=(p=w[yh])===null||p===void 0?void 0:p.arrayValue,j=Pe(((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0,((x=R==null?void 0:R.values)===null||x===void 0?void 0:x.length)||0);return j!==0?j:ab(S,R)}(r.mapValue,e.mapValue);case 11:return function(l,u){if(l===Ld.mapValue&&u===Ld.mapValue)return 0;if(l===Ld.mapValue)return 1;if(u===Ld.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),y=u.fields||{},x=Object.keys(y);p.sort(),x.sort();for(let T=0;T<p.length&&T<x.length;++T){const w=Qp(p[T],x[T]);if(w!==0)return w;const S=Oo(m[p[T]],y[x[T]]);if(S!==0)return S}return Pe(p.length,x.length)}(r.mapValue,e.mapValue);default:throw Ae(23264,{le:t})}}function sb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const t=va(r),a=va(e),o=Pe(t.seconds,a.seconds);return o!==0?o:Pe(t.nanos,a.nanos)}function ab(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=Oo(t[o],a[o]);if(l)return l}return Pe(t.length,a.length)}function Mo(r){return Xp(r)}function Xp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=va(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return xa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=Xp(l);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of a)l?l=!1:o+=",",o+=`${u}:${Xp(t.fields[u])}`;return o+"}"}(r.mapValue):Ae(61005,{value:r})}function Jd(r){switch(_a(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+Jd(e):16;case 5:return 2*r.stringValue.length;case 6:return xa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,l)=>o+Jd(l),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Sa(a.fields,(l,u)=>{o+=l.length+Jd(u)}),o}(r.mapValue);default:throw Ae(13486,{value:r})}}function ib(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wp(r){return!!r&&"integerValue"in r}function Fg(r){return!!r&&"arrayValue"in r}function ob(r){return!!r&&"nullValue"in r}function lb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zd(r){return!!r&&"mapValue"in r}function mD(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[F1])===null||t===void 0?void 0:t.stringValue)===H1}function Sc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Sa(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Sc(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function pD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(t)}setAll(e){let t=Wt.emptyPath(),a={},o=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=m.popLast()}u?a[m.lastSegment()]=Sc(u):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());Zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];Zd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Sa(t,(o,l)=>e[o]=l);for(const o of a)delete e[o]}clone(){return new vn(Sc(this.value))}}function G1(r){const e=[];return Sa(r.fields,(t,a)=>{const o=new Wt([t]);if(Zd(a)){const l=G1(a.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,a,o,l,u,m){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ce.min(),Ce.min(),Ce.min(),vn.empty(),0)}static newFoundDocument(e,t,a,o){return new sn(e,1,t,Ce.min(),a,o,0)}static newNoDocument(e,t){return new sn(e,2,t,Ce.min(),Ce.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Ce.min(),Ce.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.position=e,this.inclusive=t}}function cb(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?a=_e.comparator(_e.fromName(u.referenceValue),t.key):a=Oo(u,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function ub(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Vr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function gD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{}class Ct extends $1{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new vD(e,t,a):t==="array-contains"?new bD(e,a):t==="in"?new wD(e,a):t==="not-in"?new ED(e,a):t==="array-contains-any"?new TD(e,a):new Ct(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new xD(e,a):new _D(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oo(t,this.value)):t!==null&&_a(this.value)===_a(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends $1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new cr(e,t)}matches(e){return K1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function K1(r){return r.op==="and"}function Y1(r){return yD(r)&&K1(r)}function yD(r){for(const e of r.filters)if(e instanceof cr)return!1;return!0}function Jp(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+Mo(r.value);if(Y1(r))return r.filters.map(e=>Jp(e)).join(",");{const e=r.filters.map(t=>Jp(t)).join(",");return`${r.op}(${e})`}}function Q1(r,e){return r instanceof Ct?function(a,o){return o instanceof Ct&&a.op===o.op&&a.field.isEqual(o.field)&&Vr(a.value,o.value)}(r,e):r instanceof cr?function(a,o){return o instanceof cr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((l,u,m)=>l&&Q1(u,o.filters[m]),!0):!1}(r,e):void Ae(19439)}function X1(r){return r instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(r):r instanceof cr?function(t){return t.op.toString()+" {"+t.getFilters().map(X1).join(" ,")+"}"}(r):"Filter"}class vD extends Ct{constructor(e,t,a){super(e,t,a),this.key=_e.fromName(a.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class xD extends Ct{constructor(e,t){super(e,"in",t),this.keys=W1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _D extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=W1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function W1(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>_e.fromName(a.referenceValue))}class bD extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fg(t)&&zc(t.arrayValue,this.value)}}class wD extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zc(this.value.arrayValue,t)}}class ED extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zc(this.value.arrayValue,t)}}class TD extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>zc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t=null,a=[],o=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=u,this.endAt=m,this.Pe=null}}function db(r,e=null,t=[],a=[],o=null,l=null,u=null){return new SD(r,e,t,a,o,l,u)}function Hg(r){const e=Ie(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Jp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),Bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Mo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Mo(a)).join(",")),e.Pe=t}return e.Pe}function Gg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!gD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Q1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ub(r.startAt,e.startAt)&&ub(r.endAt,e.endAt)}function Zp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t=null,a=[],o=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function AD(r,e,t,a,o,l,u,m){return new Qo(r,e,t,a,o,l,u,m)}function $g(r){return new Qo(r)}function hb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function J1(r){return r.collectionGroup!==null}function Ac(r){const e=Ie(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Lt(Wt.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Bc(l,a))}),t.has(Wt.keyField().canonicalString())||e.Te.push(new Bc(Wt.keyField(),a))}return e.Te}function Dr(r){const e=Ie(r);return e.Ie||(e.Ie=ND(e,Ac(r))),e.Ie}function ND(r,e){if(r.limitType==="F")return db(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Bc(o.field,l)});const t=r.endAt?new vh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new vh(r.startAt.position,r.startAt.inclusive):null;return db(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function eg(r,e){const t=r.filters.concat([e]);return new Qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function tg(r,e,t){return new Qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Fh(r,e){return Gg(Dr(r),Dr(e))&&r.limitType===e.limitType}function Z1(r){return`${Hg(Dr(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>X1(o)).join(", ")}]`),Bh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Mo(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Mo(o)).join(",")),`Target(${a})`}(Dr(r))}; limitType=${r.limitType})`}function Hh(r,e){return e.isFoundDocument()&&function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):_e.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(r,e)&&function(a,o){for(const l of Ac(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(u,m,p){const y=cb(u,m,p);return u.inclusive?y<=0:y<0}(a.startAt,Ac(a),o)||a.endAt&&!function(u,m,p){const y=cb(u,m,p);return u.inclusive?y>=0:y>0}(a.endAt,Ac(a),o))}(r,e)}function RD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eE(r){return(e,t)=>{let a=!1;for(const o of Ac(r)){const l=CD(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function CD(r,e,t){const a=r.field.isKeyField()?_e.comparator(e.key,t.key):function(l,u,m){const p=u.data.field(l),y=m.data.field(l);return p!==null&&y!==null?Oo(p,y):Ae(42886)}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(t,a)=>{for(const[o,l]of a)e(o,l)})}isEmpty(){return V1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new mt(_e.comparator);function ws(){return ID}const tE=new mt(_e.comparator);function vc(...r){let e=tE;for(const t of r)e=e.insert(t.key,t);return e}function nE(r){let e=tE;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function hi(){return Nc()}function rE(){return Nc()}function Nc(){return new Ti(r=>r.toString(),(r,e)=>r.isEqual(e))}const jD=new mt(_e.comparator),DD=new Lt(_e.comparator);function qe(...r){let e=DD;for(const t of r)e=e.add(t);return e}const kD=new Lt(Pe);function OD(){return kD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function sE(r){return{integerValue:""+r}}function MD(r,e){return lD(e)?sE(e):Kg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function PD(r,e,t){return r instanceof qc?function(o,l){const u={fields:{[z1]:{stringValue:U1},[q1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&qg(l)&&(l=qh(l)),l&&(u.fields[B1]=l),{mapValue:u}}(t,e):r instanceof Fc?iE(r,e):r instanceof Hc?oE(r,e):function(o,l){const u=aE(o,l),m=fb(u)+fb(o.Ee);return Wp(u)&&Wp(o.Ee)?sE(m):Kg(o.serializer,m)}(r,e)}function VD(r,e,t){return r instanceof Fc?iE(r,e):r instanceof Hc?oE(r,e):t}function aE(r,e){return r instanceof xh?function(a){return Wp(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class qc extends Gh{}class Fc extends Gh{constructor(e){super(),this.elements=e}}function iE(r,e){const t=lE(e);for(const a of r.elements)t.some(o=>Vr(o,a))||t.push(a);return{arrayValue:{values:t}}}class Hc extends Gh{constructor(e){super(),this.elements=e}}function oE(r,e){let t=lE(e);for(const a of r.elements)t=t.filter(o=>!Vr(o,a));return{arrayValue:{values:t}}}class xh extends Gh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function fb(r){return bt(r.integerValue||r.doubleValue)}function lE(r){return Fg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,t){this.field=e,this.transform=t}}function UD(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Fc&&o instanceof Fc||a instanceof Hc&&o instanceof Hc?ko(a.elements,o.elements,Vr):a instanceof xh&&o instanceof xh?Vr(a.Ee,o.Ee):a instanceof qc&&o instanceof qc}(r.transform,e.transform)}class zD{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function cE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Yg(r.key,Wn.none()):new eu(r.key,r.data,Wn.none());{const t=r.data,a=vn.empty();let o=new Lt(Wt.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?a.delete(l):a.set(l,u),o=o.add(l)}return new Aa(r.key,a,new jn(o.toArray()),Wn.none())}}function BD(r,e,t){r instanceof eu?function(o,l,u){const m=o.value.clone(),p=pb(o.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Aa?function(o,l,u){if(!eh(o.precondition,l))return void l.convertToUnknownDocument(u.version);const m=pb(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(uE(o)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Rc(r,e,t,a){return r instanceof eu?function(l,u,m,p){if(!eh(l.precondition,u))return m;const y=l.value.clone(),x=gb(l.fieldTransforms,p,u);return y.setAll(x),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(r,e,t,a):r instanceof Aa?function(l,u,m,p){if(!eh(l.precondition,u))return m;const y=gb(l.fieldTransforms,p,u),x=u.data;return x.setAll(uE(l)),x.setAll(y),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,a):function(l,u,m){return eh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m}(r,e,t)}function qD(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),l=aE(a.transform,o||null);l!=null&&(t===null&&(t=vn.empty()),t.set(a.field,l))}return t||null}function mb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ko(a,o,(l,u)=>UD(l,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends $h{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends $h{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uE(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function pb(r,e,t){const a=new Map;Je(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,m=e.data.field(l.field);a.set(l.field,VD(u,m,t[o]))}return a}function gb(r,e,t){const a=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);a.set(o.field,PD(l,u,e))}return a}class Yg extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&BD(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Rc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Rc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=rE();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(o.key)?null:m;const p=cE(u,m);p!==null&&a.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(t,a)=>mb(t,a))&&ko(this.baseMutations,e.baseMutations,(t,a)=>mb(t,a))}}class Qg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){Je(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return jD}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,a[u].version);return new Qg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Ke;function KD(r){switch(r){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function dE(r){if(r===void 0)return bs("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Nt.OK:return ee.OK;case Nt.CANCELLED:return ee.CANCELLED;case Nt.UNKNOWN:return ee.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ee.INTERNAL;case Nt.UNAVAILABLE:return ee.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ee.NOT_FOUND;case Nt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Nt.ABORTED:return ee.ABORTED;case Nt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Nt.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:r})}}(Ke=Nt||(Nt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new fa([4294967295,4294967295],0);function yb(r){const e=k1().encode(r),t=new S1;return t.update(e),new Uint8Array(t.digest())}function vb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fa([t,a],0),new fa([o,l],0)]}class Xg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new xc(`Invalid padding: ${t}`);if(a<0)throw new xc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new xc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fa.fromNumber(this.fe)}pe(e,t,a){let o=e.add(t.multiply(fa.fromNumber(a)));return o.compare(YD)===1&&(o=new fa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=yb(e),[a,o]=vb(t);for(let l=0;l<this.hashCount;l++){const u=this.pe(a,o,l);if(!this.ye(u))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Xg(l,o,t);return a.forEach(m=>u.insert(m)),u}insert(e){if(this.fe===0)return;const t=yb(e),[a,o]=vb(t);for(let l=0;l<this.hashCount;l++){const u=this.pe(a,o,l);this.we(u)}}we(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Kh(Ce.min(),o,new mt(Pe),ws(),qe())}}class tu{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new tu(a,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,a,o){this.Se=e,this.removedTargetIds=t,this.key=a,this.be=o}}class hE{constructor(e,t){this.targetId=e,this.De=t}}class fE{constructor(e,t,a=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class xb{constructor(){this.ve=0,this.Ce=_b(),this.Fe=Jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=qe(),t=qe(),a=qe();return this.Ce.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Ae(38017,{changeType:l})}}),new tu(this.Fe,this.Me,e,t,a)}ke(){this.xe=!1,this.Ce=_b()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class QD{constructor(e){this.We=e,this.Ge=new Map,this.ze=ws(),this.je=Ud(),this.Je=Ud(),this.He=new mt(Pe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const a=this.tt(t);switch(e.state){case 0:this.nt(t)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),a.Be(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((a,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,a=e.De.count,o=this.st(t);if(o){const l=o.target;if(Zp(l))if(a===0){const u=new _e(l.path);this.Xe(t,u,sn.newNoDocument(u,Ce.min()))}else Je(a===1,20013,{expectedCount:a});else{const u=this.ot(t);if(u!==a){const m=this._t(e),p=m?this.ut(m,e,u):1;if(p!==0){this.rt(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let u,m;try{u=xa(a).toUint8Array()}catch(p){if(p instanceof L1)return ga("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xg(u,o,l)}catch(p){return ga(p instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,a){return t.De.count===a-this.ht(e,t.targetId)?0:2}ht(e,t){const a=this.We.getRemoteKeysForTarget(t);let o=0;return a.forEach(l=>{const u=this.We.lt(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,l,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((l,u)=>{const m=this.st(u);if(m){if(l.current&&Zp(m.target)){const p=new _e(m.target.path);this.Tt(p).has(u)||this.It(u,p)||this.Xe(u,p,sn.newNoDocument(p,e))}l.Ne&&(t.set(u,l.Le()),l.ke())}});let a=qe();this.Je.forEach((l,u)=>{let m=!0;u.forEachWhile(p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(l))}),this.ze.forEach((l,u)=>u.setReadTime(e));const o=new Kh(e,t,this.He,this.ze,a);return this.ze=ws(),this.je=Ud(),this.Je=Ud(),this.He=new mt(Pe),o}Ze(e,t){if(!this.nt(e))return;const a=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,a),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),a&&(this.ze=this.ze.insert(t,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new xb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Lt(Pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Lt(Pe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new xb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Ud(){return new mt(_e.comparator)}function _b(){return new mt(_e.comparator)}const XD={asc:"ASCENDING",desc:"DESCENDING"},WD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JD={and:"AND",or:"OR"};class ZD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ng(r,e){return r.useProto3Json||Bh(e)?e:{value:e}}function _h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function e4(r,e){return _h(r,e.toTimestamp())}function kr(r){return Je(!!r,49232),Ce.fromTimestamp(function(t){const a=va(t);return new Qe(a.seconds,a.nanos)}(r))}function Wg(r,e){return rg(r,e).canonicalString()}function rg(r,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function pE(r){const e=ct.fromString(r);return Je(_E(e),10190,{key:e.toString()}),e}function sg(r,e){return Wg(r.databaseId,e.path)}function Tp(r,e){const t=pE(e);if(t.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(yE(t))}function gE(r,e){return Wg(r.databaseId,e)}function t4(r){const e=pE(r);return e.length===4?ct.emptyPath():yE(e)}function ag(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yE(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bb(r,e,t){return{name:sg(r,e),fields:t.value.mapValue.fields}}function n4(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,x){return y.useProto3Json?(Je(x===void 0||typeof x=="string",58123),Jt.fromBase64String(x||"")):(Je(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Jt.fromUint8Array(x||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(y){const x=y.code===void 0?ee.UNKNOWN:dE(y.code);return new he(x,y.message||"")}(u);t=new fE(a,o,l,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Tp(r,a.document.name),l=kr(a.document.updateTime),u=a.document.createTime?kr(a.document.createTime):Ce.min(),m=new vn({mapValue:{fields:a.document.fields}}),p=sn.newFoundDocument(o,l,u,m),y=a.targetIds||[],x=a.removedTargetIds||[];t=new th(y,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Tp(r,a.document),l=a.readTime?kr(a.readTime):Ce.min(),u=sn.newNoDocument(o,l),m=a.removedTargetIds||[];t=new th([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Tp(r,a.document),l=a.removedTargetIds||[];t=new th([],l,o,null)}else{if(!("filter"in e))return Ae(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,u=new $D(o,l),m=a.targetId;t=new hE(m,u)}}return t}function r4(r,e){let t;if(e instanceof eu)t={update:bb(r,e.key,e.value)};else if(e instanceof Yg)t={delete:sg(r,e.key)};else if(e instanceof Aa)t={update:bb(r,e.key,e.data),updateMask:h4(e.fieldMask)};else{if(!(e instanceof FD))return Ae(16599,{Rt:e.type});t={verify:sg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,u){const m=u.transform;if(m instanceof qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Hc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:u.field.canonicalString(),increment:m.Ee};throw Ae(20930,{transform:u.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:e4(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(r,e.precondition)),t}function s4(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map(t=>function(o,l){let u=o.updateTime?kr(o.updateTime):kr(l);return u.isEqual(Ce.min())&&(u=kr(l)),new zD(u,o.transformResults||[])}(t,e))):[]}function a4(r,e){return{documents:[gE(r,e.path)]}}function i4(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=gE(r,o);const l=function(y){if(y.length!==0)return xE(cr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(x=>function(w){return{field:To(w.field),direction:c4(w.dir)}}(x))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=ng(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:t,parent:o}}function o4(r){let e=t4(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){Je(a===1,65062);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=function(T){const w=vE(T);return w instanceof cr&&Y1(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(w=>function(R){return new Bc(So(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(T){let w;return w=typeof T=="object"?T.value:T,Bh(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(T){const w=!!T.before,S=T.values||[];return new vh(S,w)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const w=!T.before,S=T.values||[];return new vh(S,w)}(t.endAt)),AD(e,o,u,l,m,"F",p,y)}function l4(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=So(t.unaryFilter.field);return Ct.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=So(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(t.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=So(t.unaryFilter.field);return Ct.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(r):r.fieldFilter!==void 0?function(t){return Ct.create(So(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return cr.create(t.compositeFilter.filters.map(a=>vE(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(r):Ae(30097,{filter:r})}function c4(r){return XD[r]}function u4(r){return WD[r]}function d4(r){return JD[r]}function To(r){return{fieldPath:r.canonicalString()}}function So(r){return Wt.fromServerFormat(r.fieldPath)}function xE(r){return r instanceof Ct?function(t){if(t.op==="=="){if(lb(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(ob(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lb(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(ob(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:u4(t.op),value:t.value}}}(r):r instanceof cr?function(t){const a=t.getFilters().map(o=>xE(o));return a.length===1?a[0]:{compositeFilter:{op:d4(t.op),filters:a}}}(r):Ae(54877,{filter:r})}function h4(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,a,o,l=Ce.min(),u=Ce.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.gt=e}}function m4(r){const e=o4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.Dn=new g4}addToCollectionParentIndex(e,t){return this.Dn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ya.min())}updateCollectionGroup(e,t,a){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class g4{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Lt(ct.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Lt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(bE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Po(0)}static ur(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="LruGarbageCollector",y4=1048576;function Tb([r,e],[t,a]){const o=Pe(r,t);return o===0?Pe(e,a):o}class v4{constructor(e){this.Tr=e,this.buffer=new Lt(Tb),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Tb(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class x4{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(Eb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yo(t)?fe(Eb,"Ignoring IndexedDB error during garbage collection: ",t):await Ko(t)}await this.Rr(3e5)})}}class _4{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(zh.ue);const a=new v4(t);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(wb)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let a,o,l,u,m,p,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(a=T,m=Date.now(),this.removeTargets(e,a,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(T=>(y=Date.now(),wo()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-x}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function b4(r,e){return new _4(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.changes=new Ti(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ne.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&Rc(a.mutation,o,jn.empty(),Qe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,qe()).next(()=>a))}getLocalViewOfDocuments(e,t,a=qe()){const o=hi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(l=>{let u=vc();return l.forEach((m,p)=>{u=u.insert(m,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const a=hi();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,qe()))}populateOverlays(e,t,a){const o=[];return a.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,a,o){let l=ws();const u=Nc(),m=function(){return Nc()}();return t.forEach((p,y)=>{const x=a.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Aa)?l=l.insert(y.key,y):x!==void 0?(u.set(y.key,x.mutation.getFieldMask()),Rc(x.mutation,y,x.mutation.getFieldMask(),Qe.now())):u.set(y.key,jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,x)=>u.set(y,x)),t.forEach((y,x)=>{var T;return m.set(y,new E4(x,(T=u.get(y))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,t){const a=Nc();let o=new mt((u,m)=>u-m),l=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let x=a.get(p)||jn.empty();x=m.applyToLocalView(y,x),a.set(p,x);const T=(o.get(m.batchId)||qe()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,x=p.value,T=rE();x.forEach(w=>{if(!l.has(w)){const S=cE(t.get(w),a.get(w));S!==null&&T.set(w,S),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ne.waitFor(u)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):J1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):ne.resolve(hi());let m=Vc,p=l;return u.next(y=>ne.forEach(y,(x,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(x)?ne.resolve():this.remoteDocumentCache.getEntry(e,x).next(w=>{p=p.insert(x,w)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,qe())).next(x=>({batchId:m,changes:nE(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(a=>{let o=vc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let u=vc();return this.indexManager.getCollectionParents(e,l).next(m=>ne.forEach(m,p=>{const y=function(T,w){return new Qo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(x=>{x.forEach((T,w)=>{u=u.insert(T,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o))).next(u=>{l.forEach((p,y)=>{const x=y.getKey();u.get(x)===null&&(u=u.insert(x,sn.newInvalidDocument(x)))});let m=vc();return u.forEach((p,y)=>{const x=l.get(p);x!==void 0&&Rc(x.mutation,y,jn.empty(),Qe.now()),Hh(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:m4(o.bundledQuery),readTime:kr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.overlays=new mt(_e.comparator),this.kr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const a=hi();return ne.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&a.set(o,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,l)=>{this.wt(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(a)),ne.resolve()}getOverlaysForCollection(e,t,a){const o=hi(),l=t.length+1,u=new _e(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new mt((y,x)=>y-x);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>a){let x=l.get(y.largestBatchId);x===null&&(x=hi(),l=l.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const m=hi(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,x)=>m.set(y,x)),!(m.size()>=o)););return ne.resolve(m)}wt(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new GD(t,a));let l=this.kr.get(t);l===void 0&&(l=qe(),this.kr.set(t,l)),this.kr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.qr=new Lt(Ht.Qr),this.$r=new Lt(Ht.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const a=new Ht(e,t);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Wr(new Ht(e,t))}Gr(e,t){e.forEach(a=>this.removeReference(a,t))}zr(e){const t=new _e(new ct([])),a=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.$r.forEachInRange([a,o],u=>{this.Wr(u),l.push(u.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new _e(new ct([])),a=new Ht(t,e),o=new Ht(t,e+1);let l=qe();return this.$r.forEachInRange([a,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Ht(e,0),a=this.qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return _e.comparator(e.key,t.key)||Pe(e.Hr,t.Hr)}static Ur(e,t){return Pe(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Lt(Ht.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new HD(l,t,a,o);this.mutationQueue.push(u);for(const m of o)this.Yr=this.Yr.add(new Ht(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Xr(a),l=o<0?0:o;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Bg:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([a,o],u=>{const m=this.Zr(u.Hr);l.push(m)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Lt(Pe);return t.forEach(o=>{const l=new Ht(o,0),u=new Ht(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,u],m=>{a=a.add(m.Hr)})}),ne.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;_e.isDocumentKey(l)||(l=l.child(""));const u=new Ht(new _e(l),0);let m=new Lt(Pe);return this.Yr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)},u),ne.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Je(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return ne.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,t){const a=new Ht(t,0),o=this.Yr.firstAfterOrEqual(a);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.ni=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,u=this.ni(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ne.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let a=ws();return t.forEach(o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():sn.newInvalidDocument(o))}),ne.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=ws();const u=t.path,m=new _e(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:x}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||sD(rD(x),a)<=0||(o.has(x.key)||Hh(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,a,o){Ae(9500)}ri(e,t){return ne.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new I4(this)}getSize(e){return ne.resolve(this.size)}}class I4 extends w4{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),ne.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.persistence=e,this.ii=new Ti(t=>Hg(t),Gg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.si=0,this.oi=new Jg,this.targetCount=0,this._i=Po.ar()}forEachTarget(e,t){return this.ii.forEach((a,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.si&&(this.si=t),ne.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.hr(t),ne.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.ii.forEach((u,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.ii.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(l).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const a=this.ii.get(t)||null;return ne.resolve(a)}addMatchingKeys(e,t,a){return this.oi.Kr(t,a),ne.resolve()}removeMatchingKeys(e,t,a){this.oi.Gr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const a=this.oi.Jr(t);return ne.resolve(a)}containsKey(e,t){return ne.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,t){this.ai={},this.overlays={},this.ui=new zh(0),this.ci=!1,this.ci=!0,this.li=new N4,this.referenceDelegate=e(this),this.hi=new j4(this),this.indexManager=new p4,this.remoteDocumentCache=function(o){return new C4(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new f4(t),this.Ti=new S4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ai[e.toKey()];return a||(a=new R4(t,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,a){fe("MemoryPersistence","Starting transaction:",e);const o=new D4(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(e,t){return ne.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,t)))}}class D4 extends iD{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Ai=new Jg,this.Ri=null}static Vi(e){return new Zg(e)}get mi(){if(this.Ri)return this.Ri;throw Ae(60996)}addReference(e,t,a){return this.Ai.addReference(a,t),this.mi.delete(a.toString()),ne.resolve()}removeReference(e,t,a){return this.Ai.removeReference(a,t),this.mi.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,a=>{const o=_e.fromPath(a);return this.fi(e,o).next(l=>{l||t.removeEntry(o,Ce.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(a=>{a?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ne.or([()=>ne.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.gi=new Ti(a=>cD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=b4(this,t)}static Vi(e,t){return new bh(e,t)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}yr(e){let t=0;return this.gr(e,a=>{t++}).next(()=>t)}gr(e,t){return ne.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(l=>l?ne.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,u=>this.Sr(e,u,t).next(m=>{m||(a++,l.removeEntry(u,Ce.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jd(e.data.value)),t}Sr(e,t,a){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Is=a,this.ds=o}static Es(e,t){let a=qe(),o=qe();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ey(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return lR()?8:oD(an())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.ps(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ys(e,t,o,a).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new k4;return this.ws(e,t,u).next(m=>{if(l.result=m,this.Rs)return this.Ss(e,t,u,m.size)})}).next(()=>l.result)}Ss(e,t,a,o){return a.documentReadCount<this.Vs?(wo()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(wo()<=Be.DEBUG&&fe("QueryEngine","Query:",Eo(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(wo()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):ne.resolve())}ps(e,t){if(hb(t))return ne.resolve(null);let a=Dr(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=tg(t,null,"F"),a=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const u=qe(...l);return this.gs.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.bs(t,m);return this.Ds(t,y,u,p.readTime)?this.ps(e,tg(t,null,"F")):this.vs(e,y,t,p)}))})))}ys(e,t,a,o){return hb(t)||o.isEqual(Ce.min())?ne.resolve(null):this.gs.getDocuments(e,a).next(l=>{const u=this.bs(t,l);return this.Ds(t,u,a,o)?ne.resolve(null):(wo()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.vs(e,u,t,nD(o,Vc)).next(m=>m))})}bs(e,t){let a=new Lt(eE(e));return t.forEach((o,l)=>{Hh(e,l)&&(a=a.add(l))}),a}Ds(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,a){return wo()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.gs.getDocumentsMatchingQuery(e,t,ya.min(),a)}vs(e,t,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="LocalStore",M4=3e8;class P4{constructor(e,t,a,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new mt(Pe),this.Ms=new Ti(l=>Hg(l),Gg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function V4(r,e,t,a){return new P4(r,e,t,a)}async function EE(r,e){const t=Ie(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const u=[],m=[];let p=qe();for(const y of o){u.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}for(const y of l){m.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}return t.localDocuments.getDocuments(a,p).next(y=>({Bs:y,removedBatchIds:u,addedBatchIds:m}))})})}function L4(r,e){const t=Ie(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,y,x){const T=y.batch,w=T.keys();let S=ne.resolve();return w.forEach(R=>{S=S.next(()=>x.getEntry(p,R)).next(j=>{const k=y.docVersions.get(R);Je(k!==null,48541),j.version.compareTo(k)<0&&(T.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),x.addEntry(j)))})}),S.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=qe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function TE(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function U4(r,e){const t=Ie(r),a=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((x,T)=>{const w=o.get(T);if(!w)return;m.push(t.hi.removeMatchingKeys(l,x.removedDocuments,T).next(()=>t.hi.addMatchingKeys(l,x.addedDocuments,T)));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?S=S.withResumeToken(Jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):x.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(x.resumeToken,a)),o=o.insert(T,S),function(j,k,B){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=M4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,S,x)&&m.push(t.hi.updateTargetData(l,S))});let p=ws(),y=qe();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))}),m.push(z4(l,u,e.documentUpdates).next(x=>{p=x.Ls,y=x.ks})),!a.isEqual(Ce.min())){const x=t.hi.getLastRemoteSnapshotVersion(l).next(T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,a));m.push(x)}return ne.waitFor(m).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Fs=o,l))}function z4(r,e,t){let a=qe(),o=qe();return t.forEach(l=>a=a.add(l)),e.getEntries(r,a).next(l=>{let u=ws();return t.forEach((m,p)=>{const y=l.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):fe(ty,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Ls:u,ks:o}})}function B4(r,e){const t=Ie(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Bg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function q4(r,e){const t=Ie(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.hi.getTargetData(a,e).next(l=>l?(o=l,ne.resolve(o)):t.hi.allocateTargetId(a).next(u=>(o=new la(e,u,"TargetPurposeListen",a.currentSequenceNumber),t.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(a.targetId,a),t.Ms.set(e,a.targetId)),a})}async function ig(r,e,t){const a=Ie(r),o=a.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,u=>a.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Yo(u))throw u;fe(ty,`Failed to update sequence numbers for target ${e}: ${u}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function Sb(r,e,t){const a=Ie(r);let o=Ce.min(),l=qe();return a.persistence.runTransaction("Execute query","readwrite",u=>function(p,y,x){const T=Ie(p),w=T.Ms.get(x);return w!==void 0?ne.resolve(T.Fs.get(w)):T.hi.getTargetData(y,x)}(a,u,Dr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(u,m.targetId).next(p=>{l=p})}).next(()=>a.Cs.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?l:qe())).next(m=>(F4(a,RD(e),m),{documents:m,qs:l})))}function F4(r,e,t){let a=r.xs.get(e)||Ce.min();t.forEach((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),r.xs.set(e,a)}class Ab{constructor(){this.activeTargetIds=OD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H4{constructor(){this.Fo=new Ab,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,a){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ab,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="ConnectivityMonitor";class Rb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(Nb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(Nb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function og(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="RestConnection",$4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K4{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===gh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,t,a,o,l){const u=og(),m=this.Go(e,t.toUriEncodedString());fe(Sp,`Sending RPC '${e}' ${u}:`,m,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:y}=new URL(m),x=Fo(y);return this.jo(e,m,p,a,x).then(T=>(fe(Sp,`Received RPC '${e}' ${u}: `,T),T),T=>{throw ga(Sp,`RPC '${e}' ${u} failed with error: `,T,"url: ",m,"request:",a),T})}Jo(e,t,a,o,l,u){return this.Wo(e,t,a,o,l)}zo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),a&&a.headers.forEach((o,l)=>e[l]=o)}Go(e,t){const a=$4[e];return`${this.$o}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class Q4 extends K4{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,a,o,l){const u=og();return new Promise((m,p)=>{const y=new A1;y.setWithCredentials(!0),y.listenOnce(N1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Wd.NO_ERROR:const T=y.getResponseJson();fe(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),m(T);break;case Wd.TIMEOUT:fe(nn,`RPC '${e}' ${u} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const w=y.getStatus();if(fe(nn,`RPC '${e}' ${u} failed with status:`,w,"response text:",y.getResponseText()),w>0){let S=y.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const j=function(B){const Y=B.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Y)>=0?Y:ee.UNKNOWN}(R.status);p(new he(j,R.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{c_:e,streamId:u,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{fe(nn,`RPC '${e}' ${u} completed.`)}});const x=JSON.stringify(o);fe(nn,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",x,a,15)})}P_(e,t,a){const o=og(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=I1(),m=C1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const x=l.join("");fe(nn,`Creating RPC '${e}' stream ${o}: ${x}`,p);const T=u.createWebChannel(x,p);this.T_(T);let w=!1,S=!1;const R=new Y4({Ho:k=>{S?fe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(fe(nn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),fe(nn,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Yo:()=>T.close()}),j=(k,B,Y)=>{k.listen(B,X=>{try{Y(X)}catch(ie){setTimeout(()=>{throw ie},0)}})};return j(T,yc.EventType.OPEN,()=>{S||(fe(nn,`RPC '${e}' stream ${o} transport opened.`),R.s_())}),j(T,yc.EventType.CLOSE,()=>{S||(S=!0,fe(nn,`RPC '${e}' stream ${o} transport closed`),R.__(),this.I_(T))}),j(T,yc.EventType.ERROR,k=>{S||(S=!0,ga(nn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),R.__(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),j(T,yc.EventType.MESSAGE,k=>{var B;if(!S){const Y=k.data[0];Je(!!Y,16349);const X=Y,ie=(X==null?void 0:X.error)||((B=X[0])===null||B===void 0?void 0:B.error);if(ie){fe(nn,`RPC '${e}' stream ${o} received error:`,ie);const ue=ie.status;let ve=function(I){const P=Nt[I];if(P!==void 0)return dE(P)}(ue),M=ie.message;ve===void 0&&(ve=ee.INTERNAL,M="Unknown error status: "+ue+" with message "+ie.message),S=!0,R.__(new he(ve,M)),T.close()}else fe(nn,`RPC '${e}' stream ${o} received:`,Y),R.a_(Y)}}),j(m,R1.STAT_EVENT,k=>{k.stat===Yp.PROXY?fe(nn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Yp.NOPROXY&&fe(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(r){return new ZD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t,a=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=a,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="PersistentStream";class AE{constructor(e,t,a,o,l,u,m,p){this.Fi=e,this.w_=a,this.S_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new SE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(bs(t.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===t&&this.W_(a,o)},a=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,t){const a=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(Cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(fe(Cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X4 extends AE{constructor(e,t,a,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,u),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=n4(this.serializer,e),a=function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?kr(u.readTime):Ce.min()}(e);return this.listener.J_(t,a)}H_(e){const t={};t.database=ag(this.serializer),t.addTarget=function(l,u){let m;const p=u.target;if(m=Zp(p)?{documents:a4(l,p)}:{query:i4(l,p).Vt},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=mE(l,u.resumeToken);const y=ng(l,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ce.min())>0){m.readTime=_h(l,u.snapshotVersion.toTimestamp());const y=ng(l,u.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=l4(this.serializer,e);a&&(t.labels=a),this.k_(t)}Y_(e){const t={};t.database=ag(this.serializer),t.removeTarget=e,this.k_(t)}}class W4 extends AE{constructor(e,t,a,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,u),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=s4(e.writeResults,e.commitTime),a=kr(e.commitTime);return this.listener.ta(a,t)}na(){const e={};e.database=ag(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>r4(this.serializer,a))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{}class Z4 extends J4{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,rg(t,a),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ee.UNKNOWN,l.toString())})}Jo(e,t,a,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.Jo(e,rg(t,a),o,u,m,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class e6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(bs(t),this._a=!1):fe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="RemoteStore";class t6{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(u=>{a.enqueueAndForget(async()=>{Si(this)&&(fe(vi,"Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.Ia.add(4),await nu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Qh(y)}(this))})}),this.Aa=new e6(a,o)}}async function Qh(r){if(Si(r))for(const e of r.da)await e(!0)}async function nu(r){for(const e of r.da)await e(!1)}function NE(r,e){const t=Ie(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),ay(t)?sy(t):Xo(t).x_()&&ry(t,e))}function ny(r,e){const t=Ie(r),a=Xo(t);t.Ta.delete(e),a.x_()&&RE(t,e),t.Ta.size===0&&(a.x_()?a.B_():Si(t)&&t.Aa.set("Unknown"))}function ry(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(r).H_(e)}function RE(r,e){r.Ra.$e(e),Xo(r).Y_(e)}function sy(r){r.Ra=new QD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Xo(r).start(),r.Aa.aa()}function ay(r){return Si(r)&&!Xo(r).M_()&&r.Ta.size>0}function Si(r){return Ie(r).Ia.size===0}function CE(r){r.Ra=void 0}async function n6(r){r.Aa.set("Online")}async function r6(r){r.Ta.forEach((e,t)=>{ry(r,e)})}async function s6(r,e){CE(r),ay(r)?(r.Aa.la(e),sy(r)):r.Aa.set("Unknown")}async function a6(r,e,t){if(r.Aa.set("Online"),e instanceof fE&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const m of l.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(a){fe(vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await wh(r,a)}else if(e instanceof th?r.Ra.Ye(e):e instanceof hE?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Ce.min()))try{const a=await TE(r.localStore);t.compareTo(a)>=0&&await function(l,u){const m=l.Ra.Pt(u);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const x=l.Ta.get(y);x&&l.Ta.set(y,x.withResumeToken(p.resumeToken,u))}}),m.targetMismatches.forEach((p,y)=>{const x=l.Ta.get(p);if(!x)return;l.Ta.set(p,x.withResumeToken(Jt.EMPTY_BYTE_STRING,x.snapshotVersion)),RE(l,p);const T=new la(x.target,p,y,x.sequenceNumber);ry(l,T)}),l.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(a){fe(vi,"Failed to raise snapshot:",a),await wh(r,a)}}async function wh(r,e,t){if(!Yo(e))throw e;r.Ia.add(1),await nu(r),r.Aa.set("Offline"),t||(t=()=>TE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(vi,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Qh(r)})}function IE(r,e){return e().catch(t=>wh(r,t,e))}async function Xh(r){const e=Ie(r),t=ba(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Bg;for(;i6(e);)try{const o=await B4(e.localStore,a);if(o===null){e.Pa.length===0&&t.B_();break}a=o.batchId,o6(e,o)}catch(o){await wh(e,o)}jE(e)&&DE(e)}function i6(r){return Si(r)&&r.Pa.length<10}function o6(r,e){r.Pa.push(e);const t=ba(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function jE(r){return Si(r)&&!ba(r).M_()&&r.Pa.length>0}function DE(r){ba(r).start()}async function l6(r){ba(r).na()}async function c6(r){const e=ba(r);for(const t of r.Pa)e.X_(t.mutations)}async function u6(r,e,t){const a=r.Pa.shift(),o=Qg.from(a,e,t);await IE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Xh(r)}async function d6(r,e){e&&ba(r).Z_&&await async function(a,o){if(function(u){return KD(u)&&u!==ee.ABORTED}(o.code)){const l=a.Pa.shift();ba(a).N_(),await IE(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Xh(a)}}(r,e),jE(r)&&DE(r)}async function Ib(r,e){const t=Ie(r);t.asyncQueue.verifyOperationInProgress(),fe(vi,"RemoteStore received new credentials");const a=Si(t);t.Ia.add(3),await nu(t),a&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Qh(t)}async function h6(r,e){const t=Ie(r);e?(t.Ia.delete(2),await Qh(t)):e||(t.Ia.add(2),await nu(t),t.Aa.set("Unknown"))}function Xo(r){return r.Va||(r.Va=function(t,a,o){const l=Ie(t);return l.ia(),new X4(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:n6.bind(null,r),e_:r6.bind(null,r),n_:s6.bind(null,r),J_:a6.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),ay(r)?sy(r):r.Aa.set("Unknown")):(await r.Va.stop(),CE(r))})),r.Va}function ba(r){return r.ma||(r.ma=function(t,a,o){const l=Ie(t);return l.ia(),new W4(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:l6.bind(null,r),n_:d6.bind(null,r),ea:c6.bind(null,r),ta:u6.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Xh(r)):(await r.ma.stop(),r.Pa.length>0&&(fe(vi,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const u=Date.now()+a,m=new iy(e,t,u,o,l);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(r,e){if(bs("AsyncQueue",`${e}: ${r}`),Yo(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||_e.comparator(t.key,a.key):(t,a)=>_e.comparator(t.key,a.key),this.keyedMap=vc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Io;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.fa=new mt(_e.comparator)}track(e){const t=e.doc.key,a=this.fa.get(t);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(t,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(t):e.type===1&&a.type===2?this.fa=this.fa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ae(63341,{At:e,ga:a}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,a)=>{e.push(a)}),e}}class Vo{constructor(e,t,a,o,l,u,m,p,y){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,a,o,l){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new Vo(e,t,Io.emptySet(t),u,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class m6{constructor(){this.queries=Db(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,a){const o=Ie(t),l=o.queries;o.queries=Db(),l.forEach((u,m)=>{for(const p of m.wa)p.onError(a)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Db(){return new Ti(r=>Z1(r),Fh)}async function kE(r,e){const t=Ie(r);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(a=2):(l=new f6,a=e.ba()?0:1);try{switch(a){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const m=oy(u,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&ly(t)}async function OE(r,e){const t=Ie(r),a=e.query;let o=3;const l=t.queries.get(a);if(l){const u=l.wa.indexOf(e);u>=0&&(l.wa.splice(u,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function p6(r,e){const t=Ie(r);let a=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const m of u.wa)m.Ca(o)&&(a=!0);u.ya=o}}a&&ly(t)}function g6(r,e,t){const a=Ie(r),o=a.queries.get(e);if(o)for(const l of o.wa)l.onError(t);a.queries.delete(e)}function ly(r){r.Da.forEach(e=>{e.next()})}var lg,kb;(kb=lg||(lg={})).Fa="default",kb.Cache="cache";class ME{constructor(e,t,a){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Vo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const a=t!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class y6{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=qe(),this.mutatedKeys=qe(),this.Xa=eE(e),this.eu=new Io(this.Xa)}get tu(){return this.Ha}nu(e,t){const a=t?t.ru:new jb,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,T)=>{const w=o.get(x),S=Hh(this.query,T)?T:null,R=!!w&&this.mutatedKeys.has(w.key),j=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;w&&S?w.data.isEqual(S.data)?R!==j&&(a.track({type:3,doc:S}),k=!0):this.iu(w,S)||(a.track({type:2,doc:S}),k=!0,(p&&this.Xa(S,p)>0||y&&this.Xa(S,y)<0)&&(m=!0)):!w&&S?(a.track({type:0,doc:S}),k=!0):w&&!S&&(a.track({type:1,doc:w}),k=!0,(p||y)&&(m=!0)),k&&(S?(u=u.add(S),l=j?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),a.track({type:1,doc:x})}return{eu:u,ru:a,Ds:m,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((x,T)=>function(S,R){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{At:k})}};return j(S)-j(R)}(x.type,T.type)||this.Xa(x.doc,T.doc)),this.su(a),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,u.length!==0||y?{snapshot:new Vo(this.query,e.eu,l,u,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new jb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=qe(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const t=[];return e.forEach(a=>{this.Za.has(a)||t.push(new VE(a))}),this.Za.forEach(a=>{e.has(a)||t.push(new PE(a))}),t}uu(e){this.Ha=e.qs,this.Za=qe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Vo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const cy="SyncEngine";class v6{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class x6{constructor(e){this.key=e,this.lu=!1}}class _6{constructor(e,t,a,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Ti(m=>Z1(m),Fh),this.Tu=new Map,this.Iu=new Set,this.du=new mt(_e.comparator),this.Eu=new Map,this.Au=new Jg,this.Ru={},this.Vu=new Map,this.mu=Po.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function b6(r,e,t=!0){const a=FE(r);let o;const l=a.Pu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await LE(a,e,t,!0),o}async function w6(r,e){const t=FE(r);await LE(t,e,!0,!1)}async function LE(r,e,t,a){const o=await q4(r.localStore,Dr(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let m;return a&&(m=await E6(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&NE(r.remoteStore,o),m}async function E6(r,e,t,a,o){r.gu=(T,w,S)=>async function(j,k,B,Y){let X=k.view.nu(B);X.Ds&&(X=await Sb(j.localStore,k.query,!1).then(({documents:M})=>k.view.nu(M,X)));const ie=Y&&Y.targetChanges.get(k.targetId),ue=Y&&Y.targetMismatches.get(k.targetId)!=null,ve=k.view.applyChanges(X,j.isPrimaryClient,ie,ue);return Mb(j,k.targetId,ve._u),ve.snapshot}(r,T,w,S);const l=await Sb(r.localStore,e,!0),u=new y6(e,l.qs),m=u.nu(l.documents),p=tu.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),y=u.applyChanges(m,r.isPrimaryClient,p);Mb(r,t,y._u);const x=new v6(e,t,u);return r.Pu.set(e,x),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),y.snapshot}async function T6(r,e,t){const a=Ie(r),o=a.Pu.get(e),l=a.Tu.get(o.targetId);if(l.length>1)return a.Tu.set(o.targetId,l.filter(u=>!Fh(u,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ig(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&ny(a.remoteStore,o.targetId),cg(a,o.targetId)}).catch(Ko)):(cg(a,o.targetId),await ig(a.localStore,o.targetId,!0))}async function S6(r,e){const t=Ie(r),a=t.Pu.get(e),o=t.Tu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),ny(t.remoteStore,a.targetId))}async function A6(r,e,t){const a=k6(r);try{const o=await function(u,m){const p=Ie(u),y=Qe.now(),x=m.reduce((S,R)=>S.add(R.key),qe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=ws(),j=qe();return p.Os.getEntries(S,x).next(k=>{R=k,R.forEach((B,Y)=>{Y.isValidDocument()||(j=j.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,R)).next(k=>{T=k;const B=[];for(const Y of m){const X=qD(Y,T.get(Y.key).overlayedDocument);X!=null&&B.push(new Aa(Y.key,X,G1(X.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(S,y,B,m)}).next(k=>{w=k;const B=k.applyToLocalDocumentSet(T,j);return p.documentOverlayCache.saveOverlays(S,k.batchId,B)})}).then(()=>({batchId:w.batchId,changes:nE(T)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(u,m,p){let y=u.Ru[u.currentUser.toKey()];y||(y=new mt(Pe)),y=y.insert(m,p),u.Ru[u.currentUser.toKey()]=y}(a,o.batchId,t),await ru(a,o.changes),await Xh(a.remoteStore)}catch(o){const l=oy(o,"Failed to persist write");t.reject(l)}}async function UE(r,e){const t=Ie(r);try{const a=await U4(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.Eu.get(l);u&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.lu=!0:o.modifiedDocuments.size>0?Je(u.lu,14607):o.removedDocuments.size>0&&(Je(u.lu,42227),u.lu=!1))}),await ru(t,a,e)}catch(a){await Ko(a)}}function Ob(r,e,t){const a=Ie(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Pu.forEach((l,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(u,m){const p=Ie(u);p.onlineState=m;let y=!1;p.queries.forEach((x,T)=>{for(const w of T.wa)w.va(m)&&(y=!0)}),y&&ly(p)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function N6(r,e,t){const a=Ie(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Eu.get(e),l=o&&o.key;if(l){let u=new mt(_e.comparator);u=u.insert(l,sn.newNoDocument(l,Ce.min()));const m=qe().add(l),p=new Kh(Ce.min(),new Map,new mt(Pe),u,m);await UE(a,p),a.du=a.du.remove(l),a.Eu.delete(e),uy(a)}else await ig(a.localStore,e,!1).then(()=>cg(a,e,t)).catch(Ko)}async function R6(r,e){const t=Ie(r),a=e.batch.batchId;try{const o=await L4(t.localStore,e);BE(t,a,null),zE(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await ru(t,o)}catch(o){await Ko(o)}}async function C6(r,e,t){const a=Ie(r);try{const o=await function(u,m){const p=Ie(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return p.mutationQueue.lookupMutationBatch(y,m).next(T=>(Je(T!==null,37113),x=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,x,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>p.localDocuments.getDocuments(y,x))})}(a.localStore,e);BE(a,e,t),zE(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await ru(a,o)}catch(o){await Ko(o)}}function zE(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function BE(r,e,t){const a=Ie(r);let o=a.Ru[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function cg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Tu.get(e))r.Pu.delete(a),t&&r.hu.pu(a,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(a=>{r.Au.containsKey(a)||qE(r,a)})}function qE(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(ny(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),uy(r))}function Mb(r,e,t){for(const a of t)a instanceof PE?(r.Au.addReference(a.key,e),I6(r,a)):a instanceof VE?(fe(cy,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,e),r.Au.containsKey(a.key)||qE(r,a.key)):Ae(19791,{yu:a})}function I6(r,e){const t=e.key,a=t.path.canonicalString();r.du.get(t)||r.Iu.has(a)||(fe(cy,"New document in limbo: "+t),r.Iu.add(a),uy(r))}function uy(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new _e(ct.fromString(e)),a=r.mu.next();r.Eu.set(a,new x6(t)),r.du=r.du.insert(t,a),NE(r.remoteStore,new la(Dr($g(t.path)),a,"TargetPurposeLimboResolution",zh.ue))}}async function ru(r,e,t){const a=Ie(r),o=[],l=[],u=[];a.Pu.isEmpty()||(a.Pu.forEach((m,p)=>{u.push(a.gu(p,e,t).then(y=>{var x;if((y||t)&&a.isPrimaryClient){const T=y?!y.fromCache:(x=t==null?void 0:t.targetChanges.get(p.targetId))===null||x===void 0?void 0:x.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=ey.Es(p.targetId,y);l.push(T)}}))}),await Promise.all(u),a.hu.J_(o),await async function(p,y){const x=Ie(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(y,w=>ne.forEach(w.Is,S=>x.persistence.referenceDelegate.addReference(T,w.targetId,S)).next(()=>ne.forEach(w.ds,S=>x.persistence.referenceDelegate.removeReference(T,w.targetId,S)))))}catch(T){if(!Yo(T))throw T;fe(ty,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const S=x.Fs.get(w),R=S.snapshotVersion,j=S.withLastLimboFreeSnapshotVersion(R);x.Fs=x.Fs.insert(w,j)}}}(a.localStore,l))}async function j6(r,e){const t=Ie(r);if(!t.currentUser.isEqual(e)){fe(cy,"User change. New user:",e.toKey());const a=await EE(t.localStore,e);t.currentUser=e,function(l,u){l.Vu.forEach(m=>{m.forEach(p=>{p.reject(new he(ee.CANCELLED,u))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ru(t,a.Bs)}}function D6(r,e){const t=Ie(r),a=t.Eu.get(e);if(a&&a.lu)return qe().add(a.key);{let o=qe();const l=t.Tu.get(e);if(!l)return o;for(const u of l){const m=t.Pu.get(u);o=o.unionWith(m.view.tu)}return o}}function FE(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N6.bind(null,e),e.hu.J_=p6.bind(null,e.eventManager),e.hu.pu=g6.bind(null,e.eventManager),e}function k6(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C6.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return V4(this.persistence,new O4,e.initialUser,this.serializer)}Du(e){return new wE(Zg.Vi,this.serializer)}bu(e){return new H4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class O6 extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Je(this.persistence.referenceDelegate instanceof bh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new x4(a,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new wE(a=>bh.Vi(a,t),this.serializer)}}class ug{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ob(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=j6.bind(null,this.syncEngine),await h6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m6}()}createDatastore(e){const t=Yh(e.databaseInfo.databaseId),a=function(l){return new Q4(l)}(e.databaseInfo);return function(l,u,m,p){return new Z4(l,u,m,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,l,u,m){return new t6(a,o,l,u,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Ob(this.syncEngine,t,0),function(){return Rb.C()?new Rb:new G4}())}createSyncEngine(e,t){return function(o,l,u,m,p,y,x){const T=new _6(o,l,u,m,p,y);return x&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);fe(vi,"RemoteStore shutting down."),l.Ia.add(5),await nu(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class M6{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async u=>{fe(wa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(a,u=>(fe(wa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=oy(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Np(r,e){r.asyncQueue.verifyOperationInProgress(),fe(wa,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await EE(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{ga("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ga("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function Pb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await P6(r);fe(wa,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>Ib(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>Ib(e.remoteStore,o)),r._onlineComponents=e}async function P6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(wa,"Using user provided OfflineComponentProvider");try{await Np(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ga("Error using user provided cache. Falling back to memory cache: "+t),await Np(r,new Eh)}}else fe(wa,"Using default OfflineComponentProvider"),await Np(r,new O6(void 0));return r._offlineComponents}async function GE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(wa,"Using user provided OnlineComponentProvider"),await Pb(r,r._uninitializedComponentsProvider._online)):(fe(wa,"Using default OnlineComponentProvider"),await Pb(r,new ug))),r._onlineComponents}function V6(r){return GE(r).then(e=>e.syncEngine)}async function $E(r){const e=await GE(r),t=e.eventManager;return t.onListen=b6.bind(null,e.syncEngine),t.onUnlisten=T6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S6.bind(null,e.syncEngine),t}function L6(r,e,t={}){const a=new gs;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,m,p,y){const x=new HE({next:w=>{x.Ou(),u.enqueueAndForget(()=>OE(l,T));const S=w.docs.has(m);!S&&w.fromCache?y.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&p&&p.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new ME($g(m.path),x,{includeMetadataChanges:!0,ka:!0});return kE(l,T)}(await $E(r),r.asyncQueue,e,t,a)),a.promise}function U6(r,e,t={}){const a=new gs;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,m,p,y){const x=new HE({next:w=>{x.Ou(),u.enqueueAndForget(()=>OE(l,T)),w.fromCache&&p.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new ME(m,x,{includeMetadataChanges:!0,ka:!0});return kE(l,T)}(await $E(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firestore.googleapis.com",Lb=!0;class Ub{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=Lb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Lb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y4)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ub(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new $j;switch(a.type){case"firstParty":return new Xj(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=Vb.get(t);a&&(fe("ComponentProvider","Removing Datastore"),Vb.delete(t),a.terminate())}(this),Promise.resolve()}}function z6(r,e,t,a={}){var o;r=lr(r,Wh);const l=Fo(e),u=r._getSettings(),m=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;l&&(Ow(`https://${p}`),Mw("Firestore",!0)),u.host!==YE&&u.host!==p&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},u),{host:p,ssl:l,emulatorOptions:a});if(!pa(y,m)&&(r._setSettings(y),a.mockUserToken)){let x,T;if(typeof a.mockUserToken=="string")x=a.mockUserToken,T=rn.MOCK_USER;else{x=eR(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new rn(w)}r._authCredentials=new Kj(new D1(x,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class wt{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Zc(t,wt._jsonSchema))return new wt(e,a||null,new _e(ct.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:It("string",wt._jsonSchemaVersion),referencePath:It("string")};class ma extends Ai{constructor(e,t,a){super(e,t,$g(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new _e(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Wo(r,e,...t){if(r=jt(r),O1("collection","path",e),r instanceof Wh){const a=ct.fromString(e,...t);return J_(a),new ma(r,null,a)}{if(!(r instanceof wt||r instanceof ma))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ct.fromString(e,...t));return J_(a),new ma(r.firestore,null,a)}}function fn(r,e,...t){if(r=jt(r),arguments.length===1&&(e=zg.newId()),O1("doc","path",e),r instanceof Wh){const a=ct.fromString(e,...t);return W_(a),new wt(r,null,new _e(a))}{if(!(r instanceof wt||r instanceof ma))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ct.fromString(e,...t));return W_(a),new wt(r.firestore,r instanceof ma?r.converter:null,new _e(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="AsyncQueue";class Bb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new SE(this,"async_queue_retry"),this.oc=()=>{const a=Ap();a&&fe(zb,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const t=Ap();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ap();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new gs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Yo(e))throw e;fe(zb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,bs("INTERNAL UNHANDLED ERROR: ",qb(a)),a}).then(a=>(this.nc=!1,a))));return this._c=t,t}enqueueAfterDelay(e,t,a){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=iy.createAndSchedule(this,e,t,a,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Ae(47125,{hc:qb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function qb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ni extends Wh{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new Bb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bb(e),this._firestoreClient=void 0,await e}}}function B6(r,e){const t=typeof r=="object"?r:Cg(),a=typeof r=="string"?r:gh,o=Ei(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=JN("firestore");l&&z6(o,...l)}return o}function dy(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||q6(r),r._firestoreClient}function q6(r){var e,t,a;const o=r._freezeSettings(),l=function(m,p,y,x){return new hD(m,p,y,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,KE(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new M6(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Jt.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:It("string",Qn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Zc(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:It("string",Or._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zc(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Mr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:It("string",Mr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=/^__.*__$/;class H6{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class QE{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ec:r})}}class hy{constructor(e,t,a,o,l,u){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new hy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Th(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(XE(this.Ec)&&F6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class G6{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Yh(e)}Dc(e,t,a,o=!1){return new hy({Ec:e,methodName:t,bc:a,path:Wt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(r){const e=r._freezeSettings(),t=Yh(r._databaseId);return new G6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function WE(r,e,t,a,o,l={}){const u=r.Dc(l.merge||l.mergeFields?2:0,e,t,o);my("Data must be an object, but it was:",u,a);const m=JE(a,u);let p,y;if(l.merge)p=new jn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const T of l.mergeFields){const w=dg(e,T,t);if(!u.contains(w))throw new he(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);eT(x,w)||x.push(w)}p=new jn(x),y=u.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=u.fieldTransforms;return new H6(new vn(m),p,y)}class tf extends Zh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class fy extends Zh{_toFieldTransform(e){return new LD(e.path,new qc)}isEqual(e){return e instanceof fy}}function $6(r,e,t,a){const o=r.Dc(1,e,t);my("Data must be an object, but it was:",o,a);const l=[],u=vn.empty();Sa(a,(p,y)=>{const x=py(e,p,t);y=jt(y);const T=o.gc(x);if(y instanceof tf)l.push(x);else{const w=su(y,T);w!=null&&(l.push(x),u.set(x,w))}});const m=new jn(l);return new QE(u,m,o.fieldTransforms)}function K6(r,e,t,a,o,l){const u=r.Dc(1,e,t),m=[dg(e,a,t)],p=[o];if(l.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)m.push(dg(e,l[w])),p.push(l[w+1]);const y=[],x=vn.empty();for(let w=m.length-1;w>=0;--w)if(!eT(y,m[w])){const S=m[w];let R=p[w];R=jt(R);const j=u.gc(S);if(R instanceof tf)y.push(S);else{const k=su(R,j);k!=null&&(y.push(S),x.set(S,k))}}const T=new jn(y);return new QE(x,T,u.fieldTransforms)}function Y6(r,e,t,a=!1){return su(t,r.Dc(a?4:3,e))}function su(r,e){if(ZE(r=jt(r)))return my("Unsupported field value:",e,r),JE(r,e);if(r instanceof Zh)return function(a,o){if(!XE(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const l=[];let u=0;for(const m of a){let p=su(m,o.yc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(r,e)}return function(a,o){if((a=jt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return MD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Qe.fromDate(a);return{timestampValue:_h(o.serializer,l)}}if(a instanceof Qe){const l=new Qe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:_h(o.serializer,l)}}if(a instanceof Or)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qn)return{bytesValue:mE(o.serializer,a._byteString)};if(a instanceof wt){const l=o.databaseId,u=a.firestore._databaseId;if(!u.isEqual(l))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Wg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Mr)return function(u,m){return{mapValue:{fields:{[F1]:{stringValue:H1},[yh]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return Kg(m.serializer,y)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${Uh(a)}`)}(r,e)}function JE(r,e){const t={};return V1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(r,(a,o)=>{const l=su(o,e.Vc(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function ZE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qe||r instanceof Or||r instanceof Qn||r instanceof wt||r instanceof Zh||r instanceof Mr)}function my(r,e,t){if(!ZE(t)||!M1(t)){const a=Uh(t);throw a==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+a)}}function dg(r,e,t){if((e=jt(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return py(r,e);throw Th("Field path arguments must be of type string or ",r,!1,void 0,t)}const Q6=new RegExp("[~\\*/\\[\\]]");function py(r,e,t){if(e.search(Q6)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Jh(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Th(r,e,t,a,o){const l=a&&!a.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${a}`),u&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+r+p)}function eT(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class X6 extends tT{data(){return super.data()}}function gy(r,e){return typeof e=="string"?py(r,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class nT extends yy{}function vy(r,e,...t){let a=[];e instanceof yy&&a.push(e),a=a.concat(t),function(l){const u=l.filter(p=>p instanceof _y).length,m=l.filter(p=>p instanceof xy).length;if(u>1||u>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class xy extends nT{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new xy(e,t,a)}_apply(e){const t=this._parse(e);return rT(e._query,t),new Ai(e.firestore,e.converter,eg(e._query,t))}_parse(e){const t=ef(e.firestore);return function(l,u,m,p,y,x,T){let w;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Hb(T,x);const R=[];for(const j of T)R.push(Fb(p,l,j));w={arrayValue:{values:R}}}else w=Fb(p,l,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Hb(T,x),w=Y6(m,u,T,x==="in"||x==="not-in");return Ct.create(y,x,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class _y extends yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _y(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let u=o;const m=l.getFlattenedFilters();for(const p of m)rT(u,p),u=eg(u,p)}(e._query,t),new Ai(e.firestore,e.converter,eg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class by extends nT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new by(e,t)}_apply(e){const t=function(o,l,u){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bc(l,u)}(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new Qo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function wy(r,e="asc"){const t=e,a=gy("orderBy",r);return by._create(a,t)}function Fb(r,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J1(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(ct.fromString(t));if(!_e.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ib(r,new _e(a))}if(t instanceof wt)return ib(r,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(t)}.`)}function Hb(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rT(r,e){const t=function(o,l){for(const u of o)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class J6{convertValue(e,t="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Sa(e,(o,l)=>{a[o]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,o;const l=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[yh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(u=>bt(u.doubleValue));return new Mr(l)}convertGeoPoint(e){return new Or(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=qh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){const t=va(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ct.fromString(e);Je(_E(a),9688,{name:e});const o=new Uc(a.get(1),a.get(3)),l=new _e(a.popFirst(5));return o.isEqual(t)||bs(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,e,t){let a;return a=r?r.toFirestore(e):e,a}class _c{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mi extends tT{constructor(e,t,a,o,l,u){super(e,t,a,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(gy("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=mi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",mi._jsonSchema={type:It("string",mi._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class nh extends mi{data(e={}){return super.data(e)}}class jo{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _c(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new nh(this._firestore,this._userDataWriter,a.key,a,new _c(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _c(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _c(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),x=u.indexOf(m.doc.key)),{type:Z6(m.type),doc:p,oldIndex:y,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r){r=lr(r,wt);const e=lr(r.firestore,Ni);return L6(dy(e),r._key).then(t=>ek(e,r,t))}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:It("string",jo._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class aT extends J6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function Ey(r){r=lr(r,Ai);const e=lr(r.firestore,Ni),t=dy(e),a=new aT(e);return W6(r._query),U6(t,r._query).then(o=>new jo(e,a,r,o))}function Cc(r,e,t){r=lr(r,wt);const a=lr(r.firestore,Ni),o=sT(r.converter,e);return rf(a,[WE(ef(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Wn.none())])}function nf(r,e,t,...a){r=lr(r,wt);const o=lr(r.firestore,Ni),l=ef(o);let u;return u=typeof(e=jt(e))=="string"||e instanceof Jh?K6(l,"updateDoc",r._key,e,t,a):$6(l,"updateDoc",r._key,e),rf(o,[u.toMutation(r._key,Wn.exists(!0))])}function Ty(r){return rf(lr(r.firestore,Ni),[new Yg(r._key,Wn.none())])}function Sy(r,e){const t=lr(r.firestore,Ni),a=fn(r),o=sT(r.converter,e);return rf(t,[WE(ef(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Wn.exists(!1))]).then(()=>a)}function rf(r,e){return function(a,o){const l=new gs;return a.asyncQueue.enqueueAndForget(async()=>A6(await V6(a),o,l)),l.promise}(dy(r),e)}function ek(r,e,t){const a=t.docs.get(e._key),o=new aT(r);return new mi(r,o,e._key,a,new _c(t.hasPendingWrites,t.fromCache),e.converter)}function Es(){return new fy("serverTimestamp")}(function(e,t=!0){(function(o){$o=o})(Ho),Pr(new ir("firestore",(a,{instanceIdentifier:o,options:l})=>{const u=a.getProvider("app").getImmediate(),m=new Ni(new Yj(a.getProvider("auth-internal")),new Wj(u,a.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(y.options.projectId,x)}(u,o),u);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Xn($_,K_,e),Xn($_,K_,"esm2017")})();var tk="firebase",nk="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(tk,nk,"app");const iT="@firebase/installations",Ay="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=1e4,lT=`w:${Ay}`,cT="FIS_v2",rk="https://firebaseinstallations.googleapis.com/v1",sk=60*60*1e3,ak="installations",ik="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xi=new wi(ak,ik,ok);function uT(r){return r instanceof hr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT({projectId:r}){return`${rk}/projects/${r}/installations`}function hT(r){return{token:r.token,requestStatus:2,expiresIn:ck(r.expiresIn),creationTime:Date.now()}}async function fT(r,e){const a=(await e.json()).error;return xi.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function mT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function lk(r,{refreshToken:e}){const t=mT(r);return t.append("Authorization",uk(e)),t}async function pT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function ck(r){return Number(r.replace("s","000"))}function uk(r){return`${cT} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const a=dT(r),o=mT(r),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const u={fid:t,authVersion:cT,appId:r.appId,sdkVersion:lT},m={method:"POST",headers:o,body:JSON.stringify(u)},p=await pT(()=>fetch(a,m));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:hT(y.authToken)}}else throw await fT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=/^[cdef][\w-]{21}$/,fg="";function mk(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=pk(r);return fk.test(t)?t:fg}catch{return fg}}function pk(r){return hk(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Map;function vT(r,e){const t=sf(r);xT(t,e),gk(t,e)}function xT(r,e){const t=yT.get(r);if(t)for(const a of t)a(e)}function gk(r,e){const t=yk();t&&t.postMessage({key:r,fid:e}),vk()}let fi=null;function yk(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=r=>{xT(r.data.key,r.data.fid)}),fi}function vk(){yT.size===0&&fi&&(fi.close(),fi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="firebase-installations-database",_k=1,_i="firebase-installations-store";let Rp=null;function Ny(){return Rp||(Rp=Bw(xk,_k,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(_i)}}})),Rp}async function Sh(r,e){const t=sf(r),o=(await Ny()).transaction(_i,"readwrite"),l=o.objectStore(_i),u=await l.get(t);return await l.put(e,t),await o.done,(!u||u.fid!==e.fid)&&vT(r,e.fid),e}async function _T(r){const e=sf(r),a=(await Ny()).transaction(_i,"readwrite");await a.objectStore(_i).delete(e),await a.done}async function af(r,e){const t=sf(r),o=(await Ny()).transaction(_i,"readwrite"),l=o.objectStore(_i),u=await l.get(t),m=e(u);return m===void 0?await l.delete(t):await l.put(m,t),await o.done,m&&(!u||u.fid!==m.fid)&&vT(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(r){let e;const t=await af(r.appConfig,a=>{const o=bk(a),l=wk(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===fg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function bk(r){const e=r||{fid:mk(),registrationStatus:0};return bT(e)}function wk(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(xi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=Ek(r,t);return{installationEntry:t,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Tk(r)}:{installationEntry:e}}async function Ek(r,e){try{const t=await dk(r,e);return Sh(r.appConfig,t)}catch(t){throw uT(t)&&t.customData.serverCode===409?await _T(r.appConfig):await Sh(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Tk(r){let e=await Gb(r.appConfig);for(;e.registrationStatus===1;)await gT(100),e=await Gb(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:a}=await Ry(r);return a||t}return e}function Gb(r){return af(r,e=>{if(!e)throw xi.create("installation-not-found");return bT(e)})}function bT(r){return Sk(r)?{fid:r.fid,registrationStatus:0}:r}function Sk(r){return r.registrationStatus===1&&r.registrationTime+oT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak({appConfig:r,heartbeatServiceProvider:e},t){const a=Nk(r,t),o=lk(r,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const u={installation:{sdkVersion:lT,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(u)},p=await pT(()=>fetch(a,m));if(p.ok){const y=await p.json();return hT(y)}else throw await fT("Generate Auth Token",p)}function Nk(r,{fid:e}){return`${dT(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(r,e=!1){let t;const a=await af(r.appConfig,l=>{if(!wT(l))throw xi.create("not-registered");const u=l.authToken;if(!e&&Ik(u))return l;if(u.requestStatus===1)return t=Rk(r,e),l;{if(!navigator.onLine)throw xi.create("app-offline");const m=Dk(l);return t=Ck(r,m),m}});return t?await t:a.authToken}async function Rk(r,e){let t=await $b(r.appConfig);for(;t.authToken.requestStatus===1;)await gT(100),t=await $b(r.appConfig);const a=t.authToken;return a.requestStatus===0?Cy(r,e):a}function $b(r){return af(r,e=>{if(!wT(e))throw xi.create("not-registered");const t=e.authToken;return kk(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Ck(r,e){try{const t=await Ak(r,e),a=Object.assign(Object.assign({},e),{authToken:t});return await Sh(r.appConfig,a),t}catch(t){if(uT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await _T(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sh(r.appConfig,a)}throw t}}function wT(r){return r!==void 0&&r.registrationStatus===2}function Ik(r){return r.requestStatus===2&&!jk(r)}function jk(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+sk}function Dk(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function kk(r){return r.requestStatus===1&&r.requestTime+oT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(r){const e=r,{installationEntry:t,registrationPromise:a}=await Ry(e);return a?a.catch(console.error):Cy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(r,e=!1){const t=r;return await Pk(t),(await Cy(t,e)).token}async function Pk(r){const{registrationPromise:e}=await Ry(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(r){if(!r||!r.options)throw Cp("App Configuration");if(!r.name)throw Cp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Cp(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Cp(r){return xi.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="installations",Lk="installations-internal",Uk=r=>{const e=r.getProvider("app").getImmediate(),t=Vk(e),a=Ei(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},zk=r=>{const e=r.getProvider("app").getImmediate(),t=Ei(e,ET).getImmediate();return{getId:()=>Ok(t),getToken:o=>Mk(t,o)}};function Bk(){Pr(new ir(ET,Uk,"PUBLIC")),Pr(new ir(Lk,zk,"PRIVATE"))}Bk();Xn(iT,Ay);Xn(iT,Ay,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="analytics",qk="firebase_id",Fk="origin",Hk=60*1e3,Gk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new Mh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new wi("analytics","Analytics",$k);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(r){if(!r.startsWith(Iy)){const e=Dn.create("invalid-gtag-resource",{gtagURL:r});return xn.warn(e.message),""}return r}function TT(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function Yk(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function Qk(r,e){const t=Yk("firebase-js-sdk-policy",{createScriptURL:Kk}),a=document.createElement("script"),o=`${Iy}?l=${r}&id=${e}`;a.src=t?t==null?void 0:t.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function Xk(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function Wk(r,e,t,a,o,l){const u=a[o];try{if(u)await e[u];else{const p=(await TT(t)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){xn.error(m)}r("config",o,l)}async function Jk(r,e,t,a,o){try{let l=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const m=await TT(t);for(const p of u){const y=m.find(T=>T.measurementId===p),x=y&&e[y.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",a,o||{})}catch(l){xn.error(l)}}function Zk(r,e,t,a){async function o(l,...u){try{if(l==="event"){const[m,p]=u;await Jk(r,e,t,m,p)}else if(l==="config"){const[m,p]=u;await Wk(r,e,t,a,m,p)}else if(l==="consent"){const[m,p]=u;r("consent",m,p)}else if(l==="get"){const[m,p,y]=u;r("get",m,p,y)}else if(l==="set"){const[m]=u;r("set",m)}else r(l,...u)}catch(m){xn.error(m)}}return o}function e3(r,e,t,a,o){let l=function(...u){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=Zk(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function t3(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Iy)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=30,r3=1e3;class s3{constructor(e={},t=r3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ST=new s3;function a3(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function i3(r){var e;const{appId:t,apiKey:a}=r,o={method:"GET",headers:a3(a)},l=Gk.replace("{app-id}",t),u=await fetch(l,o);if(u.status!==200&&u.status!==304){let m="";try{const p=await u.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function o3(r,e=ST,t){const{appId:a,apiKey:o,measurementId:l}=r.options;if(!a)throw Dn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:a};throw Dn.create("no-api-key")}const u=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new u3;return setTimeout(async()=>{m.abort()},Hk),AT({appId:a,apiKey:o,measurementId:l},u,m,e)}async function AT(r,{throttleEndTimeMillis:e,backoffCount:t},a,o=ST){var l;const{appId:u,measurementId:m}=r;try{await l3(a,e)}catch(p){if(m)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:m};throw p}try{const p=await i3(r);return o.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!c3(y)){if(o.deleteThrottleMetadata(u),m)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:m};throw p}const x=Number((l=y==null?void 0:y.customData)===null||l===void 0?void 0:l.httpStatus)===503?y_(t,o.intervalMillis,n3):y_(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return o.setThrottleMetadata(u,T),xn.debug(`Calling attemptFetch again in ${x} millis`),AT(r,T,a,o)}}function l3(r,e){return new Promise((t,a)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),a(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function c3(r){if(!(r instanceof hr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class u3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function d3(r,e,t,a,o){if(o&&o.global){r("event",t,a);return}else{const l=await e,u=Object.assign(Object.assign({},a),{send_to:l});r("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(){if(Vw())try{await Lw()}catch(r){return xn.warn(Dn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return xn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function f3(r,e,t,a,o,l,u){var m;const p=o3(r);p.then(S=>{t[S.measurementId]=S.appId,r.options.measurementId&&S.measurementId!==r.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>xn.error(S)),e.push(p);const y=h3().then(S=>{if(S)return a.getId()}),[x,T]=await Promise.all([p,y]);t3(l)||Qk(l,x.measurementId),o("js",new Date);const w=(m=u==null?void 0:u.config)!==null&&m!==void 0?m:{};return w[Fk]="firebase",w.update=!0,T!=null&&(w[qk]=T),o("config",x.measurementId,w),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.app=e}_delete(){return delete Ic[this.app.options.appId],Promise.resolve()}}let Ic={},Kb=[];const Yb={};let Ip="dataLayer",p3="gtag",Qb,NT,Xb=!1;function g3(){const r=[];if(Pw()&&r.push("This is a browser extension environment."),cR()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),t=Dn.create("invalid-analytics-context",{errorInfo:e});xn.warn(t.message)}}function y3(r,e,t){g3();const a=r.options.appId;if(!a)throw Dn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(Ic[a]!=null)throw Dn.create("already-exists",{id:a});if(!Xb){Xk(Ip);const{wrappedGtag:l,gtagCore:u}=e3(Ic,Kb,Yb,Ip,p3);NT=l,Qb=u,Xb=!0}return Ic[a]=f3(r,Kb,Yb,e,Qb,Ip,t),new m3(r)}function v3(r=Cg()){r=jt(r);const e=Ei(r,Ah);return e.isInitialized()?e.getImmediate():x3(r)}function x3(r,e={}){const t=Ei(r,Ah);if(t.isInitialized()){const o=t.getImmediate();if(pa(e,t.getOptions()))return o;throw Dn.create("already-initialized")}return t.initialize({options:e})}function _3(r,e,t,a){r=jt(r),d3(NT,Ic[r.app.options.appId],e,t,a).catch(o=>xn.error(o))}const Wb="@firebase/analytics",Jb="0.10.17";function b3(){Pr(new ir(Ah,(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return y3(a,o,t)},"PUBLIC")),Pr(new ir("analytics-internal",r,"PRIVATE")),Xn(Wb,Jb),Xn(Wb,Jb,"esm2017");function r(e){try{const t=e.getProvider(Ah).getImmediate();return{logEvent:(a,o,l)=>_3(t,a,o,l)}}catch(t){throw Dn.create("interop-component-reg-failed",{reason:t})}}}b3();const w3={apiKey:"AIzaSyAJ2qAejE87EqHfELbfaWqmfqWVsLs0Dls",authDomain:"younv-finance.firebaseapp.com",projectId:"younv-finance",storageBucket:"younv-finance.firebasestorage.app",messagingSenderId:"226251137770",appId:"1:226251137770:web:15a24ce8121b718b766d93",measurementId:"G-4QL6TN0H63"},jy=qw(w3),Rt=B6(jy),hc=Hj(jy);v3(jy);const RT=L.createContext(),Dy=()=>{const r=L.useContext(RT);if(!r)throw new Error("useAuth deve ser usado dentro de AuthProvider");return r},E3=({children:r})=>{const[e,t]=L.useState(null),[a,o]=L.useState(!0),l=async(T,w)=>{try{o(!0);const R=(await CI(hc,T,w)).user,j=await hg(fn(Rt,"usuarios",R.uid));let k;return j.exists()?(k={id:R.uid,email:R.email,...j.data()},await nf(fn(Rt,"usuarios",R.uid),{lastLogin:Qe.now()})):(k={id:R.uid,email:R.email,nome:R.email.split("@")[0],role:"user",clinica:"Minha Clnica"},await Cc(fn(Rt,"usuarios",R.uid),{...k,createdAt:Qe.now(),lastLogin:Qe.now()})),t(k),Te.success("Login realizado com sucesso!"),k}catch(S){console.error("Erro no login:",S);let R="Erro ao fazer login";switch(S.code){case"auth/user-not-found":R="Usurio no encontrado";break;case"auth/wrong-password":R="Senha incorreta";break;case"auth/invalid-email":R="Email invlido";break;case"auth/too-many-requests":R="Muitas tentativas. Tente novamente mais tarde";break;default:R=S.message}throw Te.error(R),new Error(R)}finally{o(!1)}},u=async(T,w,S={})=>{try{o(!0);const j=(await RI(hc,T,w)).user,k={email:j.email,nome:S.nome||T.split("@")[0],role:S.role||"user",clinica:S.clinica||"Minha Clnica",telefone:S.telefone||"",createdAt:Qe.now(),lastLogin:Qe.now()};await Cc(fn(Rt,"usuarios",j.uid),k);const B={id:j.uid,...k};return t(B),Te.success("Conta criada com sucesso!"),B}catch(R){console.error("Erro no registro:",R);let j="Erro ao criar conta";switch(R.code){case"auth/email-already-in-use":j="Este email j est em uso";break;case"auth/weak-password":j="Senha muito fraca. Use pelo menos 6 caracteres";break;case"auth/invalid-email":j="Email invlido";break;default:j=R.message}throw Te.error(j),new Error(j)}finally{o(!1)}},m=async()=>{try{await kI(hc),t(null),Te.success("Logout realizado com sucesso!")}catch(T){throw console.error("Erro no logout:",T),Te.error("Erro ao fazer logout"),T}},p=async T=>{try{await NI(hc,T),Te.success("Email de recuperao enviado!")}catch(w){console.error("Erro ao enviar email de recuperao:",w);let S="Erro ao enviar email de recuperao";switch(w.code){case"auth/user-not-found":S="Usurio no encontrado";break;case"auth/invalid-email":S="Email invlido";break;default:S=w.message}throw Te.error(S),new Error(S)}},y=async()=>{const T={id:"demo-user",email:"demo@clinica.com",nome:"Dr. Joo Silva",role:"admin",clinica:"Clnica Demo"};return t(T),Te.success("Modo demonstrao ativado!"),T};L.useEffect(()=>{const T=DI(hc,async w=>{if(w)try{const S=await hg(fn(Rt,"usuarios",w.uid));if(S.exists())t({id:w.uid,email:w.email,...S.data()});else{const R={email:w.email,nome:w.email.split("@")[0],role:"user",clinica:"Minha Clnica",createdAt:Qe.now(),lastLogin:Qe.now()};await Cc(fn(Rt,"usuarios",w.uid),R),t({id:w.uid,...R})}}catch(S){console.error("Erro ao carregar dados do usurio:",S),t(null)}else t(null);o(!1)});return()=>T()},[]);const x={user:e,loading:a,login:l,register:u,logout:m,resetPassword:p,loginDemo:y};return h.jsx(RT.Provider,{value:x,children:r})},T3=({children:r})=>{const{currentUser:e,loading:t}=Dy();return Lr(),t?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})}):r};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A3=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),Zb=r=>{const e=A3(r);return e.charAt(0).toUpperCase()+e.slice(1)},CT=(...r)=>r.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim(),N3=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:u,...m},p)=>L.createElement("svg",{ref:p,...R3,width:e,height:e,stroke:r,strokeWidth:a?Number(t)*24/Number(e):t,className:CT("lucide",o),...!l&&!N3(m)&&{"aria-hidden":"true"},...m},[...u.map(([y,x])=>L.createElement(y,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(r,e)=>{const t=L.forwardRef(({className:a,...o},l)=>L.createElement(C3,{ref:l,iconNode:e,className:CT(`lucide-${S3(Zb(r))}`,`lucide-${r}`,a),...o}));return t.displayName=Zb(r),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nh=Re("activity",I3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],D3=Re("archive",j3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],bc=Re("arrow-down-right",k3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ca=Re("arrow-up-right",O3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],P3=Re("bell",M3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],L3=Re("building",V3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],jc=Re("calculator",U3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mg=Re("calendar",z3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Lo=Re("chart-column",B3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],IT=Re("chart-pie",q3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jT=Re("circle-alert",F3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Uo=Re("circle-check-big",H3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Do=Re("clock",G3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ky=Re("credit-card",$3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ua=Re("dollar-sign",K3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],oa=Re("download",Y3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ew=Re("eye-off",Q3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rh=Re("eye",X3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],J3=Re("file-check",W3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],eO=Re("file-spreadsheet",Z3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Oy=Re("file-text",tO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rO=Re("funnel",nO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aO=Re("info",sO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jp=Re("lock",iO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],lO=Re("log-out",oO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rh=Re("mail",cO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],tw=Re("menu",uO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hO=Re("phone",dO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ch=Re("plus",fO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],pO=Re("printer",mO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],yO=Re("scale",gO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],DT=Re("search",vO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pg=Re("settings",xO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bO=Re("share-2",_O);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],EO=Re("shield",wO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],My=Re("square-pen",TO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],AO=Re("stethoscope",SO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],RO=Re("tag",NO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Py=Re("target",CO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Dc=Re("trash-2",IO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],of=Re("trending-up",jO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bd=Re("triangle-alert",DO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],OO=Re("upload",kO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ih=Re("user",MO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],VO=Re("users",PO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],UO=Re("zap",LO),zO=()=>{const{user:r,login:e,register:t,resetPassword:a,loginDemo:o,loading:l}=Dy(),[u,m]=L.useState("login"),[p,y]=L.useState(!1),[x,T]=L.useState(!1),[w,S]=L.useState({email:"",password:"",confirmPassword:"",nome:"",clinica:"",telefone:""});if(r)return h.jsx(Pp,{to:"/dashboard",replace:!0});const R=X=>{S({...w,[X.target.name]:X.target.value})},j=async X=>{if(X.preventDefault(),!w.email||!w.password){Te.error("Preencha email e senha");return}try{T(!0),await e(w.email,w.password)}catch{}finally{T(!1)}},k=async X=>{if(X.preventDefault(),!w.email||!w.password||!w.nome){Te.error("Preencha todos os campos obrigatrios");return}if(w.password!==w.confirmPassword){Te.error("Senhas no coincidem");return}if(w.password.length<6){Te.error("Senha deve ter pelo menos 6 caracteres");return}try{T(!0),await t(w.email,w.password,{nome:w.nome,clinica:w.clinica||"Minha Clnica",telefone:w.telefone,role:"admin"})}catch{}finally{T(!1)}},B=async X=>{if(X.preventDefault(),!w.email){Te.error("Digite seu email");return}try{T(!0),await a(w.email),m("login"),S({...w,password:"",confirmPassword:""})}catch{}finally{T(!1)}},Y=async()=>{try{T(!0),await o()}catch{Te.error("Erro no login de demonstrao")}finally{T(!1)}};return l?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Clnica Finance"}),h.jsxs("p",{className:"text-gray-600",children:[u==="login"&&"Faa login em sua conta",u==="register"&&"Crie sua conta",u==="reset"&&"Recuperar senha"]})]}),u==="login"&&h.jsxs("form",{onSubmit:j,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(rh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"email",name:"email",value:w.email,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),h.jsxs("div",{className:"relative",children:[h.jsx(jp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:p?"text":"password",name:"password",value:w.password,onChange:R,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Sua senha",required:!0}),h.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?h.jsx(ew,{className:"h-5 w-5"}):h.jsx(Rh,{className:"h-5 w-5"})})]})]}),h.jsx("div",{className:"flex items-center justify-between",children:h.jsx("button",{type:"button",onClick:()=>m("reset"),className:"text-sm text-blue-600 hover:text-blue-500",children:"Esqueceu a senha?"})}),h.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?"Entrando...":"Entrar"})]}),u==="register"&&h.jsxs("form",{onSubmit:k,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),h.jsxs("div",{className:"relative",children:[h.jsx(Ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"text",name:"nome",value:w.nome,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dr. Joo Silva",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),h.jsxs("div",{className:"relative",children:[h.jsx(rh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"email",name:"email",value:w.email,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Clnica"}),h.jsxs("div",{className:"relative",children:[h.jsx(L3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"text",name:"clinica",value:w.clinica,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Clnica Exemplo"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),h.jsxs("div",{className:"relative",children:[h.jsx(hO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"tel",name:"telefone",value:w.telefone,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),h.jsxs("div",{className:"relative",children:[h.jsx(jp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:p?"text":"password",name:"password",value:w.password,onChange:R,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mnimo 6 caracteres",required:!0}),h.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?h.jsx(ew,{className:"h-5 w-5"}):h.jsx(Rh,{className:"h-5 w-5"})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),h.jsxs("div",{className:"relative",children:[h.jsx(jp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:p?"text":"password",name:"confirmPassword",value:w.confirmPassword,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirme sua senha",required:!0})]})]}),h.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?"Criando conta...":"Criar Conta"})]}),u==="reset"&&h.jsxs("form",{onSubmit:B,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(rh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"email",name:"email",value:w.email,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]})]}),h.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?"Enviando...":"Enviar Email de Recuperao"})]}),h.jsxs("div",{className:"mt-6 space-y-4",children:[u==="login"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:()=>m("register"),className:"text-sm text-blue-600 hover:text-blue-500",children:"No tem conta? Criar conta"})}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou"})})]}),h.jsx("button",{onClick:Y,disabled:x,className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Entrar com Demonstrao"})]}),u==="register"&&h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:()=>m("login"),className:"text-sm text-blue-600 hover:text-blue-500",children:"J tem conta? Fazer login"})}),u==="reset"&&h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:()=>m("login"),className:"text-sm text-blue-600 hover:text-blue-500",children:"Voltar ao login"})})]})]}),h.jsxs("div",{className:"text-center text-sm text-gray-500",children:[h.jsx("p",{children:"Sistema de Gesto Financeira para Clnicas Mdicas"}),h.jsx("p",{className:"mt-1",children:"Verso 2.0 - Powered by Firebase"})]})]})})};function nw(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function BO(...r){return e=>{let t=!1;const a=r.map(o=>{const l=nw(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<a.length;o++){const l=a[o];typeof l=="function"?l():nw(r[o],null)}}}}function qO(r){const e=HO(r),t=L.forwardRef((a,o)=>{const{children:l,...u}=a,m=L.Children.toArray(l),p=m.find($O);if(p){const y=p.props.children,x=m.map(T=>T===p?L.Children.count(y)>1?L.Children.only(null):L.isValidElement(y)?y.props.children:null:T);return h.jsx(e,{...u,ref:o,children:L.isValidElement(y)?L.cloneElement(y,void 0,x):null})}return h.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}var FO=qO("Slot");function HO(r){const e=L.forwardRef((t,a)=>{const{children:o,...l}=t;if(L.isValidElement(o)){const u=YO(o),m=KO(l,o.props);return o.type!==L.Fragment&&(m.ref=a?BO(a,u):u),L.cloneElement(o,m)}return L.Children.count(o)>1?L.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var GO=Symbol("radix.slottable");function $O(r){return L.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===GO}function KO(r,e){const t={...e};for(const a in e){const o=r[a],l=e[a];/^on[A-Z]/.test(a)?o&&l?t[a]=(...m)=>{const p=l(...m);return o(...m),p}:o&&(t[a]=o):a==="style"?t[a]={...o,...l}:a==="className"&&(t[a]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function YO(r){var a,o;let e=(a=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function kT(r){var e,t,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=kT(r[e]))&&(a&&(a+=" "),a+=t)}else for(t in r)r[t]&&(a&&(a+=" "),a+=t);return a}function OT(){for(var r,e,t=0,a="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=kT(r))&&(a&&(a+=" "),a+=e);return a}const rw=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,sw=OT,QO=(r,e)=>t=>{var a;if((e==null?void 0:e.variants)==null)return sw(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(y=>{const x=t==null?void 0:t[y],T=l==null?void 0:l[y];if(x===null)return null;const w=rw(x)||rw(T);return o[y][w]}),m=t&&Object.entries(t).reduce((y,x)=>{let[T,w]=x;return w===void 0||(y[T]=w),y},{}),p=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((y,x)=>{let{class:T,className:w,...S}=x;return Object.entries(S).every(R=>{let[j,k]=R;return Array.isArray(k)?k.includes({...l,...m}[j]):{...l,...m}[j]===k})?[...y,T,w]:y},[]);return sw(r,u,p,t==null?void 0:t.class,t==null?void 0:t.className)},Vy="-",XO=r=>{const e=JO(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:a}=r;return{getClassGroupId:u=>{const m=u.split(Vy);return m[0]===""&&m.length!==1&&m.shift(),MT(m,e)||WO(u)},getConflictingClassGroupIds:(u,m)=>{const p=t[u]||[];return m&&a[u]?[...p,...a[u]]:p}}},MT=(r,e)=>{var u;if(r.length===0)return e.classGroupId;const t=r[0],a=e.nextPart.get(t),o=a?MT(r.slice(1),a):void 0;if(o)return o;if(e.validators.length===0)return;const l=r.join(Vy);return(u=e.validators.find(({validator:m})=>m(l)))==null?void 0:u.classGroupId},aw=/^\[(.+)\]$/,WO=r=>{if(aw.test(r)){const e=aw.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},JO=r=>{const{theme:e,classGroups:t}=r,a={nextPart:new Map,validators:[]};for(const o in t)gg(t[o],a,o,e);return a},gg=(r,e,t,a)=>{r.forEach(o=>{if(typeof o=="string"){const l=o===""?e:iw(e,o);l.classGroupId=t;return}if(typeof o=="function"){if(ZO(o)){gg(o(a),e,t,a);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([l,u])=>{gg(u,iw(e,l),t,a)})})},iw=(r,e)=>{let t=r;return e.split(Vy).forEach(a=>{t.nextPart.has(a)||t.nextPart.set(a,{nextPart:new Map,validators:[]}),t=t.nextPart.get(a)}),t},ZO=r=>r.isThemeGetter,eM=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,a=new Map;const o=(l,u)=>{t.set(l,u),e++,e>r&&(e=0,a=t,t=new Map)};return{get(l){let u=t.get(l);if(u!==void 0)return u;if((u=a.get(l))!==void 0)return o(l,u),u},set(l,u){t.has(l)?t.set(l,u):o(l,u)}}},yg="!",vg=":",tM=vg.length,nM=r=>{const{prefix:e,experimentalParseClassName:t}=r;let a=o=>{const l=[];let u=0,m=0,p=0,y;for(let R=0;R<o.length;R++){let j=o[R];if(u===0&&m===0){if(j===vg){l.push(o.slice(p,R)),p=R+tM;continue}if(j==="/"){y=R;continue}}j==="["?u++:j==="]"?u--:j==="("?m++:j===")"&&m--}const x=l.length===0?o:o.substring(p),T=rM(x),w=T!==x,S=y&&y>p?y-p:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:S}};if(e){const o=e+vg,l=a;a=u=>u.startsWith(o)?l(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=a;a=l=>t({className:l,parseClassName:o})}return a},rM=r=>r.endsWith(yg)?r.substring(0,r.length-1):r.startsWith(yg)?r.substring(1):r,sM=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let l=[];return a.forEach(u=>{u[0]==="["||e[u]?(o.push(...l.sort(),u),l=[]):l.push(u)}),o.push(...l.sort()),o}},aM=r=>({cache:eM(r.cacheSize),parseClassName:nM(r),sortModifiers:sM(r),...XO(r)}),iM=/\s+/,oM=(r,e)=>{const{parseClassName:t,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],m=r.trim().split(iM);let p="";for(let y=m.length-1;y>=0;y-=1){const x=m[y],{isExternal:T,modifiers:w,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:j}=t(x);if(T){p=x+(p.length>0?" "+p:p);continue}let k=!!j,B=a(k?R.substring(0,j):R);if(!B){if(!k){p=x+(p.length>0?" "+p:p);continue}if(B=a(R),!B){p=x+(p.length>0?" "+p:p);continue}k=!1}const Y=l(w).join(":"),X=S?Y+yg:Y,ie=X+B;if(u.includes(ie))continue;u.push(ie);const ue=o(B,k);for(let ve=0;ve<ue.length;++ve){const M=ue[ve];u.push(X+M)}p=x+(p.length>0?" "+p:p)}return p};function lM(){let r=0,e,t,a="";for(;r<arguments.length;)(e=arguments[r++])&&(t=PT(e))&&(a&&(a+=" "),a+=t);return a}const PT=r=>{if(typeof r=="string")return r;let e,t="";for(let a=0;a<r.length;a++)r[a]&&(e=PT(r[a]))&&(t&&(t+=" "),t+=e);return t};function cM(r,...e){let t,a,o,l=u;function u(p){const y=e.reduce((x,T)=>T(x),r());return t=aM(y),a=t.cache.get,o=t.cache.set,l=m,m(p)}function m(p){const y=a(p);if(y)return y;const x=oM(p,t);return o(p,x),x}return function(){return l(lM.apply(null,arguments))}}const Vt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},VT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,LT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uM=/^\d+\/\d+$/,dM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bo=r=>uM.test(r),Me=r=>!!r&&!Number.isNaN(Number(r)),ta=r=>!!r&&Number.isInteger(Number(r)),Dp=r=>r.endsWith("%")&&Me(r.slice(0,-1)),ds=r=>dM.test(r),gM=()=>!0,yM=r=>hM.test(r)&&!fM.test(r),UT=()=>!1,vM=r=>mM.test(r),xM=r=>pM.test(r),_M=r=>!ge(r)&&!ye(r),bM=r=>Jo(r,qT,UT),ge=r=>VT.test(r),ci=r=>Jo(r,FT,yM),kp=r=>Jo(r,AM,Me),ow=r=>Jo(r,zT,UT),wM=r=>Jo(r,BT,xM),qd=r=>Jo(r,HT,vM),ye=r=>LT.test(r),fc=r=>Zo(r,FT),EM=r=>Zo(r,NM),lw=r=>Zo(r,zT),TM=r=>Zo(r,qT),SM=r=>Zo(r,BT),Fd=r=>Zo(r,HT,!0),Jo=(r,e,t)=>{const a=VT.exec(r);return a?a[1]?e(a[1]):t(a[2]):!1},Zo=(r,e,t=!1)=>{const a=LT.exec(r);return a?a[1]?e(a[1]):t:!1},zT=r=>r==="position"||r==="percentage",BT=r=>r==="image"||r==="url",qT=r=>r==="length"||r==="size"||r==="bg-size",FT=r=>r==="length",AM=r=>r==="number",NM=r=>r==="family-name",HT=r=>r==="shadow",RM=()=>{const r=Vt("color"),e=Vt("font"),t=Vt("text"),a=Vt("font-weight"),o=Vt("tracking"),l=Vt("leading"),u=Vt("breakpoint"),m=Vt("container"),p=Vt("spacing"),y=Vt("radius"),x=Vt("shadow"),T=Vt("inset-shadow"),w=Vt("text-shadow"),S=Vt("drop-shadow"),R=Vt("blur"),j=Vt("perspective"),k=Vt("aspect"),B=Vt("ease"),Y=Vt("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ue=()=>[...ie(),ye,ge],ve=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],E=()=>[ye,ge,p],I=()=>[bo,"full","auto",...E()],P=()=>[ta,"none","subgrid",ye,ge],z=()=>["auto",{span:["full",ta,ye,ge]},ta,ye,ge],C=()=>[ta,"auto",ye,ge],D=()=>["auto","min","max","fr",ye,ge],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...E()],oe=()=>[bo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],se=()=>[r,ye,ge],Fe=()=>[...ie(),lw,ow,{position:[ye,ge]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",TM,bM,{size:[ye,ge]}],ce=()=>[Dp,fc,ci],ae=()=>["","none","full",y,ye,ge],me=()=>["",Me,fc,ci],je=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Le=()=>[Me,Dp,lw,ow],Ze=()=>["","none",R,ye,ge],on=()=>["none",Me,ye,ge],_n=()=>["none",Me,ye,ge],bn=()=>[Me,ye,ge],kn=()=>[bo,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ds],breakpoint:[ds],color:[gM],container:[ds],"drop-shadow":[ds],ease:["in","out","in-out"],font:[_M],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ds],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ds],shadow:[ds],spacing:["px",Me],text:[ds],"text-shadow":[ds],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bo,ge,ye,k]}],container:["container"],columns:[{columns:[Me,ge,ye,m]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ue()}],overflow:[{overflow:ve()}],"overflow-x":[{"overflow-x":ve()}],"overflow-y":[{"overflow-y":ve()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[ta,"auto",ye,ge]}],basis:[{basis:[bo,"full","auto",m,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,bo,"auto","initial","none",ge]}],grow:[{grow:["",Me,ye,ge]}],shrink:[{shrink:["",Me,ye,ge]}],order:[{order:[ta,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:oe()}],w:[{w:[m,"screen",...oe()]}],"min-w":[{"min-w":[m,"screen","none",...oe()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[u]},...oe()]}],h:[{h:["screen","lh",...oe()]}],"min-h":[{"min-h":["screen","lh","none",...oe()]}],"max-h":[{"max-h":["screen","lh",...oe()]}],"font-size":[{text:["base",t,fc,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ye,kp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dp,ge]}],"font-family":[{font:[EM,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ye,ge]}],"line-clamp":[{"line-clamp":[Me,"none",ye,kp]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",ye,ci]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[Me,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Fe()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ta,ye,ge],radial:["",ye,ge],conic:[ta,ye,ge]},SM,wM]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:ce()}],"gradient-via-pos":[{via:ce()}],"gradient-to-pos":[{to:ce()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,ye,ge]}],"outline-w":[{outline:["",Me,fc,ci]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",x,Fd,qd]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",T,Fd,qd]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[Me,ci]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",w,Fd,qd]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[Me,ye,ge]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":Le()}],"mask-image-linear-to-pos":[{"mask-linear-to":Le()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":Le()}],"mask-image-t-to-pos":[{"mask-t-to":Le()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":Le()}],"mask-image-r-to-pos":[{"mask-r-to":Le()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":Le()}],"mask-image-b-to-pos":[{"mask-b-to":Le()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":Le()}],"mask-image-l-to-pos":[{"mask-l-to":Le()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":Le()}],"mask-image-x-to-pos":[{"mask-x-to":Le()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":Le()}],"mask-image-y-to-pos":[{"mask-y-to":Le()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":Le()}],"mask-image-radial-to-pos":[{"mask-radial-to":Le()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ie()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":Le()}],"mask-image-conic-to-pos":[{"mask-conic-to":Le()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Fe()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:Ze()}],brightness:[{brightness:[Me,ye,ge]}],contrast:[{contrast:[Me,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",S,Fd,qd]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",Me,ye,ge]}],"hue-rotate":[{"hue-rotate":[Me,ye,ge]}],invert:[{invert:["",Me,ye,ge]}],saturate:[{saturate:[Me,ye,ge]}],sepia:[{sepia:["",Me,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":Ze()}],"backdrop-brightness":[{"backdrop-brightness":[Me,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Me,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",Me,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Me,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Me,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",ye,ge]}],ease:[{ease:["linear","initial",B,ye,ge]}],delay:[{delay:[Me,ye,ge]}],animate:[{animate:["none",Y,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ye,ge]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:on()}],"rotate-x":[{"rotate-x":on()}],"rotate-y":[{"rotate-y":on()}],"rotate-z":[{"rotate-z":on()}],scale:[{scale:_n()}],"scale-x":[{"scale-x":_n()}],"scale-y":[{"scale-y":_n()}],"scale-z":[{"scale-z":_n()}],"scale-3d":["scale-3d"],skew:[{skew:bn()}],"skew-x":[{"skew-x":bn()}],"skew-y":[{"skew-y":bn()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:kn()}],"translate-x":[{"translate-x":kn()}],"translate-y":[{"translate-y":kn()}],"translate-z":[{"translate-z":kn()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[Me,fc,ci,kp]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CM=cM(RM);function IM(...r){return CM(OT(r))}const jM=QO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function mc({className:r,variant:e,size:t,asChild:a=!1,...o}){const l=a?FO:"button";return h.jsx(l,{"data-slot":"button",className:IM(jM({variant:e,size:t,className:r})),...o})}const DM=()=>{const[r,e]=L.useState(!0),{currentUser:t,userProfile:a,logout:o}=Dy(),l=Eg(),u=Lr(),m=[{id:"dashboard",label:"Dashboard",icon:Lo,path:"/dashboard"},{id:"receitas",label:"Receitas",icon:ua,path:"/receitas"},{id:"despesas",label:"Despesas",icon:ky,path:"/despesas"},{id:"fluxo",label:"Fluxo de Caixa",icon:of,path:"/fluxo-caixa"},{id:"relatorios",label:"Relatrios",icon:Oy,path:"/relatorios"},{id:"fiscal",label:"Fiscal",icon:yO,path:"/fiscal"},{id:"configuracoes",label:"Configuraes",icon:pg,path:"/configuracoes"}],p=async()=>{try{await o(),Te.success("Logout realizado com sucesso!"),l("/login")}catch{Te.error("Erro ao fazer logout")}},y=x=>u.pathname===x;return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:h.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Clnica Finance"})}),h.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:m.map(x=>{const T=x.icon,w=y(x.path);return h.jsxs("button",{onClick:()=>l(x.path),className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors duration-200 ${w?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[h.jsx(T,{className:"w-5 h-5 mr-3"}),h.jsx("span",{className:"font-medium",children:x.label})]},x.id)})}),h.jsxs("div",{className:"p-4 border-t border-gray-200",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(Ih,{className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(a==null?void 0:a.name)||"Usurio"}),h.jsx("p",{className:"text-xs text-gray-500 truncate",children:(a==null?void 0:a.role)||"Supervisor"})]})]}),h.jsxs(mc,{variant:"ghost",size:"sm",onClick:p,className:"w-full justify-start text-gray-600 hover:text-red-600",children:[h.jsx(lO,{className:"w-4 h-4 mr-2"}),"Sair"]})]})]})}),h.jsxs("div",{className:`transition-all duration-300 ease-in-out ${r?"lg:ml-64":"lg:ml-0"}`,children:[h.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(mc,{variant:"ghost",size:"sm",onClick:()=>e(!r),className:"lg:hidden",children:h.jsx(tw,{className:"w-5 h-5"})}),h.jsx(mc,{variant:"ghost",size:"sm",onClick:()=>e(!r),className:"hidden lg:flex",children:h.jsx(tw,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(mc,{variant:"ghost",size:"sm",children:h.jsx(P3,{className:"w-5 h-5"})}),h.jsx(mc,{variant:"ghost",size:"sm",children:h.jsx(pg,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:(a==null?void 0:a.name)||"Usurio"}),h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(Ih,{className:"w-4 h-4 text-blue-600"})})]})]})]})}),h.jsx("main",{className:"p-6",children:h.jsx(vA,{})})]}),r&&h.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>e(!1)})]})},kM=()=>{const r=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S),e=S=>new Date(S).toLocaleDateString("pt-BR"),t={receitas:[{id:"1",data:"2025-01-10",descricao:"Consulta Cardiologia",categoria:"consulta",profissional:"Dr. Joo Silva",valor:180,status:"recebido"},{id:"2",data:"2025-01-10",descricao:"Ecocardiograma",categoria:"procedimento",profissional:"Dr. Joo Silva",valor:350,status:"pendente"},{id:"3",data:"2025-01-09",descricao:"Consulta Unimed",categoria:"convenio",profissional:"Dr. Maria Santos",valor:120,status:"atrasado"},{id:"4",data:"2025-01-09",descricao:"Holter 24h",categoria:"procedimento",profissional:"Dr. Joo Silva",valor:280,status:"recebido"},{id:"5",data:"2025-01-08",descricao:"Telemedicina",categoria:"telemedicina",profissional:"Dr. Maria Santos",valor:80,status:"recebido"}],despesas:[{id:"1",vencimento:"2025-01-15",descricao:"Aluguel Clnica",categoria:"administrativa",tipo:"fixa",valor:3500,status:"pendente",recorrente:!0},{id:"2",vencimento:"2025-01-12",descricao:"Material Cirrgico",categoria:"clinica",tipo:"variavel",valor:850,status:"atrasado",recorrente:!1},{id:"3",vencimento:"2025-01-20",descricao:"Energia Eltrica",categoria:"utilidades",tipo:"fixa",valor:450,status:"pendente",recorrente:!0},{id:"4",vencimento:"2025-01-10",descricao:"Marketing Digital",categoria:"marketing",tipo:"variavel",valor:600,status:"pago",recorrente:!1},{id:"5",vencimento:"2025-01-25",descricao:"Internet/Telefone",categoria:"utilidades",tipo:"fixa",valor:120,status:"pendente",recorrente:!0}]},a=()=>{const S=t.receitas.reduce((X,ie)=>X+ie.valor,0),R=t.despesas.reduce((X,ie)=>X+ie.valor,0),j=S-R,k=t.receitas.filter(X=>X.status==="recebido").reduce((X,ie)=>X+ie.valor,0),B=t.despesas.filter(X=>X.status==="pago").reduce((X,ie)=>X+ie.valor,0),Y=k-B;return{receitas:{valor:S,variacao:12.5},despesas:{valor:R,variacao:8.2},lucro:{valor:j,variacao:j>0?18.9:-5.2},fluxoCaixa:{valor:Y,variacao:5.1}}},o=()=>{const S={};t.receitas.forEach(j=>{S[j.categoria]||(S[j.categoria]=0),S[j.categoria]+=j.valor});const R=t.receitas.reduce((j,k)=>j+k.valor,0);return Object.entries(S).map(([j,k])=>({categoria:j.charAt(0).toUpperCase()+j.slice(1),valor:k,percentual:(k/R*100).toFixed(1)}))},l=()=>{const S={};t.despesas.forEach(j=>{S[j.categoria]||(S[j.categoria]=0),S[j.categoria]+=j.valor});const R=t.despesas.reduce((j,k)=>j+k.valor,0);return Object.entries(S).map(([j,k])=>({categoria:j.charAt(0).toUpperCase()+j.slice(1),valor:k,percentual:(k/R*100).toFixed(1)}))},u=()=>{const S=new Date,R=new Date;return R.setDate(S.getDate()+7),t.despesas.filter(j=>{const k=new Date(j.vencimento);return k>=S&&k<=R&&j.status!=="pago"}).sort((j,k)=>new Date(j.vencimento)-new Date(k.vencimento)).slice(0,5)},m=()=>{const S=[],R=t.despesas.filter(k=>k.status==="atrasado");R.length>0&&S.push({tipo:"erro",titulo:`${R.length} conta${R.length>1?"s":""} em atraso`,descricao:"Verificar pagamentos pendentes",valor:R.reduce((k,B)=>k+B.valor,0)});const j=t.receitas.filter(k=>k.status==="pendente"||k.status==="atrasado");return j.length>0&&S.push({tipo:"aviso",titulo:"Recebimentos pendentes",descricao:`${j.length} receita${j.length>1?"s":""} aguardando`,valor:j.reduce((k,B)=>k+B.valor,0)}),S},p=a(),y=o(),x=l(),T=u(),w=m();return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),h.jsx("p",{className:"text-gray-600",children:"Viso geral da sua clnica"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{children:"Janeiro 2025"}),h.jsx("option",{children:"Dezembro 2024"}),h.jsx("option",{children:"Novembro 2024"})]}),h.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Gerar Relatrio"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Receita do Ms"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(p.receitas.valor)}),h.jsxs("div",{className:"flex items-center mt-2",children:[h.jsx(ca,{className:"w-4 h-4 text-green-500 mr-1"}),h.jsxs("span",{className:"text-sm text-green-600",children:["+",p.receitas.variacao,"%"]})]})]}),h.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:h.jsx(ua,{className:"w-6 h-6 text-green-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Despesa do Ms"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(p.despesas.valor)}),h.jsxs("div",{className:"flex items-center mt-2",children:[h.jsx(ca,{className:"w-4 h-4 text-red-500 mr-1"}),h.jsxs("span",{className:"text-sm text-red-600",children:["+",p.despesas.variacao,"%"]})]})]}),h.jsx("div",{className:"p-3 bg-red-50 rounded-full",children:h.jsx(ky,{className:"w-6 h-6 text-red-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Lucro do Ms"}),h.jsx("p",{className:`text-2xl font-bold ${p.lucro.valor>=0?"text-green-600":"text-red-600"}`,children:r(p.lucro.valor)}),h.jsxs("div",{className:"flex items-center mt-2",children:[p.lucro.valor>=0?h.jsx(ca,{className:"w-4 h-4 text-green-500 mr-1"}):h.jsx(bc,{className:"w-4 h-4 text-red-500 mr-1"}),h.jsxs("span",{className:`text-sm ${p.lucro.valor>=0?"text-green-600":"text-red-600"}`,children:[p.lucro.valor>=0?"+":"",p.lucro.variacao,"%"]})]})]}),h.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:h.jsx(of,{className:"w-6 h-6 text-blue-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Fluxo de Caixa"}),h.jsx("p",{className:`text-2xl font-bold ${p.fluxoCaixa.valor>=0?"text-green-600":"text-red-600"}`,children:r(p.fluxoCaixa.valor)}),h.jsxs("div",{className:"flex items-center mt-2",children:[h.jsx(ca,{className:"w-4 h-4 text-green-500 mr-1"}),h.jsxs("span",{className:"text-sm text-green-600",children:["+",p.fluxoCaixa.variacao,"%"]})]})]}),h.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:h.jsx(Nh,{className:"w-6 h-6 text-purple-600"})})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Receitas por Categoria"}),h.jsx(IT,{className:"w-5 h-5 text-gray-400"})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Distribuio das receitas por tipo de servio"}),h.jsx("div",{className:"space-y-3",children:y.map((S,R)=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${R===0?"bg-blue-500":R===1?"bg-green-500":R===2?"bg-yellow-500":"bg-purple-500"}`}),h.jsx("span",{className:"text-sm text-gray-700",children:S.categoria})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:r(S.valor)}),h.jsxs("p",{className:"text-xs text-gray-500",children:[S.percentual,"%"]})]})]},R))})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Despesas por Categoria"}),h.jsx(Lo,{className:"w-5 h-5 text-gray-400"})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Distribuio dos gastos por categoria"}),h.jsx("div",{className:"space-y-3",children:x.map((S,R)=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${R===0?"bg-red-500":R===1?"bg-orange-500":R===2?"bg-pink-500":"bg-indigo-500"}`}),h.jsx("span",{className:"text-sm text-gray-700",children:S.categoria})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:r(S.valor)}),h.jsxs("p",{className:"text-xs text-gray-500",children:[S.percentual,"%"]})]})]},R))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alertas e Pendncias"}),h.jsxs("div",{className:"space-y-4",children:[w.map((S,R)=>h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:`p-2 rounded-full ${S.tipo==="erro"?"bg-red-50":"bg-yellow-50"}`,children:S.tipo==="erro"?h.jsx(jT,{className:"w-4 h-4 text-red-600"}):h.jsx(Do,{className:"w-4 h-4 text-yellow-600"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.titulo}),h.jsx("p",{className:"text-sm text-gray-600",children:S.descricao}),S.valor&&h.jsx("p",{className:`text-sm font-medium ${S.tipo==="erro"?"text-red-600":"text-yellow-600"}`,children:r(S.valor)})]})]},R)),w.length===0&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-green-50 rounded-full",children:h.jsx(Uo,{className:"w-4 h-4 text-green-600"})}),h.jsx("p",{className:"text-sm text-gray-600",children:"Nenhum alerta no momento"})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Prximos Vencimentos"}),h.jsxs("div",{className:"space-y-4",children:[T.map(S=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-lg font-bold text-gray-900",children:new Date(S.vencimento).getDate()}),h.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.vencimento).toLocaleDateString("pt-BR",{month:"short"})})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.descricao}),h.jsx("p",{className:"text-xs text-gray-500",children:e(S.vencimento)})]})]}),h.jsx("p",{className:"text-sm font-medium text-gray-900",children:r(S.valor)})]},S.id)),T.length===0&&h.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum vencimento nos prximos 7 dias"})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumo Financeiro do Perodo"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Total de Receitas"}),h.jsx("p",{className:"text-xl font-bold text-green-600",children:r(p.receitas.valor)})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Total de Despesas"}),h.jsx("p",{className:"text-xl font-bold text-red-600",children:r(p.despesas.valor)})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Lucro Lquido"}),h.jsx("p",{className:`text-xl font-bold ${p.lucro.valor>=0?"text-green-600":"text-red-600"}`,children:r(p.lucro.valor)})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Margem de Lucro"}),h.jsxs("p",{className:`text-xl font-bold ${p.lucro.valor>=0?"text-green-600":"text-red-600"}`,children:[p.receitas.valor>0?(p.lucro.valor/p.receitas.valor*100).toFixed(1):0,"%"]})]})]})]})]})},Ly=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Uy=r=>(r.createdAt&&r.createdAt.toDate&&(r.createdAt=r.createdAt.toDate().toISOString()),r.updatedAt&&r.updatedAt.toDate&&(r.updatedAt=r.updatedAt.toDate().toISOString()),r),OM=async()=>{try{const r=vy(Wo(Rt,"receitas"),wy("data","desc")),e=await Ey(r),t=[];return e.forEach(a=>{t.push({id:a.id,...Uy(a.data())})}),t}catch(r){return console.error("Erro ao buscar receitas:",r),iu()}},MM=async r=>{try{const e={...r,createdAt:Es(),updatedAt:Es()};return{id:(await Sy(Wo(Rt,"receitas"),e)).id,...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(e){return console.error("Erro ao adicionar receita:",e),XM(r)}},PM=async(r,e)=>{try{const t=fn(Rt,"receitas",r),a={...e,updatedAt:Es()};return await nf(t,a),{id:r,...e,updatedAt:new Date().toISOString()}}catch(t){return console.error("Erro ao atualizar receita:",t),WM(r,e)}},VM=async r=>{try{return await Ty(fn(Rt,"receitas",r)),!0}catch(e){return console.error("Erro ao deletar receita:",e),JM(r)}},LM=async()=>{try{const r=vy(Wo(Rt,"despesas"),wy("data","desc")),e=await Ey(r),t=[];return e.forEach(a=>{t.push({id:a.id,...Uy(a.data())})}),t}catch(r){return console.error("Erro ao buscar despesas:",r),ou()}},UM=async r=>{try{const e={...r,createdAt:Es(),updatedAt:Es()};return{id:(await Sy(Wo(Rt,"despesas"),e)).id,...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(e){return console.error("Erro ao adicionar despesa:",e),ZM(r)}},zM=async(r,e)=>{try{const t=fn(Rt,"despesas",r),a={...e,updatedAt:Es()};return await nf(t,a),{id:r,...e,updatedAt:new Date().toISOString()}}catch(t){return console.error("Erro ao atualizar despesa:",t),eP(r,e)}},BM=async r=>{try{return await Ty(fn(Rt,"despesas",r)),!0}catch(e){return console.error("Erro ao deletar despesa:",e),tP(r)}},au=async()=>{try{const r=fn(Rt,"configuracoes","categorias"),e=await hg(r);if(e.exists())return e.data();{const t={receitas:["Consulta","Exame","Procedimento","Convnio"],despesas:["Aluguel","Energia","gua","Internet","Material","Salrios","Impostos"]};return await Cc(r,t),t}}catch(r){return console.error("Erro ao buscar categorias:",r),GT()}},lf=async r=>{try{const e=fn(Rt,"configuracoes","categorias");return await Cc(e,r),r}catch(e){return console.error("Erro ao atualizar categorias:",e),nP(r)}},qM=async r=>{try{const e=await au();return e.receitas.includes(r)||(e.receitas.push(r),await lf(e)),e}catch(e){throw console.error("Erro ao adicionar categoria de receita:",e),e}},FM=async r=>{try{const e=await au();return e.despesas.includes(r)||(e.despesas.push(r),await lf(e)),e}catch(e){throw console.error("Erro ao adicionar categoria de despesa:",e),e}},HM=async r=>{try{const e=await au();return e.receitas=e.receitas.filter(t=>t!==r),await lf(e),e}catch(e){throw console.error("Erro ao remover categoria de receita:",e),e}},GM=async r=>{try{const e=await au();return e.despesas=e.despesas.filter(t=>t!==r),await lf(e),e}catch(e){throw console.error("Erro ao remover categoria de despesa:",e),e}},$M=async()=>{try{const r=vy(Wo(Rt,"profissionais"),wy("nome")),e=await Ey(r),t=[];return e.forEach(a=>{t.push({id:a.id,...Uy(a.data())})}),t}catch(r){return console.error("Erro ao buscar profissionais:",r),lu()}},KM=async r=>{try{const e={...r,createdAt:Es(),updatedAt:Es()};return{id:(await Sy(Wo(Rt,"profissionais"),e)).id,...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(e){return console.error("Erro ao adicionar profissional:",e),rP(r)}},YM=async(r,e)=>{try{const t=fn(Rt,"profissionais",r),a={...e,updatedAt:Es()};return await nf(t,a),{id:r,...e,updatedAt:new Date().toISOString()}}catch(t){return console.error("Erro ao atualizar profissional:",t),sP(r,e)}},QM=async r=>{try{return await Ty(fn(Rt,"profissionais",r)),!0}catch(e){return console.error("Erro ao deletar profissional:",e),aP(r)}},iu=()=>{const r=localStorage.getItem("clinica_receitas");return r?JSON.parse(r):[]},XM=r=>{const e=iu(),t={id:Ly(),...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e.unshift(t),localStorage.setItem("clinica_receitas",JSON.stringify(e)),t},WM=(r,e)=>{const t=iu(),a=t.findIndex(o=>o.id===r);if(a!==-1)return t[a]={...t[a],...e,updatedAt:new Date().toISOString()},localStorage.setItem("clinica_receitas",JSON.stringify(t)),t[a];throw new Error("Receita no encontrada")},JM=r=>{const t=iu().filter(a=>a.id!==r);return localStorage.setItem("clinica_receitas",JSON.stringify(t)),!0},ou=()=>{const r=localStorage.getItem("clinica_despesas");return r?JSON.parse(r):[]},ZM=r=>{const e=ou(),t={id:Ly(),...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e.unshift(t),localStorage.setItem("clinica_despesas",JSON.stringify(e)),t},eP=(r,e)=>{const t=ou(),a=t.findIndex(o=>o.id===r);if(a!==-1)return t[a]={...t[a],...e,updatedAt:new Date().toISOString()},localStorage.setItem("clinica_despesas",JSON.stringify(t)),t[a];throw new Error("Despesa no encontrada")},tP=r=>{const t=ou().filter(a=>a.id!==r);return localStorage.setItem("clinica_despesas",JSON.stringify(t)),!0},GT=()=>{const r=localStorage.getItem("clinica_categorias");return r?JSON.parse(r):{receitas:["Consulta","Exame","Procedimento","Convnio"],despesas:["Aluguel","Energia","gua","Internet","Material","Salrios","Impostos"]}},nP=r=>(localStorage.setItem("clinica_categorias",JSON.stringify(r)),r),lu=()=>{const r=localStorage.getItem("clinica_profissionais");return r?JSON.parse(r):[{id:"1",nome:"Dr. Joo Silva",especialidade:"Cardiologia",crm:"12345"},{id:"2",nome:"Dra. Maria Santos",especialidade:"Dermatologia",crm:"67890"}]},rP=r=>{const e=lu(),t={id:Ly(),...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e.push(t),localStorage.setItem("clinica_profissionais",JSON.stringify(e)),t},sP=(r,e)=>{const t=lu(),a=t.findIndex(o=>o.id===r);if(a!==-1)return t[a]={...t[a],...e,updatedAt:new Date().toISOString()},localStorage.setItem("clinica_profissionais",JSON.stringify(t)),t[a];throw new Error("Profissional no encontrado")},aP=r=>{const t=lu().filter(a=>a.id!==r);return localStorage.setItem("clinica_profissionais",JSON.stringify(t)),!0},Op={exportData:()=>{const r={receitas:iu(),despesas:ou(),categorias:GT(),profissionais:lu(),exportDate:new Date().toISOString()};return JSON.stringify(r,null,2)},importData:r=>{try{const e=JSON.parse(r);return e.receitas&&localStorage.setItem("clinica_receitas",JSON.stringify(e.receitas)),e.despesas&&localStorage.setItem("clinica_despesas",JSON.stringify(e.despesas)),e.categorias&&localStorage.setItem("clinica_categorias",JSON.stringify(e.categorias)),e.profissionais&&localStorage.setItem("clinica_profissionais",JSON.stringify(e.profissionais)),!0}catch(e){return console.error("Erro ao importar dados:",e),!1}},clearAllData:()=>{localStorage.removeItem("clinica_receitas"),localStorage.removeItem("clinica_despesas"),localStorage.removeItem("clinica_categorias"),localStorage.removeItem("clinica_profissionais")}},iP=()=>{const[r,e]=L.useState([]),[t,a]=L.useState(!0),o=L.useCallback(async()=>{try{a(!0);const p=await OM();e(p)}catch(p){console.error("Erro ao carregar receitas:",p),Te.error("Erro ao carregar receitas")}finally{a(!1)}},[]);return L.useEffect(()=>{o()},[o]),{receitas:r,loading:t,adicionarReceita:async p=>{try{const y=await MM(p);return e(x=>[y,...x]),Te.success("Receita adicionada com sucesso!"),y}catch(y){throw console.error("Erro ao adicionar receita:",y),Te.error("Erro ao adicionar receita"),y}},atualizarReceita:async(p,y)=>{try{const x=await PM(p,y);return e(T=>T.map(w=>w.id===p?{...w,...y}:w)),Te.success("Receita atualizada com sucesso!"),x}catch(x){throw console.error("Erro ao atualizar receita:",x),Te.error("Erro ao atualizar receita"),x}},removerReceita:async p=>{try{await VM(p),e(y=>y.filter(x=>x.id!==p)),Te.success("Receita removida com sucesso!")}catch(y){throw console.error("Erro ao remover receita:",y),Te.error("Erro ao remover receita"),y}},recarregar:o}},oP=()=>{const[r,e]=L.useState([]),[t,a]=L.useState(!0),o=L.useCallback(async()=>{try{a(!0);const y=await LM();e(y)}catch(y){console.error("Erro ao carregar despesas:",y),Te.error("Erro ao carregar despesas")}finally{a(!1)}},[]);L.useEffect(()=>{o()},[o]);const l=async y=>{try{const x=await UM(y);return e(T=>[x,...T]),Te.success("Despesa adicionada com sucesso!"),x}catch(x){throw console.error("Erro ao adicionar despesa:",x),Te.error("Erro ao adicionar despesa"),x}},u=async(y,x)=>{try{const T=await zM(y,x);return e(w=>w.map(S=>S.id===y?{...S,...x}:S)),Te.success("Despesa atualizada com sucesso!"),T}catch(T){throw console.error("Erro ao atualizar despesa:",T),Te.error("Erro ao atualizar despesa"),T}};return{despesas:r,loading:t,adicionarDespesa:l,atualizarDespesa:u,removerDespesa:async y=>{try{await BM(y),e(x=>x.filter(T=>T.id!==y)),Te.success("Despesa removida com sucesso!")}catch(x){throw console.error("Erro ao remover despesa:",x),Te.error("Erro ao remover despesa"),x}},marcarComoPago:async y=>{try{await u(y,{status:"Pago"}),Te.success("Despesa marcada como paga!")}catch(x){throw console.error("Erro ao marcar despesa como paga:",x),Te.error("Erro ao marcar despesa como paga"),x}},recarregar:o}},zy=()=>{const[r,e]=L.useState({receitas:[],despesas:[]}),[t,a]=L.useState(!0),o=L.useCallback(async()=>{try{a(!0);const y=await au();e(y)}catch(y){console.error("Erro ao carregar categorias:",y),Te.error("Erro ao carregar categorias")}finally{a(!1)}},[]);return L.useEffect(()=>{o()},[o]),{categorias:r,loading:t,adicionarCategoriaReceita:async y=>{try{const x=await qM(y);return e(x),Te.success("Categoria de receita adicionada!"),x}catch(x){throw console.error("Erro ao adicionar categoria de receita:",x),Te.error("Erro ao adicionar categoria de receita"),x}},adicionarCategoriaDespesa:async y=>{try{const x=await FM(y);return e(x),Te.success("Categoria de despesa adicionada!"),x}catch(x){throw console.error("Erro ao adicionar categoria de despesa:",x),Te.error("Erro ao adicionar categoria de despesa"),x}},removerCategoriaReceita:async y=>{try{const x=await HM(y);return e(x),Te.success("Categoria de receita removida!"),x}catch(x){throw console.error("Erro ao remover categoria de receita:",x),Te.error("Erro ao remover categoria de receita"),x}},removerCategoriaDespesa:async y=>{try{const x=await GM(y);return e(x),Te.success("Categoria de despesa removida!"),x}catch(x){throw console.error("Erro ao remover categoria de despesa:",x),Te.error("Erro ao remover categoria de despesa"),x}},recarregar:o}},$T=()=>{const[r,e]=L.useState([]),[t,a]=L.useState(!0),o=L.useCallback(async()=>{try{a(!0);const p=await $M();e(p)}catch(p){console.error("Erro ao carregar profissionais:",p),Te.error("Erro ao carregar profissionais")}finally{a(!1)}},[]);return L.useEffect(()=>{o()},[o]),{profissionais:r,loading:t,adicionarProfissional:async p=>{try{const y=await KM(p);return e(x=>[...x,y]),Te.success("Profissional adicionado com sucesso!"),y}catch(y){throw console.error("Erro ao adicionar profissional:",y),Te.error("Erro ao adicionar profissional"),y}},atualizarProfissional:async(p,y)=>{try{const x=await YM(p,y);return e(T=>T.map(w=>w.id===p?{...w,...y}:w)),Te.success("Profissional atualizado com sucesso!"),x}catch(x){throw console.error("Erro ao atualizar profissional:",x),Te.error("Erro ao atualizar profissional"),x}},removerProfissional:async p=>{try{await QM(p),e(y=>y.filter(x=>x.id!==p)),Te.success("Profissional removido com sucesso!")}catch(y){throw console.error("Erro ao remover profissional:",y),Te.error("Erro ao remover profissional"),y}},recarregar:o}},lP=()=>{var ve,M;const{receitas:r,loading:e,adicionarReceita:t,atualizarReceita:a,removerReceita:o}=iP(),{categorias:l}=zy(),{profissionais:u}=$T(),[m,p]=L.useState({busca:"",categoria:"",profissional:"",status:""}),[y,x]=L.useState(!1),[T,w]=L.useState(null),[S,R]=L.useState({data:"",descricao:"",categoria:"",profissional:"",valor:"",status:"Pendente",observacoes:""}),j=r.filter(E=>{const I=E.descricao.toLowerCase().includes(m.busca.toLowerCase())||E.profissional.toLowerCase().includes(m.busca.toLowerCase()),P=!m.categoria||E.categoria===m.categoria,z=!m.profissional||E.profissional===m.profissional,C=!m.status||E.status===m.status;return I&&P&&z&&C}),k={total:j.reduce((E,I)=>E+I.valor,0),recebido:j.filter(E=>E.status==="Recebido").reduce((E,I)=>E+I.valor,0),pendente:j.filter(E=>E.status==="Pendente").reduce((E,I)=>E+I.valor,0),atrasado:j.filter(E=>E.status==="Em Atraso").reduce((E,I)=>E+I.valor,0)},B=async E=>{E.preventDefault();try{const I={...S,valor:parseFloat(S.valor)};T?await a(T.id,I):await t(I),x(!1),w(null),R({data:"",descricao:"",categoria:"",profissional:"",valor:"",status:"Pendente",observacoes:""})}catch(I){console.error("Erro ao salvar receita:",I)}},Y=E=>{w(E),R({data:E.data,descricao:E.descricao,categoria:E.categoria,profissional:E.profissional,valor:E.valor.toString(),status:E.status,observacoes:E.observacoes||""}),x(!0)},X=async E=>{if(window.confirm("Tem certeza que deseja excluir esta receita?"))try{await o(E)}catch(I){console.error("Erro ao excluir receita:",I)}},ie=E=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E),ue=E=>{switch(E){case"Recebido":return"bg-green-100 text-green-800";case"Pendente":return"bg-yellow-100 text-yellow-800";case"Em Atraso":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Receitas"}),h.jsx("p",{className:"text-gray-600",children:"Gerencie as receitas da sua clnica"})]}),h.jsxs("button",{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[h.jsx(Ch,{className:"h-4 w-4"}),"Nova Receita"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:h.jsx(ua,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total do Perodo"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ie(k.total)})]})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:h.jsx(ua,{className:"h-6 w-6 text-green-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recebido"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:ie(k.recebido)})]})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:h.jsx(ua,{className:"h-6 w-6 text-yellow-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendente"}),h.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:ie(k.pendente)})]})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:h.jsx(ua,{className:"h-6 w-6 text-red-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Em Atraso"}),h.jsx("p",{className:"text-2xl font-bold text-red-600",children:ie(k.atrasado)})]})]})})]}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),h.jsxs("div",{className:"relative",children:[h.jsx(DT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Buscar receitas...",value:m.busca,onChange:E=>p({...m,busca:E.target.value}),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),h.jsxs("select",{value:m.categoria,onChange:E=>p({...m,categoria:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Todas as categorias"}),(ve=l.receitas)==null?void 0:ve.map(E=>h.jsx("option",{value:E,children:E},E))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profissional"}),h.jsxs("select",{value:m.profissional,onChange:E=>p({...m,profissional:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Todos os profissionais"}),u.map(E=>h.jsx("option",{value:E.nome,children:E.nome},E.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{value:m.status,onChange:E=>p({...m,status:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Todos os status"}),h.jsx("option",{value:"Recebido",children:"Recebido"}),h.jsx("option",{value:"Pendente",children:"Pendente"}),h.jsx("option",{value:"Em Atraso",children:"Em Atraso"})]})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profissional"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(E=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(E.data).toLocaleDateString("pt-BR")}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.descricao}),E.observacoes&&h.jsx("div",{className:"text-sm text-gray-500",children:E.observacoes})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:E.categoria})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.profissional}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ie(E.valor)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ue(E.status)}`,children:E.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>Y(E),className:"text-blue-600 hover:text-blue-900",children:h.jsx(My,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>X(E.id),className:"text-red-600 hover:text-red-900",children:h.jsx(Dc,{className:"h-4 w-4"})})]})})]},E.id))})]})})}),y&&h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:h.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:h.jsxs("div",{className:"mt-3",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:T?"Editar Receita":"Nova Receita"}),h.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),h.jsx("input",{type:"date",value:S.data,onChange:E=>R({...S,data:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),h.jsx("input",{type:"text",value:S.descricao,onChange:E=>R({...S,descricao:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),h.jsxs("select",{value:S.categoria,onChange:E=>R({...S,categoria:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[h.jsx("option",{value:"",children:"Selecione uma categoria"}),(M=l.receitas)==null?void 0:M.map(E=>h.jsx("option",{value:E,children:E},E))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profissional"}),h.jsxs("select",{value:S.profissional,onChange:E=>R({...S,profissional:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[h.jsx("option",{value:"",children:"Selecione um profissional"}),u.map(E=>h.jsx("option",{value:E.nome,children:E.nome},E.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),h.jsx("input",{type:"number",step:"0.01",value:S.valor,onChange:E=>R({...S,valor:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{value:S.status,onChange:E=>R({...S,status:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"Pendente",children:"Pendente"}),h.jsx("option",{value:"Recebido",children:"Recebido"}),h.jsx("option",{value:"Em Atraso",children:"Em Atraso"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),h.jsx("textarea",{value:S.observacoes,onChange:E=>R({...S,observacoes:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>{x(!1),w(null),R({data:"",descricao:"",categoria:"",profissional:"",valor:"",status:"Pendente",observacoes:""})},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:T?"Atualizar":"Salvar"})]})]})]})})})]})},cP=()=>{var P,z;const{despesas:r,loading:e,adicionarDespesa:t,atualizarDespesa:a,removerDespesa:o,marcarComoPago:l}=oP(),{categorias:u}=zy(),[m,p]=L.useState({busca:"",categoria:"",tipo:"",status:""}),[y,x]=L.useState(!1),[T,w]=L.useState(null),[S,R]=L.useState({data:"",descricao:"",categoria:"",tipo:"Varivel",valor:"",vencimento:"",status:"Pendente",recorrente:!1,observacoes:""}),j=r.filter(C=>{const D=C.descricao.toLowerCase().includes(m.busca.toLowerCase()),de=!m.categoria||C.categoria===m.categoria,De=!m.tipo||C.tipo===m.tipo,Q=!m.status||C.status===m.status;return D&&de&&De&&Q}),k={total:j.reduce((C,D)=>C+D.valor,0),pago:j.filter(C=>C.status==="Pago").reduce((C,D)=>C+D.valor,0),pendente:j.filter(C=>C.status==="Pendente").reduce((C,D)=>C+D.valor,0),atrasado:j.filter(C=>C.status==="Em Atraso").reduce((C,D)=>C+D.valor,0),fixas:j.filter(C=>C.tipo==="Fixa").reduce((C,D)=>C+D.valor,0),variaveis:j.filter(C=>C.tipo==="Varivel").reduce((C,D)=>C+D.valor,0)},B=k.total>0?k.fixas/k.total*100:0,Y=k.total>0?k.variaveis/k.total*100:0,X=async C=>{C.preventDefault();try{const D={...S,valor:parseFloat(S.valor)};T?await a(T.id,D):await t(D),x(!1),w(null),R({data:"",descricao:"",categoria:"",tipo:"Varivel",valor:"",vencimento:"",status:"Pendente",recorrente:!1,observacoes:""})}catch(D){console.error("Erro ao salvar despesa:",D)}},ie=C=>{w(C),R({data:C.data,descricao:C.descricao,categoria:C.categoria,tipo:C.tipo,valor:C.valor.toString(),vencimento:C.vencimento,status:C.status,recorrente:C.recorrente||!1,observacoes:C.observacoes||""}),x(!0)},ue=async C=>{if(window.confirm("Tem certeza que deseja excluir esta despesa?"))try{await o(C)}catch(D){console.error("Erro ao excluir despesa:",D)}},ve=async C=>{try{await l(C)}catch(D){console.error("Erro ao marcar como pago:",D)}},M=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),E=C=>{switch(C){case"Pago":return"bg-green-100 text-green-800";case"Pendente":return"bg-yellow-100 text-yellow-800";case"Em Atraso":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=C=>C==="Fixa"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800";return e?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Despesas"}),h.jsx("p",{className:"text-gray-600",children:"Controle os gastos da sua clnica"})]}),h.jsxs("button",{onClick:()=>x(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[h.jsx(Ch,{className:"h-4 w-4"}),"Nova Despesa"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:h.jsx(ky,{className:"h-6 w-6 text-orange-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total do Perodo"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M(k.total)})]})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:h.jsx(Uo,{className:"h-6 w-6 text-green-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pago"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:M(k.pago)})]})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:h.jsx(mg,{className:"h-6 w-6 text-yellow-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendente"}),h.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:M(k.pendente)})]})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:h.jsx(mg,{className:"h-6 w-6 text-red-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Em Atraso"}),h.jsx("p",{className:"text-2xl font-bold text-red-600",children:M(k.atrasado)})]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Despesas Fixas"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:M(k.fixas)}),h.jsxs("p",{className:"text-sm text-gray-600",children:[B.toFixed(1),"% do total"]})]}),h.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsxs("span",{className:"text-blue-600 font-bold",children:[B.toFixed(0),"%"]})})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Despesas Variveis"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-purple-600",children:M(k.variaveis)}),h.jsxs("p",{className:"text-sm text-gray-600",children:[Y.toFixed(1),"% do total"]})]}),h.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:h.jsxs("span",{className:"text-purple-600 font-bold",children:[Y.toFixed(0),"%"]})})]})]})]}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),h.jsxs("div",{className:"relative",children:[h.jsx(DT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Buscar despesas...",value:m.busca,onChange:C=>p({...m,busca:C.target.value}),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),h.jsxs("select",{value:m.categoria,onChange:C=>p({...m,categoria:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"",children:"Todas as categorias"}),(P=u.despesas)==null?void 0:P.map(C=>h.jsx("option",{value:C,children:C},C))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),h.jsxs("select",{value:m.tipo,onChange:C=>p({...m,tipo:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"",children:"Todos os tipos"}),h.jsx("option",{value:"Fixa",children:"Fixa"}),h.jsx("option",{value:"Varivel",children:"Varivel"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{value:m.status,onChange:C=>p({...m,status:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"",children:"Todos os status"}),h.jsx("option",{value:"Pago",children:"Pago"}),h.jsx("option",{value:"Pendente",children:"Pendente"}),h.jsx("option",{value:"Em Atraso",children:"Em Atraso"})]})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(C=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(C.data).toLocaleDateString("pt-BR")}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.descricao}),C.recorrente&&h.jsx("div",{className:"text-xs text-blue-600",children:"Recorrente"}),C.observacoes&&h.jsx("div",{className:"text-sm text-gray-500",children:C.observacoes})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:C.categoria})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I(C.tipo)}`,children:C.tipo})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M(C.valor)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.vencimento?new Date(C.vencimento).toLocaleDateString("pt-BR"):"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(C.status)}`,children:C.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsxs("div",{className:"flex space-x-2",children:[C.status!=="Pago"&&h.jsx("button",{onClick:()=>ve(C.id),className:"text-green-600 hover:text-green-900",title:"Marcar como pago",children:h.jsx(Uo,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>ie(C),className:"text-blue-600 hover:text-blue-900",children:h.jsx(My,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>ue(C.id),className:"text-red-600 hover:text-red-900",children:h.jsx(Dc,{className:"h-4 w-4"})})]})})]},C.id))})]})})}),y&&h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:h.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:h.jsxs("div",{className:"mt-3",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:T?"Editar Despesa":"Nova Despesa"}),h.jsxs("form",{onSubmit:X,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),h.jsx("input",{type:"date",value:S.data,onChange:C=>R({...S,data:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),h.jsx("input",{type:"text",value:S.descricao,onChange:C=>R({...S,descricao:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),h.jsxs("select",{value:S.categoria,onChange:C=>R({...S,categoria:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,children:[h.jsx("option",{value:"",children:"Selecione uma categoria"}),(z=u.despesas)==null?void 0:z.map(C=>h.jsx("option",{value:C,children:C},C))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),h.jsxs("select",{value:S.tipo,onChange:C=>R({...S,tipo:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"Varivel",children:"Varivel"}),h.jsx("option",{value:"Fixa",children:"Fixa"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),h.jsx("input",{type:"number",step:"0.01",value:S.valor,onChange:C=>R({...S,valor:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vencimento"}),h.jsx("input",{type:"date",value:S.vencimento,onChange:C=>R({...S,vencimento:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{value:S.status,onChange:C=>R({...S,status:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"Pendente",children:"Pendente"}),h.jsx("option",{value:"Pago",children:"Pago"}),h.jsx("option",{value:"Em Atraso",children:"Em Atraso"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"recorrente",checked:S.recorrente,onChange:C=>R({...S,recorrente:C.target.checked}),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),h.jsx("label",{htmlFor:"recorrente",className:"ml-2 block text-sm text-gray-900",children:"Despesa recorrente"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),h.jsx("textarea",{value:S.observacoes,onChange:C=>R({...S,observacoes:C.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",rows:"3"})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>{x(!1),w(null),R({data:"",descricao:"",categoria:"",tipo:"Varivel",valor:"",vencimento:"",status:"Pendente",recorrente:!1,observacoes:""})},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:T?"Atualizar":"Salvar"})]})]})]})})})]})},uP=()=>{const[r,e]=L.useState("30"),[t,a]=L.useState("timeline"),o=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S),l=S=>new Date(S).toLocaleDateString("pt-BR"),u={saldoAtual:15420.5,entradas:[{data:"2025-01-15",descricao:"Recebimento Consultas",valor:2400,categoria:"receita",confirmado:!0},{data:"2025-01-20",descricao:"Convnio Unimed",valor:3200,categoria:"receita",confirmado:!1},{data:"2025-01-25",descricao:"Procedimentos Particulares",valor:1800,categoria:"receita",confirmado:!1},{data:"2025-02-05",descricao:"Recebimento Mensal",valor:4500,categoria:"receita",confirmado:!1},{data:"2025-02-15",descricao:"Convnios Diversos",valor:2800,categoria:"receita",confirmado:!1}],saidas:[{data:"2025-01-15",descricao:"Aluguel Clnica",valor:3500,categoria:"despesa",confirmado:!0},{data:"2025-01-20",descricao:"Salrios",valor:8500,categoria:"despesa",confirmado:!0},{data:"2025-01-25",descricao:"Fornecedores",valor:1200,categoria:"despesa",confirmado:!1},{data:"2025-02-01",descricao:"Impostos",valor:2100,categoria:"despesa",confirmado:!1},{data:"2025-02-15",descricao:"Utilidades",valor:850,categoria:"despesa",confirmado:!1}]},m=()=>{const S=new Date,R={7:new Date(S.getTime()+7*24*60*60*1e3),15:new Date(S.getTime()+15*24*60*60*1e3),30:new Date(S.getTime()+30*24*60*60*1e3),60:new Date(S.getTime()+60*24*60*60*1e3),90:new Date(S.getTime()+90*24*60*60*1e3)},j={};return Object.entries(R).forEach(([k,B])=>{const Y=u.entradas.filter(ie=>new Date(ie.data)<=B).reduce((ie,ue)=>ie+ue.valor,0),X=u.saidas.filter(ie=>new Date(ie.data)<=B).reduce((ie,ue)=>ie+ue.valor,0);j[k]={entradas:Y,saidas:X,saldo:u.saldoAtual+Y-X,variacao:Y-X}}),j},p=()=>{const S=[...u.entradas.map(j=>({...j,tipo:"entrada"})),...u.saidas.map(j=>({...j,tipo:"saida"}))].sort((j,k)=>new Date(j.data)-new Date(k.data));let R=u.saldoAtual;return S.map(j=>(j.tipo==="entrada"?R+=j.valor:R-=j.valor,{...j,saldoAcumulado:R}))},y=()=>{const S=[],R=m();R[30].variacao<0&&S.push({tipo:"erro",titulo:"Fluxo negativo em 30 dias",descricao:"Sadas superiores s entradas previstas",valor:R[30].variacao});const j=u.saidas.filter(k=>k.valor>5e3);return j.length>0&&S.push({tipo:"info",titulo:"Grandes sadas previstas",descricao:`${j.length} pagamento${j.length>1?"s":""} acima de R$ 5.000`,valor:j.reduce((k,B)=>k+B.valor,0)}),S},x=m(),T=p(),w=y();return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Fluxo de Caixa"}),h.jsx("p",{className:"text-gray-600",children:"Projees e anlise do fluxo financeiro"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("select",{value:r,onChange:S=>e(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"7",children:"Prximos 7 dias"}),h.jsx("option",{value:"15",children:"Prximos 15 dias"}),h.jsx("option",{value:"30",children:"Prximos 30 dias"}),h.jsx("option",{value:"60",children:"Prximos 60 dias"}),h.jsx("option",{value:"90",children:"Prximos 90 dias"})]}),h.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Exportar Projeo"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Saldo Atual"}),h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o(u.saldoAtual)}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Atualizado hoje"})]}),h.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:h.jsx(ua,{className:"w-6 h-6 text-blue-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Projeo 30 dias"}),h.jsx("p",{className:`text-2xl font-bold ${x[30].saldo>=0?"text-green-600":"text-red-600"}`,children:o(x[30].saldo)}),h.jsxs("div",{className:"flex items-center mt-1",children:[x[30].variacao>=0?h.jsx(ca,{className:"w-3 h-3 text-green-500 mr-1"}):h.jsx(bc,{className:"w-3 h-3 text-red-500 mr-1"}),h.jsx("span",{className:`text-xs ${x[30].variacao>=0?"text-green-600":"text-red-600"}`,children:o(Math.abs(x[30].variacao))})]})]}),h.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:h.jsx(of,{className:"w-6 h-6 text-green-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Projeo 60 dias"}),h.jsx("p",{className:`text-2xl font-bold ${x[60].saldo>=0?"text-green-600":"text-red-600"}`,children:o(x[60].saldo)}),h.jsxs("div",{className:"flex items-center mt-1",children:[x[60].variacao>=0?h.jsx(ca,{className:"w-3 h-3 text-green-500 mr-1"}):h.jsx(bc,{className:"w-3 h-3 text-red-500 mr-1"}),h.jsx("span",{className:`text-xs ${x[60].variacao>=0?"text-green-600":"text-red-600"}`,children:o(Math.abs(x[60].variacao))})]})]}),h.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:h.jsx(Nh,{className:"w-6 h-6 text-purple-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Projeo 90 dias"}),h.jsx("p",{className:`text-2xl font-bold ${x[90].saldo>=0?"text-green-600":"text-red-600"}`,children:o(x[90].saldo)}),h.jsxs("div",{className:"flex items-center mt-1",children:[x[90].variacao>=0?h.jsx(ca,{className:"w-3 h-3 text-green-500 mr-1"}):h.jsx(bc,{className:"w-3 h-3 text-red-500 mr-1"}),h.jsx("span",{className:`text-xs ${x[90].variacao>=0?"text-green-600":"text-red-600"}`,children:o(Math.abs(x[90].variacao))})]})]}),h.jsx("div",{className:"p-3 bg-orange-50 rounded-full",children:h.jsx(Py,{className:"w-6 h-6 text-orange-600"})})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Timeline do Fluxo"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>a("timeline"),className:`px-3 py-1 rounded text-sm ${t==="timeline"?"bg-blue-100 text-blue-700":"text-gray-600"}`,children:"Timeline"}),h.jsx("button",{onClick:()=>a("grafico"),className:`px-3 py-1 rounded text-sm ${t==="grafico"?"bg-blue-100 text-blue-700":"text-gray-600"}`,children:"Grfico"})]})]}),h.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:T.slice(0,10).map((S,R)=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`p-2 rounded-full ${S.tipo==="entrada"?"bg-green-50":"bg-red-50"}`,children:S.tipo==="entrada"?h.jsx(ca,{className:`w-4 h-4 ${S.confirmado?"text-green-600":"text-green-400"}`}):h.jsx(bc,{className:`w-4 h-4 ${S.confirmado?"text-red-600":"text-red-400"}`})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.descricao}),h.jsxs("p",{className:"text-xs text-gray-500",children:[l(S.data),"  ",S.confirmado?"Confirmado":"Previsto"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:`text-sm font-medium ${S.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:[S.tipo==="entrada"?"+":"-",o(S.valor)]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Saldo: ",o(S.saldoAcumulado)]})]})]},R))})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alertas"}),h.jsxs("div",{className:"space-y-3",children:[w.map((S,R)=>h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:`p-2 rounded-full ${S.tipo==="erro"?"bg-red-50":S.tipo==="aviso"?"bg-yellow-50":"bg-blue-50"}`,children:S.tipo==="erro"?h.jsx(jT,{className:"w-4 h-4 text-red-600"}):S.tipo==="aviso"?h.jsx(Do,{className:"w-4 h-4 text-yellow-600"}):h.jsx(Rh,{className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.titulo}),h.jsx("p",{className:"text-sm text-gray-600",children:S.descricao}),S.valor&&h.jsx("p",{className:`text-sm font-medium ${S.tipo==="erro"?"text-red-600":S.tipo==="aviso"?"text-yellow-600":"text-blue-600"}`,children:o(Math.abs(S.valor))})]})]},R)),w.length===0&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-green-50 rounded-full",children:h.jsx(Uo,{className:"w-4 h-4 text-green-600"})}),h.jsx("p",{className:"text-sm text-gray-600",children:"Fluxo de caixa saudvel"})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Simulador Rpido"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{className:"w-full flex items-center justify-start px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[h.jsx(jc,{className:"w-4 h-4 mr-2"}),"Simular Cenrio"]}),h.jsxs("button",{className:"w-full flex items-center justify-start px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[h.jsx(UO,{className:"w-4 h-4 mr-2"}),"Stress Test"]}),h.jsxs("button",{className:"w-full flex items-center justify-start px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[h.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Anlise Detalhada"]})]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumo por Perodo"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Object.entries(x).map(([S,R])=>h.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[h.jsxs("p",{className:"text-sm text-gray-600",children:[S," dias"]}),h.jsx("p",{className:`text-lg font-bold ${R.saldo>=0?"text-green-600":"text-red-600"}`,children:o(R.saldo)}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Entradas: ",o(R.entradas)]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Sadas: ",o(R.saidas)]})]},S))})]})]})},dP=()=>{const[r,e]=L.useState("2025-01"),[t,a]=L.useState("financeiro"),[o,l]=L.useState("pdf"),u=B=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B),m={financeiro:{receitas:15420,margem:19.9,crescimento:12.5},operacional:{consultas:145,ocupacao:78.5}},p=[{id:"dre",titulo:"DRE - Demonstrao do Resultado",descricao:"Relatrio completo de receitas, custos e lucros",categoria:"Financeiro",icone:Lo,cor:"blue",dados:{receitaBruta:15420,deducoes:1542,receitaLiquida:13878,custos:3200,lucroOperacional:10678,despesasOperacionais:8500,lucroLiquido:2178}},{id:"fluxo_caixa",titulo:"Relatrio de Fluxo de Caixa",descricao:"Anlise detalhada das movimentaes financeiras",categoria:"Financeiro",icone:of,cor:"green",dados:{saldoInicial:12500,entradas:15420,saidas:12350,saldoFinal:15570,variacao:3070}},{id:"receitas_categoria",titulo:"Receitas por Categoria",descricao:"Distribuio das receitas por tipo de servio",categoria:"Operacional",icone:IT,cor:"purple",dados:[{categoria:"Consultas",valor:4200,percentual:27.2},{categoria:"Procedimentos",valor:8500,percentual:55.1},{categoria:"Convnios",valor:1920,percentual:12.4},{categoria:"Telemedicina",valor:800,percentual:5.2}]},{id:"despesas_categoria",titulo:"Despesas por Categoria",descricao:"Anlise dos gastos por categoria operacional",categoria:"Operacional",icone:jc,cor:"red",dados:[{categoria:"Administrativa",valor:7800,percentual:63.2},{categoria:"Clnica",valor:2100,percentual:17},{categoria:"Marketing",valor:1450,percentual:11.7},{categoria:"Utilidades",valor:1e3,percentual:8.1}]},{id:"performance_profissionais",titulo:"Performance dos Profissionais",descricao:"Anlise de produtividade por profissional",categoria:"Operacional",icone:VO,cor:"indigo",dados:[{nome:"Dr. Joo Silva",consultas:78,receita:8500,especialidade:"Cardiologia"},{nome:"Dr. Maria Santos",consultas:67,receita:6920,especialidade:"Clnica Geral"},{nome:"Dr. Pedro Costa",consultas:45,receita:4200,especialidade:"Dermatologia"},{nome:"Dra. Ana Lima",consultas:52,receita:5800,especialidade:"Ginecologia"}]},{id:"impostos_detalhado",titulo:"Relatrio Detalhado de Impostos",descricao:"Anlise completa de impostos e obrigaes",categoria:"Fiscal",icone:Oy,cor:"orange",dados:[{imposto:"IRPJ",valor:1250,vencimento:"2025-01-31",status:"Pendente"},{imposto:"CSLL",valor:450,vencimento:"2025-01-31",status:"Pendente"},{imposto:"PIS",valor:165,vencimento:"2025-01-25",status:"Pago"},{imposto:"COFINS",valor:760,vencimento:"2025-01-25",status:"Pago"},{imposto:"ISS",valor:505,vencimento:"2025-02-05",status:"Pendente"},{imposto:"INSS",valor:2100,vencimento:"2025-02-07",status:"Pendente"}]},{id:"ocupacao_agenda",titulo:"Relatrio de Ocupao da Agenda",descricao:"Anlise da utilizao dos horrios disponveis",categoria:"Operacional",icone:Do,cor:"teal",dados:{horariosDisponiveis:320,horariosOcupados:251,taxaOcupacao:78.4,horariosVagos:69,cancelamentos:23}},{id:"comparativo_mensal",titulo:"Comparativo Mensal",descricao:"Evoluo dos indicadores ao longo dos meses",categoria:"Estratgico",icone:Nh,cor:"cyan",dados:[{mes:"Nov/24",receitas:13200,despesas:11800,lucro:1400},{mes:"Dez/24",receitas:14100,despesas:12100,lucro:2e3},{mes:"Jan/25",receitas:15420,despesas:12350,lucro:3070}]}],y=["Todos","Financeiro","Operacional","Fiscal","Estratgico"],[x,T]=L.useState("Todos"),[w,S]=L.useState(null),R=p.filter(B=>x==="Todos"||B.categoria===x),j=B=>({blue:"text-blue-600 bg-blue-50",green:"text-green-600 bg-green-50",purple:"text-purple-600 bg-purple-50",red:"text-red-600 bg-red-50",indigo:"text-indigo-600 bg-indigo-50",orange:"text-orange-600 bg-orange-50",teal:"text-teal-600 bg-teal-50",cyan:"text-cyan-600 bg-cyan-50"})[B]||"text-gray-600 bg-gray-50",k=B=>{if(!B)return null;switch(B.id){case"dre":return h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Demonstrao do Resultado do Exerccio"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between py-2 border-b",children:[h.jsx("span",{className:"text-gray-600",children:"Receita Bruta"}),h.jsx("span",{className:"font-medium text-green-600",children:u(B.dados.receitaBruta)})]}),h.jsxs("div",{className:"flex justify-between py-2",children:[h.jsx("span",{className:"text-gray-600",children:"(-) Dedues"}),h.jsx("span",{className:"font-medium text-red-600",children:u(B.dados.deducoes)})]}),h.jsxs("div",{className:"flex justify-between py-2 border-b font-medium",children:[h.jsx("span",{className:"text-gray-900",children:"Receita Lquida"}),h.jsx("span",{className:"text-blue-600",children:u(B.dados.receitaLiquida)})]}),h.jsxs("div",{className:"flex justify-between py-2",children:[h.jsx("span",{className:"text-gray-600",children:"(-) Custos"}),h.jsx("span",{className:"font-medium text-red-600",children:u(B.dados.custos)})]}),h.jsxs("div",{className:"flex justify-between py-2 border-b font-medium",children:[h.jsx("span",{className:"text-gray-900",children:"Lucro Operacional"}),h.jsx("span",{className:"text-green-600",children:u(B.dados.lucroOperacional)})]}),h.jsxs("div",{className:"flex justify-between py-2",children:[h.jsx("span",{className:"text-gray-600",children:"(-) Despesas Operacionais"}),h.jsx("span",{className:"font-medium text-red-600",children:u(B.dados.despesasOperacionais)})]}),h.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-gray-300 font-bold",children:[h.jsx("span",{className:"text-gray-900",children:"Lucro Lquido"}),h.jsx("span",{className:"text-green-600",children:u(B.dados.lucroLiquido)})]})]})]});case"receitas_categoria":return h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Distribuio de Receitas por Categoria"}),h.jsx("div",{className:"space-y-3",children:B.dados.map((Y,X)=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-500"}),h.jsx("span",{className:"font-medium text-gray-900",children:Y.categoria})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"font-medium text-gray-900",children:u(Y.valor)}),h.jsxs("p",{className:"text-sm text-gray-500",children:[Y.percentual,"%"]})]})]},X))})]});case"performance_profissionais":return h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Performance dos Profissionais"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b",children:[h.jsx("th",{className:"text-left py-2",children:"Profissional"}),h.jsx("th",{className:"text-left py-2",children:"Especialidade"}),h.jsx("th",{className:"text-right py-2",children:"Consultas"}),h.jsx("th",{className:"text-right py-2",children:"Receita"})]})}),h.jsx("tbody",{children:B.dados.map((Y,X)=>h.jsxs("tr",{className:"border-b",children:[h.jsx("td",{className:"py-2 font-medium",children:Y.nome}),h.jsx("td",{className:"py-2 text-gray-600",children:Y.especialidade}),h.jsx("td",{className:"py-2 text-right",children:Y.consultas}),h.jsx("td",{className:"py-2 text-right font-medium",children:u(Y.receita)})]},X))})]})})]});default:return h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500",children:"Visualizao detalhada em desenvolvimento..."})})}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Relatrios"}),h.jsx("p",{className:"text-gray-600",children:"Anlises e relatrios detalhados da sua clnica"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("select",{value:r,onChange:B=>e(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"2025-01",children:"Janeiro 2025"}),h.jsx("option",{value:"2024-12",children:"Dezembro 2024"}),h.jsx("option",{value:"2024-11",children:"Novembro 2024"})]}),h.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Gerar Relatrio Personalizado"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Receitas Totais"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:u(m.financeiro.receitas)}),h.jsxs("p",{className:"text-xs text-green-500 mt-1",children:["+",m.financeiro.crescimento,"% vs ms anterior"]})]}),h.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:h.jsx(ua,{className:"w-6 h-6 text-green-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Consultas Realizadas"}),h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m.operacional.consultas}),h.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"+8.2% vs ms anterior"})]}),h.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:h.jsx(AO,{className:"w-6 h-6 text-blue-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taxa de Ocupao"}),h.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[m.operacional.ocupacao,"%"]}),h.jsx("p",{className:"text-xs text-purple-500 mt-1",children:"+3.1% vs ms anterior"})]}),h.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:h.jsx(Nh,{className:"w-6 h-6 text-purple-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Margem de Lucro"}),h.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[m.financeiro.margem,"%"]}),h.jsx("p",{className:"text-xs text-green-500 mt-1",children:"+2.3% vs ms anterior"})]}),h.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:h.jsx(Py,{className:"w-6 h-6 text-green-600"})})]})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Relatrios Disponveis"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(rO,{className:"w-4 h-4 text-gray-400"}),h.jsx("select",{value:x,onChange:B=>T(B.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.map(B=>h.jsx("option",{value:B,children:B},B))})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Formato:"}),h.jsxs("select",{value:o,onChange:B=>l(B.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"pdf",children:"PDF"}),h.jsx("option",{value:"excel",children:"Excel"}),h.jsx("option",{value:"csv",children:"CSV"})]})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(B=>{const Y=B.icone;return h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("div",{className:`p-3 rounded-full ${j(B.cor)}`,children:h.jsx(Y,{className:"w-6 h-6"})}),h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:B.categoria})]}),h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:B.titulo}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:B.descricao}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("button",{onClick:()=>S(B),className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded-md text-sm hover:bg-gray-200 transition-colors flex items-center justify-center space-x-1",children:[h.jsx(Rh,{className:"w-4 h-4"}),h.jsx("span",{children:"Visualizar"})]}),h.jsxs("button",{className:"bg-blue-600 text-white px-3 py-2 rounded-md text-sm hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[h.jsx(oa,{className:"w-4 h-4"}),h.jsx("span",{children:"Baixar"})]})]})]},B.id)})})]}),w&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:w.titulo}),h.jsx("p",{className:"text-gray-600",children:w.descricao})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:h.jsx(pO,{className:"w-5 h-5"})}),h.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:h.jsx(bO,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>S(null),className:"p-2 text-gray-400 hover:text-gray-600",children:""})]})]}),h.jsx("div",{className:"border-t pt-6",children:k(w)}),h.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t",children:[h.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Fechar"}),h.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[h.jsx(oa,{className:"w-4 h-4"}),h.jsxs("span",{children:["Exportar ",o.toUpperCase()]})]})]})]})}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Aes Rpidas"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("button",{className:"flex items-center space-x-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx(eO,{className:"w-6 h-6 text-green-600"}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"font-medium text-gray-900",children:"Exportar Dados Completos"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Excel com todos os dados do perodo"})]})]}),h.jsxs("button",{className:"flex items-center space-x-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx(rh,{className:"w-6 h-6 text-blue-600"}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"font-medium text-gray-900",children:"Enviar por Email"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Agendar envio automtico"})]})]}),h.jsxs("button",{className:"flex items-center space-x-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx(mg,{className:"w-6 h-6 text-purple-600"}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"font-medium text-gray-900",children:"Agendar Relatrio"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Configurar gerao automtica"})]})]})]})]})]})},hP=()=>{const[r,e]=L.useState("2025-01"),[t,a]=L.useState("dre"),o=j=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j),l=j=>new Date(j).toLocaleDateString("pt-BR"),u={impostos:{irpj:{valor:1250,vencimento:"2025-01-31",status:"pendente"},csll:{valor:450,vencimento:"2025-01-31",status:"pendente"},pis:{valor:165,vencimento:"2025-01-25",status:"pago"},cofins:{valor:760,vencimento:"2025-01-25",status:"pago"},iss:{valor:505,vencimento:"2025-02-05",status:"pendente"},inss:{valor:2100,vencimento:"2025-02-07",status:"pendente"}},dre:{receitaBruta:15420,deducoes:1542,receitaLiquida:13878,custos:3200,lucroOperacional:10678,despesasOperacionais:8500,impostos:435.6,lucroLiquido:1742.4},obrigacoes:[{nome:"DEFIS",prazo:"2025-03-31",status:"pendente",descricao:"Declarao de Informaes Socioeconmicas e Fiscais"},{nome:"DIRF",prazo:"2025-02-28",status:"pendente",descricao:"Declarao do Imposto de Renda Retido na Fonte"},{nome:"RAIS",prazo:"2025-03-31",status:"pendente",descricao:"Relao Anual de Informaes Sociais"},{nome:"GFIP",prazo:"2025-02-07",status:"atrasado",descricao:"Guia de Recolhimento do FGTS e Informaes  Previdncia Social"}]},m=()=>Object.values(u.impostos).reduce((j,k)=>j+k.valor,0),p=()=>{const j=new Date;return Object.entries(u.impostos).filter(([k,B])=>new Date(B.vencimento)<j&&B.status==="pendente")},y=()=>{const j=new Date,k=new Date;return k.setDate(j.getDate()+15),Object.entries(u.impostos).filter(([B,Y])=>{const X=new Date(Y.vencimento);return X>=j&&X<=k&&Y.status==="pendente"}).sort(([B,Y],[X,ie])=>new Date(Y.vencimento)-new Date(ie.vencimento))},x=()=>u.obrigacoes.filter(j=>j.status!=="cumprida"),T=m(),w=p(),S=y(),R=x();return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Controle Fiscal"}),h.jsx("p",{className:"text-gray-600",children:"Gesto de impostos e obrigaes fiscais"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("select",{value:r,onChange:j=>e(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"2025-01",children:"Janeiro 2025"}),h.jsx("option",{value:"2024-12",children:"Dezembro 2024"}),h.jsx("option",{value:"2024-11",children:"Novembro 2024"})]}),h.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Gerar Relatrio"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Impostos"}),h.jsx("p",{className:"text-2xl font-bold text-red-600",children:o(T)}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Perodo atual"})]}),h.jsx("div",{className:"p-3 bg-red-50 rounded-full",children:h.jsx(jc,{className:"w-6 h-6 text-red-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Impostos Vencidos"}),h.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.length}),h.jsx("p",{className:"text-xs text-red-500 mt-1",children:w.length>0?"Ao necessria":"Em dia"})]}),h.jsx("div",{className:"p-3 bg-red-50 rounded-full",children:h.jsx(Bd,{className:"w-6 h-6 text-red-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prximos Vencimentos"}),h.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S.length}),h.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Prximos 15 dias"})]}),h.jsx("div",{className:"p-3 bg-yellow-50 rounded-full",children:h.jsx(Do,{className:"w-6 h-6 text-yellow-600"})})]})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Obrigaes Pendentes"}),h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.length}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Declaraes"})]}),h.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:h.jsx(J3,{className:"w-6 h-6 text-blue-600"})})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Impostos do Perodo"}),h.jsx(jc,{className:"w-5 h-5 text-gray-400"})]}),h.jsx("div",{className:"space-y-4",children:Object.entries(u.impostos).map(([j,k])=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`p-2 rounded-full ${k.status==="pago"?"bg-green-50":new Date(k.vencimento)<new Date?"bg-red-50":"bg-yellow-50"}`,children:k.status==="pago"?h.jsx(Uo,{className:"w-4 h-4 text-green-600"}):new Date(k.vencimento)<new Date?h.jsx(Bd,{className:"w-4 h-4 text-red-600"}):h.jsx(Do,{className:"w-4 h-4 text-yellow-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.toUpperCase()}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Vencimento: ",l(k.vencimento)]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(k.valor)}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k.status==="pago"?"bg-green-100 text-green-700":new Date(k.vencimento)<new Date?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:k.status==="pago"?"Pago":new Date(k.vencimento)<new Date?"Vencido":"Pendente"})]})]},j))})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"DRE - Demonstrao do Resultado"}),h.jsx(Lo,{className:"w-5 h-5 text-gray-400"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Receita Bruta"}),h.jsx("span",{className:"text-sm font-medium text-green-600",children:o(u.dre.receitaBruta)})]}),h.jsxs("div",{className:"flex justify-between items-center py-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"(-) Dedues"}),h.jsx("span",{className:"text-sm font-medium text-red-600",children:o(u.dre.deducoes)})]}),h.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[h.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Receita Lquida"}),h.jsx("span",{className:"text-sm font-bold text-blue-600",children:o(u.dre.receitaLiquida)})]}),h.jsxs("div",{className:"flex justify-between items-center py-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"(-) Custos"}),h.jsx("span",{className:"text-sm font-medium text-red-600",children:o(u.dre.custos)})]}),h.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[h.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Lucro Operacional"}),h.jsx("span",{className:"text-sm font-bold text-green-600",children:o(u.dre.lucroOperacional)})]}),h.jsxs("div",{className:"flex justify-between items-center py-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"(-) Despesas Operacionais"}),h.jsx("span",{className:"text-sm font-medium text-red-600",children:o(u.dre.despesasOperacionais)})]}),h.jsxs("div",{className:"flex justify-between items-center py-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"(-) Impostos"}),h.jsx("span",{className:"text-sm font-medium text-red-600",children:o(u.dre.impostos)})]}),h.jsxs("div",{className:"flex justify-between items-center py-2 border-t-2 border-gray-300",children:[h.jsx("span",{className:"text-base font-bold text-gray-900",children:"Lucro Lquido"}),h.jsx("span",{className:"text-base font-bold text-green-600",children:o(u.dre.lucroLiquido)})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Obrigaes Fiscais"}),h.jsx("div",{className:"space-y-4",children:u.obrigacoes.map((j,k)=>h.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[h.jsx("div",{className:`p-2 rounded-full ${j.status==="cumprida"?"bg-green-50":j.status==="atrasado"?"bg-red-50":"bg-yellow-50"}`,children:j.status==="cumprida"?h.jsx(Uo,{className:"w-4 h-4 text-green-600"}):j.status==="atrasado"?h.jsx(Bd,{className:"w-4 h-4 text-red-600"}):h.jsx(Do,{className:"w-4 h-4 text-yellow-600"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.nome}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${j.status==="cumprida"?"bg-green-100 text-green-700":j.status==="atrasado"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:j.status==="cumprida"?"Cumprida":j.status==="atrasado"?"Atrasada":"Pendente"})]}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.descricao}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Prazo: ",l(j.prazo)]})]})]},k))})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Relatrios Disponveis"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{className:"w-full flex items-center justify-between p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Oy,{className:"w-5 h-5 text-blue-600"}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"DRE Completa"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Demonstrao do Resultado do Exerccio"})]})]}),h.jsx(oa,{className:"w-4 h-4 text-gray-400"})]}),h.jsxs("button",{className:"w-full flex items-center justify-between p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Lo,{className:"w-5 h-5 text-green-600"}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Balano Patrimonial"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Posio financeira da clnica"})]})]}),h.jsx(oa,{className:"w-4 h-4 text-gray-400"})]}),h.jsxs("button",{className:"w-full flex items-center justify-between p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(jc,{className:"w-5 h-5 text-red-600"}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Relatrio de Impostos"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Detalhamento de todos os impostos"})]})]}),h.jsx(oa,{className:"w-4 h-4 text-gray-400"})]}),h.jsxs("button",{className:"w-full flex items-center justify-between p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(EO,{className:"w-5 h-5 text-purple-600"}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Compliance Report"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Relatrio de conformidade fiscal"})]})]}),h.jsx(oa,{className:"w-4 h-4 text-gray-400"})]}),h.jsxs("button",{className:"w-full flex items-center justify-between p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(D3,{className:"w-5 h-5 text-orange-600"}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Backup Fiscal"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Arquivo completo para contabilidade"})]})]}),h.jsx(oa,{className:"w-4 h-4 text-gray-400"})]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Centro de Aes Fiscais"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(Bd,{className:"w-5 h-5 text-yellow-600"}),h.jsx("h4",{className:"font-medium text-yellow-800",children:"Ateno Necessria"})]}),h.jsxs("p",{className:"text-sm text-yellow-700 mb-3",children:[w.length," imposto",w.length!==1?"s":""," vencido",w.length!==1?"s":""," e ",R.filter(j=>j.status==="atrasado").length," obrigao atrasada"]}),h.jsx("button",{className:"text-sm bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700 transition-colors",children:"Ver Detalhes"})]}),h.jsxs("div",{className:"p-4 border border-blue-200 bg-blue-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(aO,{className:"w-5 h-5 text-blue-600"}),h.jsx("h4",{className:"font-medium text-blue-800",children:"Prximos Vencimentos"})]}),h.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:[S.length," imposto",S.length!==1?"s":""," vence",S.length===1?"":"m"," nos prximos 15 dias"]}),h.jsx("button",{className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",children:"Programar Pagamento"})]}),h.jsxs("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(Py,{className:"w-5 h-5 text-green-600"}),h.jsx("h4",{className:"font-medium text-green-800",children:"Otimizao Fiscal"})]}),h.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Anlise de oportunidades de economia tributria disponvel"}),h.jsx("button",{className:"text-sm bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition-colors",children:"Analisar"})]})]})]})]})},fP=()=>{var D;const[r,e]=L.useState("categorias"),{categorias:t,adicionarCategoriaReceita:a,adicionarCategoriaDespesa:o,removerCategoriaReceita:l,removerCategoriaDespesa:u}=zy(),{profissionais:m,adicionarProfissional:p,atualizarProfissional:y,removerProfissional:x}=$T(),[T,w]=L.useState(""),[S,R]=L.useState("receitas"),[j,k]=L.useState(!1),[B,Y]=L.useState(null),[X,ie]=L.useState({nome:"",especialidade:"",crm:"",email:"",telefone:""}),ue=async()=>{if(T.trim())try{S==="receitas"?await a(T.trim()):await o(T.trim()),w("")}catch(de){console.error("Erro ao adicionar categoria:",de)}},ve=async(de,De)=>{if(window.confirm(`Tem certeza que deseja remover a categoria "${de}"?`))try{De==="receitas"?await l(de):await u(de)}catch(Q){console.error("Erro ao remover categoria:",Q)}},M=async de=>{de.preventDefault();try{B?await y(B.id,X):await p(X),k(!1),Y(null),ie({nome:"",especialidade:"",crm:"",email:"",telefone:""})}catch(De){console.error("Erro ao salvar profissional:",De)}},E=de=>{Y(de),ie({nome:de.nome,especialidade:de.especialidade,crm:de.crm,email:de.email||"",telefone:de.telefone||""}),k(!0)},I=async de=>{if(window.confirm("Tem certeza que deseja remover este profissional?"))try{await x(de)}catch(De){console.error("Erro ao remover profissional:",De)}},P=()=>{try{const de=Op.exportData(),De=new Blob([de],{type:"application/json"}),Q=URL.createObjectURL(De),oe=document.createElement("a");oe.href=Q,oe.download=`clinica-finance-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(Q)}catch(de){console.error("Erro ao exportar dados:",de),alert("Erro ao exportar dados")}},z=de=>{const De=de.target.files[0];if(!De)return;const Q=new FileReader;Q.onload=oe=>{try{Op.importData(oe.target.result)?(alert("Dados importados com sucesso!"),window.location.reload()):alert("Erro ao importar dados")}catch(se){console.error("Erro ao importar dados:",se),alert("Erro ao importar dados")}},Q.readAsText(De)},C=()=>{if(window.confirm("Tem certeza que deseja limpar todos os dados? Esta ao no pode ser desfeita."))try{Op.clearAllData(),alert("Dados limpos com sucesso!"),window.location.reload()}catch(de){console.error("Erro ao limpar dados:",de),alert("Erro ao limpar dados")}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraes"}),h.jsx("p",{className:"text-gray-600",children:"Gerencie as configuraes do sistema"})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsxs("button",{onClick:()=>e("categorias"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="categorias"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(RO,{className:"h-4 w-4 inline mr-2"}),"Categorias"]}),h.jsxs("button",{onClick:()=>e("profissionais"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="profissionais"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(Ih,{className:"h-4 w-4 inline mr-2"}),"Profissionais"]}),h.jsxs("button",{onClick:()=>e("sistema"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="sistema"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(pg,{className:"h-4 w-4 inline mr-2"}),"Sistema"]})]})}),r==="categorias"&&h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[h.jsxs("div",{className:"flex space-x-4 mb-4",children:[h.jsx("button",{onClick:()=>R("receitas"),className:`px-4 py-2 rounded-lg ${S==="receitas"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Categorias de Receitas"}),h.jsx("button",{onClick:()=>R("despesas"),className:`px-4 py-2 rounded-lg ${S==="despesas"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Categorias de Despesas"})]}),h.jsxs("div",{className:"flex gap-2 mb-4",children:[h.jsx("input",{type:"text",placeholder:`Nova categoria de ${S}`,value:T,onChange:de=>w(de.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:de=>de.key==="Enter"&&ue()}),h.jsxs("button",{onClick:ue,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[h.jsx(Ch,{className:"h-4 w-4"}),"Adicionar"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:(D=S==="receitas"?t.receitas:t.despesas)==null?void 0:D.map(de=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[h.jsx("span",{className:"text-sm font-medium text-gray-900",children:de}),h.jsx("button",{onClick:()=>ve(de,S),className:"text-red-600 hover:text-red-900",children:h.jsx(Dc,{className:"h-4 w-4"})})]},de))})]})}),r==="profissionais"&&h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profissionais da Clnica"}),h.jsxs("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[h.jsx(Ch,{className:"h-4 w-4"}),"Novo Profissional"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(de=>h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:de.nome}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("button",{onClick:()=>E(de),className:"text-blue-600 hover:text-blue-900",children:h.jsx(My,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>I(de.id),className:"text-red-600 hover:text-red-900",children:h.jsx(Dc,{className:"h-4 w-4"})})]})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:de.especialidade}),h.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["CRM: ",de.crm]}),de.email&&h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:de.email}),de.telefone&&h.jsx("p",{className:"text-sm text-gray-600",children:de.telefone})]},de.id))})]})}),r==="sistema"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backup e Restaurao"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Exportar Dados"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Faa backup de todos os seus dados (receitas, despesas, categorias e profissionais)."}),h.jsxs("button",{onClick:P,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[h.jsx(oa,{className:"h-4 w-4"}),"Exportar Dados"]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Importar Dados"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Restaure seus dados a partir de um arquivo de backup."}),h.jsxs("label",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 cursor-pointer inline-flex",children:[h.jsx(OO,{className:"h-4 w-4"}),"Importar Dados",h.jsx("input",{type:"file",accept:".json",onChange:z,className:"hidden"})]})]}),h.jsxs("div",{className:"border-t pt-4",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Limpar Dados"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Remove todos os dados do sistema. Esta ao no pode ser desfeita."}),h.jsxs("button",{onClick:C,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[h.jsx(Dc,{className:"h-4 w-4"}),"Limpar Todos os Dados"]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informaes do Sistema"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Verso:"})," 1.0.0"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Armazenamento:"})," LocalStorage (Navegador)"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"ltima atualizao:"})," ",new Date().toLocaleDateString("pt-BR")]})]})]})]}),j&&h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:h.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:h.jsxs("div",{className:"mt-3",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:B?"Editar Profissional":"Novo Profissional"}),h.jsxs("form",{onSubmit:M,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),h.jsx("input",{type:"text",value:X.nome,onChange:de=>ie({...X,nome:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Especialidade"}),h.jsx("input",{type:"text",value:X.especialidade,onChange:de=>ie({...X,especialidade:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CRM"}),h.jsx("input",{type:"text",value:X.crm,onChange:de=>ie({...X,crm:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:X.email,onChange:de=>ie({...X,email:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),h.jsx("input",{type:"tel",value:X.telefone,onChange:de=>ie({...X,telefone:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>{k(!1),Y(null),ie({nome:"",especialidade:"",crm:"",email:"",telefone:""})},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:B?"Atualizar":"Salvar"})]})]})]})})})]})};function mP(){return h.jsx(HA,{children:h.jsx(E3,{children:h.jsxs("div",{className:"App",children:[h.jsxs(_A,{children:[h.jsx(Kn,{path:"/login",element:h.jsx(zO,{})}),h.jsxs(Kn,{path:"/",element:h.jsx(T3,{children:h.jsx(DM,{})}),children:[h.jsx(Kn,{index:!0,element:h.jsx(Pp,{to:"/dashboard",replace:!0})}),h.jsx(Kn,{path:"dashboard",element:h.jsx(kM,{})}),h.jsx(Kn,{path:"receitas",element:h.jsx(lP,{})}),h.jsx(Kn,{path:"despesas",element:h.jsx(cP,{})}),h.jsx(Kn,{path:"fluxo-caixa",element:h.jsx(uP,{})}),h.jsx(Kn,{path:"relatorios",element:h.jsx(dP,{})}),h.jsx(Kn,{path:"fiscal",element:h.jsx(hP,{})}),h.jsx(Kn,{path:"configuracoes",element:h.jsx(fP,{})})]}),h.jsx(Kn,{path:"*",element:h.jsx(Pp,{to:"/dashboard",replace:!0})})]}),h.jsx(FN,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})})})}AS.createRoot(document.getElementById("root")).render(h.jsx(L.StrictMode,{children:h.jsx(mP,{})}));
